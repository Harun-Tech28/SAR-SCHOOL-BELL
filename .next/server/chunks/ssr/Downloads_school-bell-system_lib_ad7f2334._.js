module.exports=[16313,a=>{"use strict";a.s(["PRAYER_PHRASES",0,{fajr:{arabic:"Ø­ÙŠ Ø¹Ù„Ù‰ Ø§Ù„ØµÙ„Ø§Ø©ØŒ Ø­ÙŠ Ø¹Ù„Ù‰ Ø§Ù„ÙÙ„Ø§Ø­ØŒ Ø§Ù„ØµÙ„Ø§Ø© Ø®ÙŠØ± Ù…Ù† Ø§Ù„Ù†ÙˆÙ…",transliteration:"Hayya 'ala as-salah, hayya 'ala al-falah, as-salatu khayrun min an-nawm",english:"Come to prayer, come to success, prayer is better than sleep"},dhuhr:{arabic:"Ø­ÙŠ Ø¹Ù„Ù‰ Ø§Ù„ØµÙ„Ø§Ø©ØŒ Ø­ÙŠ Ø¹Ù„Ù‰ Ø§Ù„ÙÙ„Ø§Ø­",transliteration:"Hayya 'ala as-salah, hayya 'ala al-falah",english:"Come to prayer, come to success"},asr:{arabic:"Ø­ÙŠ Ø¹Ù„Ù‰ Ø§Ù„ØµÙ„Ø§Ø©ØŒ Ø­ÙŠ Ø¹Ù„Ù‰ Ø§Ù„ÙÙ„Ø§Ø­",transliteration:"Hayya 'ala as-salah, hayya 'ala al-falah",english:"Come to prayer, come to success"},maghrib:{arabic:"Ø­ÙŠ Ø¹Ù„Ù‰ Ø§Ù„ØµÙ„Ø§Ø©ØŒ Ø­ÙŠ Ø¹Ù„Ù‰ Ø§Ù„ÙÙ„Ø§Ø­",transliteration:"Hayya 'ala as-salah, hayya 'ala al-falah",english:"Come to prayer, come to success"},isha:{arabic:"Ø­ÙŠ Ø¹Ù„Ù‰ Ø§Ù„ØµÙ„Ø§Ø©ØŒ Ø­ÙŠ Ø¹Ù„Ù‰ Ø§Ù„ÙÙ„Ø§Ø­",transliteration:"Hayya 'ala as-salah, hayya 'ala al-falah",english:"Come to prayer, come to success"}},"PROVIDER_COSTS",0,{openai:.015,elevenlabs:.3,azure:.016},"generateCacheKey",0,(a,b,c)=>{let d=btoa(a+b+c).replace(/[^a-zA-Z0-9]/g,"").substring(0,32);return`ai-voice-${c}-${b}-${d}`}])},94193,a=>{"use strict";var b=a.i(16313);class c{TAKBIR="Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø± Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±";TAKBIR_TRANSLITERATION="Allahu Akbar Allahu Akbar";TAKBIR_ENGLISH="Allah is the Greatest, Allah is the Greatest";BASMALA="Ø¨Ø³Ù… Ø§Ù„Ù„Ù‡ Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø±Ø­ÙŠÙ…";BASMALA_TRANSLITERATION="Bismillah ar-Rahman ar-Raheem";BASMALA_ENGLISH="In the name of Allah, the Most Gracious, the Most Merciful";SHAHADA="Ø£Ø´Ù‡Ø¯ Ø£Ù† Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ØŒ Ø£Ø´Ù‡Ø¯ Ø£Ù† Ù…Ø­Ù…Ø¯Ø§Ù‹ Ø±Ø³ÙˆÙ„ Ø§Ù„Ù„Ù‡";SHAHADA_TRANSLITERATION="Ashhadu an la ilaha illa Allah, Ashhadu anna Muhammadan rasul Allah";SHAHADA_ENGLISH="I bear witness that there is no god but Allah, I bear witness that Muhammad is the messenger of Allah";generatePrayerCall(a,b={}){let c={includeArabic:!0,includeTransliteration:!0,includeEnglish:!0,includeBasmala:!1,includeTakbir:!0,customMessage:"",voiceStyle:"traditional",...b},d=a.toLowerCase(),e=[],f="",g="",h="";c.includeBasmala&&(c.includeArabic&&(f+=this.BASMALA+". "),c.includeTransliteration&&(g+=this.BASMALA_TRANSLITERATION+". "),c.includeEnglish&&(h+=this.BASMALA_ENGLISH+". "),e.push("basmala")),c.includeTakbir&&(c.includeArabic&&(f+=this.TAKBIR+". "),c.includeTransliteration&&(g+=this.TAKBIR_TRANSLITERATION+". "),c.includeEnglish&&(h+=this.TAKBIR_ENGLISH+". "),e.push("takbir"));let i=this.getPrayerSpecificContent(d);i&&(c.includeArabic&&(f+=i.arabic+". "),c.includeTransliteration&&(g+=i.transliteration+". "),c.includeEnglish&&(h+=i.english+". "),e.push("prayer-call")),"traditional"===c.voiceStyle&&(c.includeArabic&&(f+=this.SHAHADA+". "),c.includeTransliteration&&(g+=this.SHAHADA_TRANSLITERATION+". "),c.includeEnglish&&(h+=this.SHAHADA_ENGLISH+". "),e.push("shahada"));let j=this.getPrayerTimeAnnouncement(d);c.includeEnglish&&(h+=j+". "),e.push("time-announcement"),c.customMessage&&(c.includeEnglish&&(h+=c.customMessage+". "),e.push("custom-message"));let k=this.createCombinedText(f.trim(),g.trim(),h.trim(),c.voiceStyle);return{arabic:f.trim(),transliteration:g.trim(),english:h.trim(),combined:k,metadata:{prayer:a,timestamp:Date.now(),style:c.voiceStyle,components:e}}}getPrayerSpecificContent(a){let c=b.PRAYER_PHRASES[a];return c?{arabic:c.arabic,transliteration:c.transliteration,english:c.english}:null}getPrayerTimeAnnouncement(a){return({fajr:"Fajr prayer time",dhuhr:"Dhuhr prayer time",asr:"Asr prayer time",maghrib:"Maghrib prayer time",isha:"Isha prayer time"})[a]||`${a.charAt(0).toUpperCase()+a.slice(1)} prayer time`}createCombinedText(a,b,c,d){switch(d){case"traditional":return[a,b,c].filter(Boolean).join(" ");case"modern":default:return[a,c].filter(Boolean).join(" ");case"simple":return c}}generateContextualPrayerCall(a,b,c={}){b.getHours();let d={...c};switch(a.toLowerCase()){case"fajr":d.customMessage="Wake up for the dawn prayer. Prayer is better than sleep.";break;case"dhuhr":d.customMessage="Take a break from your activities for the noon prayer.";break;case"asr":d.customMessage="Time for the afternoon prayer before sunset.";break;case"maghrib":d.customMessage="The sun has set. Time for Maghrib prayer.";break;case"isha":d.customMessage="Complete your day with the night prayer."}return this.generatePrayerCall(a,d)}generateSchoolPrayerCall(a,b={},c={}){let d={...c};if(b.isSchoolHours&&b.hasStudents){let b={fajr:"Students and staff, it's time for Fajr prayer before school begins.",dhuhr:"Students and staff, please proceed to the prayer area for Dhuhr prayer.",asr:"Students and staff, time for Asr prayer. Classes will resume after prayer.",maghrib:"Students and staff, Maghrib prayer time. School day is ending.",isha:"Students and staff, time for Isha prayer before going home."}[a.toLowerCase()];b&&(d.customMessage=b)}return b.location&&(d.customMessage=(d.customMessage||"")+` Please gather at ${b.location}.`),this.generatePrayerCall(a,d)}generateMultilingualPrayerCall(a,b,c={}){let d={};for(let e of b){let b={...c};switch(e){case"arabic":b.includeArabic=!0,b.includeEnglish=!1,b.includeTransliteration=!1;break;case"english":b.includeArabic=!1,b.includeEnglish=!0,b.includeTransliteration=!0;break;case"hausa":case"twi":b.includeArabic=!0,b.includeEnglish=!0,b.includeTransliteration=!0,b.customMessage=this.getLocalLanguageGreeting(e,a)}d[e]=this.generatePrayerCall(a,b)}return d}getLocalLanguageGreeting(a,b){return({hausa:{fajr:"Lokacin sallah ta asuba ya yi. Ku zo mu yi sallah.",dhuhr:"Lokacin sallah ta rana ya yi. Ku zo mu yi sallah.",asr:"Lokacin sallah ta yamma ya yi. Ku zo mu yi sallah.",maghrib:"Lokacin sallah ta magariba ya yi. Ku zo mu yi sallah.",isha:"Lokacin sallah ta dare ya yi. Ku zo mu yi sallah."},twi:{fajr:"AnÉ”pa mpaebÉ” berÉ› aso. Mommra yÉ›n kÉ” bÉ” mpae.",dhuhr:"Awia mpaebÉ” berÉ› aso. Mommra yÉ›n kÉ” bÉ” mpae.",asr:"Anwummere mpaebÉ” berÉ› aso. Mommra yÉ›n kÉ” bÉ” mpae.",maghrib:"Anwummere mpaebÉ” berÉ› aso. Mommra yÉ›n kÉ” bÉ” mpae.",isha:"Anadwo mpaebÉ” berÉ› aso. Mommra yÉ›n kÉ” bÉ” mpae."}})[a]?.[b.toLowerCase()]||`Time for ${b} prayer. Come and pray.`}validatePrayerCall(a){let b=[],c=[];return a.combined.trim()||b.push("Prayer call content is empty"),a.metadata.components.includes("prayer-call")||c.push("Prayer call does not include traditional prayer phrases"),a.metadata.components.includes("time-announcement")||c.push("Prayer call does not include time announcement"),a.arabic&&!this.containsArabicText(a.arabic)&&c.push("Arabic content may not contain proper Arabic text"),a.combined.length>1e3&&c.push("Prayer call content is very long and may affect voice generation quality"),{valid:0===b.length,errors:b,warnings:c}}containsArabicText(a){return/[\u0600-\u06FF]/.test(a)}getContentStatistics(a){let b=a.combined.split(/\s+/).filter(a=>a.length>0);return{totalLength:a.combined.length,arabicLength:a.arabic.length,englishLength:a.english.length,wordCount:b.length,estimatedDuration:Math.ceil(.6*b.length),components:a.metadata.components}}}let d=null,e=()=>(d||(d=new c),d);a.s(["PrayerCallGenerator",()=>c,"generateSchoolPrayerCall",0,(a,b=!0)=>e().generateSchoolPrayerCall(a,{isSchoolHours:b,hasStudents:!0,location:"prayer area"}).combined,"generateSimplePrayerCall",0,a=>e().generatePrayerCall(a,{voiceStyle:"simple",includeArabic:!1,includeTransliteration:!1,includeEnglish:!0}).combined,"generateTraditionalPrayerCall",0,a=>e().generatePrayerCall(a,{voiceStyle:"traditional",includeBasmala:!0,includeTakbir:!0}).combined,"getPrayerCallGenerator",0,e])},82924,29965,63941,a=>{"use strict";var b=a.i(8878);a.s(["VOICE_OPTIONS",()=>p,"generateAIVoice",()=>r,"getTTSStatus",()=>v,"playAnnouncement",()=>w,"playAudioBuffer",()=>s,"playAzanCall",()=>x,"playBrowserTTS",()=>t,"playTextToSpeech",()=>q,"translateMessage",()=>u],29965);class c extends Error{provider;code;retryable;constructor(a,b,c,d=!1){super(a),this.provider=b,this.code=c,this.retryable=d,this.name="AIVoiceError"}}class d extends c{constructor(a,b){super(`Rate limit exceeded for ${a}`,a,"RATE_LIMIT",!0),this.retryAfter=b}retryAfter}class e extends c{constructor(a){super(`Authentication failed for ${a}`,a,"AUTH_FAILED",!1)}}class f extends c{constructor(a){super(`Service unavailable for ${a}`,a,"SERVICE_UNAVAILABLE",!0)}}var g=a.i(16313);class h{name="OpenAI TTS";apiKey;baseUrl="https://api.openai.com/v1";constructor(a){this.apiKey=a}async generateSpeech(a,b){if(!this.apiKey)throw new e("OpenAI");let d={model:"tts-1",input:a,voice:this.mapVoiceId(b.voice),response_format:"mp3",speed:Math.max(.25,Math.min(4,b.speed))};try{let a=await fetch(`${this.baseUrl}/audio/speech`,{method:"POST",headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json"},body:JSON.stringify(d)});a.ok||await this.handleErrorResponse(a);let b=await a.arrayBuffer();return await this.convertMp3ToAudioBuffer(b)}catch(a){if(a instanceof c)throw a;throw new f("OpenAI")}}async getAvailableVoices(){return[{id:"openai-alloy",name:"Alloy",language:"english",gender:"neutral",category:"standard",provider:"openai"},{id:"openai-echo",name:"Echo",language:"english",gender:"male",category:"announcement",provider:"openai"},{id:"openai-fable",name:"Fable",language:"english",gender:"neutral",category:"standard",provider:"openai"},{id:"openai-onyx",name:"Onyx",language:"english",gender:"male",category:"announcement",provider:"openai"},{id:"openai-nova",name:"Nova",language:"english",gender:"female",category:"standard",provider:"openai"},{id:"openai-shimmer",name:"Shimmer",language:"english",gender:"female",category:"announcement",provider:"openai"}]}async validateCredentials(){if(!this.apiKey)return!1;try{let a=await fetch(`${this.baseUrl}/audio/speech`,{method:"POST",headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json"},body:JSON.stringify({model:"tts-1",input:"test",voice:"alloy",response_format:"mp3"})});return a.ok||400===a.status}catch(a){return!1}}estimateCost(a,b){return a.length/1e3*g.PROVIDER_COSTS.openai}mapVoiceId(a){return({"openai-alloy":"alloy","openai-echo":"echo","openai-fable":"fable","openai-onyx":"onyx","openai-nova":"nova","openai-shimmer":"shimmer"})[a]||"alloy"}async handleErrorResponse(a){let b=await a.text(),g={};try{g=JSON.parse(b)}catch{}switch(a.status){case 401:throw new e("OpenAI");case 429:let h=a.headers.get("retry-after");throw new d("OpenAI",h?parseInt(h):void 0);case 500:case 502:case 503:case 504:throw new f("OpenAI");default:throw new c(g.error?.message||`OpenAI API error: ${a.status}`,"OpenAI",`HTTP_${a.status}`,a.status>=500)}}async convertMp3ToAudioBuffer(a){let b=new(window.AudioContext||window.webkitAudioContext);try{return await b.decodeAudioData(a.slice(0))}catch(a){throw new c("Failed to decode audio data from OpenAI","OpenAI","DECODE_ERROR",!1)}}isLanguageSupported(a){return["english","spanish","french","german","italian","portuguese","russian","japanese","korean","chinese","arabic","hindi","dutch"].includes(a.toLowerCase())}getMaxCharacters(){return 4096}getSupportedFormats(){return["mp3","opus","aac","flac"]}updateApiKey(a){this.apiKey=a}getApiKeyMask(){return this.apiKey?this.apiKey.substring(0,7)+"..."+this.apiKey.substring(this.apiKey.length-4):""}}class i{name="ElevenLabs";apiKey;baseUrl="https://api.elevenlabs.io/v1";constructor(a){this.apiKey=a}async generateSpeech(a,b){if(!this.apiKey)throw new e("ElevenLabs");let d=this.mapVoiceId(b.voice),g={text:a,model_id:"eleven_monolingual_v1",voice_settings:{stability:b.stability||.5,similarity_boost:b.clarity||.75,style:0,use_speaker_boost:!0}};try{let a=await fetch(`${this.baseUrl}/text-to-speech/${d}`,{method:"POST",headers:{Accept:"audio/mpeg","Content-Type":"application/json","xi-api-key":this.apiKey},body:JSON.stringify(g)});a.ok||await this.handleErrorResponse(a);let b=await a.arrayBuffer();return await this.convertMp3ToAudioBuffer(b)}catch(a){if(a instanceof c)throw a;throw new f("ElevenLabs")}}async getAvailableVoices(){if(!this.apiKey)return this.getDefaultVoices();try{let a=await fetch(`${this.baseUrl}/voices`,{headers:{"xi-api-key":this.apiKey}});if(!a.ok)return this.getDefaultVoices();let b=await a.json();return this.mapElevenLabsVoices(b.voices||[])}catch(a){return this.getDefaultVoices()}}async validateCredentials(){if(!this.apiKey)return!1;try{return(await fetch(`${this.baseUrl}/user`,{headers:{"xi-api-key":this.apiKey}})).ok}catch(a){return!1}}estimateCost(a,b){return a.length/1e3*g.PROVIDER_COSTS.elevenlabs}getDefaultVoices(){return[{id:"elevenlabs-rachel",name:"Rachel",language:"english",gender:"female",accent:"american",category:"standard",provider:"elevenlabs"},{id:"elevenlabs-drew",name:"Drew",language:"english",gender:"male",accent:"american",category:"announcement",provider:"elevenlabs"},{id:"elevenlabs-clyde",name:"Clyde",language:"english",gender:"male",accent:"american",category:"standard",provider:"elevenlabs"},{id:"elevenlabs-paul",name:"Paul",language:"english",gender:"male",accent:"american",category:"announcement",provider:"elevenlabs"},{id:"elevenlabs-domi",name:"Domi",language:"english",gender:"female",accent:"american",category:"standard",provider:"elevenlabs"},{id:"elevenlabs-dave",name:"Dave",language:"english",gender:"male",accent:"british",category:"announcement",provider:"elevenlabs"}]}mapElevenLabsVoices(a){return a.map(a=>({id:`elevenlabs-${a.voice_id}`,name:a.name,language:this.detectLanguage(a.labels||{}),gender:this.detectGender(a.labels||{}),accent:this.detectAccent(a.labels||{}),category:this.detectCategory(a.labels||{}),provider:"elevenlabs",previewUrl:a.preview_url}))}detectLanguage(a){return(a.language||a.accent||"english").toLowerCase()}detectGender(a){let b=a.gender||a.sex||"";return b.toLowerCase().includes("male")?"male":b.toLowerCase().includes("female")?"female":"neutral"}detectAccent(a){return a.accent||a.region||void 0}detectCategory(a){let b=(a.description||"").toLowerCase(),c=(a.use_case||"").toLowerCase();return b.includes("announcement")||c.includes("announcement")?"announcement":b.includes("religious")||c.includes("religious")?"religious":b.includes("bell")||c.includes("bell")?"bell":"standard"}mapVoiceId(a){return 20!==a.length||a.includes("-")?({"elevenlabs-rachel":"21m00Tcm4TlvDq8ikWAM","elevenlabs-drew":"29vD33N1CtxCmqQRPOHJ","elevenlabs-clyde":"2EiwWnXFnvU5JabPnv8n","elevenlabs-paul":"5Q0t7uMcjvnagumLfvZi","elevenlabs-domi":"AZnzlk1XvdvUeBnXmlld","elevenlabs-dave":"CYw3kZ02Hs0563khs1Fj"})[a]||"21m00Tcm4TlvDq8ikWAM":a}async handleErrorResponse(a){let b=await a.text(),g={};try{g=JSON.parse(b)}catch{}switch(a.status){case 401:throw new e("ElevenLabs");case 429:let h=a.headers.get("retry-after");throw new d("ElevenLabs",h?parseInt(h):void 0);case 500:case 502:case 503:case 504:throw new f("ElevenLabs");default:throw new c(g.detail?.message||g.message||`ElevenLabs API error: ${a.status}`,"ElevenLabs",`HTTP_${a.status}`,a.status>=500)}}async convertMp3ToAudioBuffer(a){let b=new(window.AudioContext||window.webkitAudioContext);try{return await b.decodeAudioData(a.slice(0))}catch(a){throw new c("Failed to decode audio data from ElevenLabs","ElevenLabs","DECODE_ERROR",!1)}}isLanguageSupported(a){return["english","spanish","french","german","italian","portuguese","polish","hindi","arabic","japanese","korean","chinese"].includes(a.toLowerCase())}getMaxCharacters(){return 5e3}getSupportedFormats(){return["mp3","wav","ogg"]}updateApiKey(a){this.apiKey=a}getApiKeyMask(){return this.apiKey?this.apiKey.substring(0,7)+"..."+this.apiKey.substring(this.apiKey.length-4):""}async getVoiceSettings(a){if(!this.apiKey)throw new e("ElevenLabs");try{let b=await fetch(`${this.baseUrl}/voices/${a}/settings`,{headers:{"xi-api-key":this.apiKey}});if(!b.ok)throw new c("Failed to get voice settings","ElevenLabs","SETTINGS_ERROR",!1);return await b.json()}catch(a){if(a instanceof c)throw a;throw new f("ElevenLabs")}}async getUserInfo(){if(!this.apiKey)throw new e("ElevenLabs");try{let a=await fetch(`${this.baseUrl}/user`,{headers:{"xi-api-key":this.apiKey}});if(!a.ok)throw new c("Failed to get user info","ElevenLabs","USER_INFO_ERROR",!1);return await a.json()}catch(a){if(a instanceof c)throw a;throw new f("ElevenLabs")}}}class j{name="Azure Cognitive Services";apiKey;region;baseUrl;constructor(a,b){if(this.apiKey=a,b){const a=b.match(/https:\/\/([^.]+)\.tts\.speech\.microsoft\.com/);this.region=a?a[1]:"eastus",this.baseUrl=b}else this.region="eastus",this.baseUrl=`https://${this.region}.tts.speech.microsoft.com`}async generateSpeech(a,b){if(!this.apiKey)throw new e("Azure");let d=await this.getAccessToken(),g=this.mapVoiceId(b.voice),h=this.generateSSML(a,g,b);try{let a=await fetch(`${this.baseUrl}/cognitiveservices/v1`,{method:"POST",headers:{Authorization:`Bearer ${d}`,"Content-Type":"application/ssml+xml","X-Microsoft-OutputFormat":"audio-16khz-128kbitrate-mono-mp3","User-Agent":"SchoolBellSystem"},body:h});a.ok||await this.handleErrorResponse(a);let b=await a.arrayBuffer();return await this.convertMp3ToAudioBuffer(b)}catch(a){if(a instanceof c)throw a;throw new f("Azure")}}async getAvailableVoices(){if(!this.apiKey)return this.getDefaultVoices();try{let a=await this.getAccessToken(),b=await fetch(`${this.baseUrl}/cognitiveservices/voices/list`,{headers:{Authorization:`Bearer ${a}`}});if(!b.ok)return this.getDefaultVoices();let c=await b.json();return this.mapAzureVoices(c)}catch(a){return this.getDefaultVoices()}}async validateCredentials(){if(!this.apiKey)return!1;try{return!!await this.getAccessToken()}catch(a){return!1}}estimateCost(a,b){return a.length/1e3*g.PROVIDER_COSTS.azure}async getAccessToken(){let a=`https://${this.region}.api.cognitive.microsoft.com/sts/v1.0/issueToken`;try{let b=await fetch(a,{method:"POST",headers:{"Ocp-Apim-Subscription-Key":this.apiKey,"Content-Type":"application/x-www-form-urlencoded"},body:""});if(!b.ok){if(401===b.status||403===b.status)throw new e("Azure");throw new f("Azure")}return await b.text()}catch(a){if(a instanceof c)throw a;throw new f("Azure")}}generateSSML(a,b,c){let d=this.mapSpeedToRate(c.speed),e=this.mapPitchToSSML(c.pitch);return`
      <speak version="1.0" xmlns="http://www.w3.org/2001/10/synthesis" xml:lang="${b.locale}">
        <voice name="${b.name}">
          <prosody rate="${d}" pitch="${e}">
            ${this.escapeXML(a)}
          </prosody>
        </voice>
      </speak>
    `.trim()}mapSpeedToRate(a){return a<=.5?"x-slow":a<=.75?"slow":a<=1.25?"medium":a<=1.5?"fast":"x-fast"}mapPitchToSSML(a){return a<=.75?"low":a<=1.25?"medium":"high"}escapeXML(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}getDefaultVoices(){return[{id:"azure-jenny",name:"Jenny",language:"english",gender:"female",accent:"american",category:"standard",provider:"azure"},{id:"azure-guy",name:"Guy",language:"english",gender:"male",accent:"american",category:"announcement",provider:"azure"},{id:"azure-aria",name:"Aria",language:"english",gender:"female",accent:"american",category:"announcement",provider:"azure"},{id:"azure-davis",name:"Davis",language:"english",gender:"male",accent:"american",category:"standard",provider:"azure"},{id:"azure-jane",name:"Jane",language:"english",gender:"female",accent:"american",category:"standard",provider:"azure"},{id:"azure-jason",name:"Jason",language:"english",gender:"male",accent:"american",category:"announcement",provider:"azure"}]}mapAzureVoices(a){return a.filter(a=>"Neural"===a.VoiceType).map(a=>({id:`azure-${a.ShortName.toLowerCase().replace(/[^a-z0-9]/g,"-")}`,name:a.DisplayName,language:this.mapLocaleToLanguage(a.Locale),gender:a.Gender.toLowerCase(),accent:this.extractAccent(a.LocaleName),category:this.categorizeVoice(a.StyleList||[]),provider:"azure"})).slice(0,20)}mapLocaleToLanguage(a){return({"en-US":"english","en-GB":"english","en-AU":"english","en-CA":"english","es-ES":"spanish","es-MX":"spanish","fr-FR":"french","fr-CA":"french","de-DE":"german","it-IT":"italian","pt-BR":"portuguese","pt-PT":"portuguese","ru-RU":"russian","ja-JP":"japanese","ko-KR":"korean","zh-CN":"chinese","ar-SA":"arabic","hi-IN":"hindi","nl-NL":"dutch","sv-SE":"swedish"})[a]||"english"}extractAccent(a){return a.includes("United States")?"american":a.includes("United Kingdom")?"british":a.includes("Australia")?"australian":a.includes("Canada")?"canadian":void 0}categorizeVoice(a){let b=a.join(" ").toLowerCase();return b.includes("newscast")||b.includes("announcement")?"announcement":b.includes("religious")||b.includes("prayer")?"religious":"standard"}mapVoiceId(a){return({"azure-jenny":{name:"en-US-JennyNeural",locale:"en-US"},"azure-guy":{name:"en-US-GuyNeural",locale:"en-US"},"azure-aria":{name:"en-US-AriaNeural",locale:"en-US"},"azure-davis":{name:"en-US-DavisNeural",locale:"en-US"},"azure-jane":{name:"en-US-JaneNeural",locale:"en-US"},"azure-jason":{name:"en-US-JasonNeural",locale:"en-US"}})[a]||{name:"en-US-JennyNeural",locale:"en-US"}}async handleErrorResponse(a){let b=await a.text(),g={};try{g=JSON.parse(b)}catch{}switch(a.status){case 401:case 403:throw new e("Azure");case 429:let h=a.headers.get("retry-after");throw new d("Azure",h?parseInt(h):void 0);case 500:case 502:case 503:case 504:throw new f("Azure");default:throw new c(g.error?.message||`Azure API error: ${a.status}`,"Azure",`HTTP_${a.status}`,a.status>=500)}}async convertMp3ToAudioBuffer(a){let b=new(window.AudioContext||window.webkitAudioContext);try{return await b.decodeAudioData(a.slice(0))}catch(a){throw new c("Failed to decode audio data from Azure","Azure","DECODE_ERROR",!1)}}isLanguageSupported(a){return["english","spanish","french","german","italian","portuguese","russian","japanese","korean","chinese","arabic","hindi","dutch","swedish","norwegian","danish","finnish"].includes(a.toLowerCase())}getMaxCharacters(){return 1e4}getSupportedFormats(){return["mp3","wav","ogg","webm"]}updateCredentials(a,b){if(this.apiKey=a,b){let a=b.match(/https:\/\/([^.]+)\.tts\.speech\.microsoft\.com/);this.region=a?a[1]:"eastus",this.baseUrl=b}}getApiKeyMask(){return this.apiKey?this.apiKey.substring(0,7)+"..."+this.apiKey.substring(this.apiKey.length-4):""}getRegion(){return this.region}async getVoiceStyles(a){return["default","newscast","customerservice","chat","cheerful","empathetic"]}async getSpeechSynthesisMarkup(a,b,c){let d=c?.rate||"medium",e=c?.pitch||"medium",f=c?.volume||"medium",g=c?.style||"default";return`
      <speak version="1.0" xmlns="http://www.w3.org/2001/10/synthesis" xml:lang="en-US">
        <voice name="${b}">
          <mstts:express-as style="${g}">
            <prosody rate="${d}" pitch="${e}" volume="${f}">
              ${this.escapeXML(a)}
            </prosody>
          </mstts:express-as>
        </voice>
      </speak>
    `.trim()}}class k{static providers=new Map;static createProvider(a,b){let c,d=`${a}-${b.apiKey.substring(0,8)}`;if(this.providers.has(d))return this.providers.get(d);switch(a){case"openai":c=new h(b.apiKey);break;case"elevenlabs":c=new i(b.apiKey);break;case"azure":c=new j(b.apiKey,b.endpoint);break;default:throw Error(`Unknown provider type: ${a}`)}return this.providers.set(d,c),c}static getProvider(a,b){let c=`${a}-${b.apiKey.substring(0,8)}`;return this.providers.get(c)||null}static removeProvider(a,b){let c=`${a}-${b.apiKey.substring(0,8)}`;this.providers.delete(c)}static clearAllProviders(){this.providers.clear()}static getActiveProviders(){let a=[];for(let[b,c]of this.providers.entries()){let d=b.split("-")[0];a.push({type:d,provider:c})}return a}static async validateAllProviders(){let a={};for(let[b,c]of this.providers.entries())try{a[b]=await c.validateCredentials()}catch(c){a[b]=!1}return a}static getSupportedProviders(){return["openai","elevenlabs","azure"]}static isProviderSupported(a){return this.getSupportedProviders().includes(a)}}class l{limits=new Map;state=new Map;queues=new Map;processing=new Map;MINUTE_MS=6e4;DAY_MS=864e5;MAX_QUEUE_SIZE=100;MAX_RETRY_COUNT=3;RETRY_DELAY_BASE=1e3;constructor(){this.startQueueProcessor()}updateProviderLimits(a,b){this.limits.set(a,b),this.state.has(a)||this.state.set(a,{requests:[],characters:[],lastReset:Date.now()}),this.queues.has(a)||this.queues.set(a,[]),this.processing.has(a)||this.processing.set(a,!1)}async executeWithRateLimit(a,b,c){return new Promise((d,e)=>{let f={id:b.id,request:b,resolve:d,reject:e,timestamp:Date.now(),retryCount:0};this.enqueueRequest(a,f,c)})}enqueueRequest(a,b,c){let d=this.queues.get(a);d?d.length>=this.MAX_QUEUE_SIZE?b.reject(Error(`Queue full for provider ${a}`)):(b.executor=c,"high"===b.request.priority?d.unshift(b):d.push(b),this.processQueue(a)):b.reject(Error(`Provider ${a} not configured`))}async processQueue(a){if(this.processing.get(a))return;this.processing.set(a,!0);let b=this.queues.get(a);if(!b)return void this.processing.set(a,!1);for(;b.length>0;){let c=b.shift();try{if(Date.now()-c.timestamp>3e5){c.reject(Error("Request expired"));continue}await this.waitForRateLimit(a,c.request);let b=c.executor,d=await b();this.recordRequest(a,c.request),c.resolve(d)}catch(a){c.retryCount<this.MAX_RETRY_COUNT&&this.isRetryableError(a)?(c.retryCount++,setTimeout(()=>{b.push(c)},this.RETRY_DELAY_BASE*Math.pow(2,c.retryCount-1))):c.reject(a)}}this.processing.set(a,!1)}async waitForRateLimit(a,b){if(this.limits.get(a))for(;;){if(this.canMakeRequest(a,b))return;await this.sleep(1e3)}}canMakeRequest(a,b){let c=this.limits.get(a),d=this.state.get(a);if(!c||!d)return!0;let e=Date.now();return this.cleanupOldEntries(d,e),!(d.requests.length>=c.requestsPerMinute||d.characters.reduce((a,b)=>a+b,0)+b.text.length>c.charactersPerDay)}cleanupOldEntries(a,b){let c=b-this.MINUTE_MS;a.requests=a.requests.filter(a=>a>c),b-a.lastReset>this.DAY_MS&&(a.characters=[],a.lastReset=b)}recordRequest(a,b){let c=this.state.get(a);if(!c)return;let d=Date.now();c.requests.push(d),c.characters.push(b.text.length)}isRetryableError(a){return a?.code==="RATE_LIMIT"||a?.code==="SERVICE_UNAVAILABLE"||a?.retryable===!0}sleep(a){return new Promise(b=>setTimeout(b,a))}startQueueProcessor(){setInterval(()=>{for(let a of this.queues.keys())this.processing.get(a)||this.processQueue(a)},1e3)}getQueueStatus(){let a={};for(let[b,c]of this.queues.entries()){let d=c.length>0?c[0].timestamp:void 0;a[b]={queueLength:c.length,processing:this.processing.get(b)||!1,oldestRequest:d}}return a}getRateLimitStatus(){let a={};for(let[b,c]of this.state.entries()){let d=this.limits.get(b);if(!d)continue;let e=Date.now();this.cleanupOldEntries(c,e);let f=c.requests.length,g=c.characters.reduce((a,b)=>a+b,0),h=Math.max(f/d.requestsPerMinute*100,g/d.charactersPerDay*100);a[b]={requestsInLastMinute:f,charactersToday:g,requestsPerMinuteLimit:d.requestsPerMinute,charactersPerDayLimit:d.charactersPerDay,utilizationPercent:Math.round(h)}}return a}clearQueue(a){let b=this.queues.get(a);if(b){for(let a of b)a.reject(Error("Queue cleared"));b.length=0}}clearAllQueues(){for(let a of this.queues.keys())this.clearQueue(a)}getEstimatedWaitTime(a){let b=this.queues.get(a),c=this.limits.get(a);return b&&c&&0!==b.length?Math.ceil(b.length/c.requestsPerMinute*60):0}}class m{defaultOptions={maxRetries:2,retryDelay:1e3,preferAI:!0,fallbackToTTS:!0,logErrors:!0};async playWithFallback(a,b,c="english",d="general",e){let f,g={...this.defaultOptions,...e},h=Date.now(),i=0;for(let e of this.getPlaybackStrategies(g))for(let j=0;j<=g.maxRetries;j++)try{if(await this.executeStrategy(e,a,b,c,d)){let a=Date.now()-h;return{success:!0,method:e,provider:"ai"===e?await this.getActiveProvider(d):void 0,retries:j,duration:a}}}catch(a){f=a instanceof Error?a.message:"Unknown error",i=j+1,g.logErrors&&console.warn(`[VoiceFallback] ${e} attempt ${j+1} failed:`,f),j<g.maxRetries&&await this.sleep(g.retryDelay*(j+1))}return{success:!1,method:"none",error:f||"All playback methods failed",retries:i,duration:Date.now()-h}}getPlaybackStrategies(a){let b=[];return a.preferAI?(b.push("ai"),b.push("network-tts"),a.fallbackToTTS&&b.push("tts")):(b.push("network-tts"),b.push("tts"),a.preferAI&&b.push("ai")),b}async executeStrategy(a,b,c,d,e){switch(a){case"ai":return await this.tryAIVoice(b,e,{voice:c,language:d});case"network-tts":return await this.tryNetworkTTS(b,d);case"tts":return await this.tryBrowserTTS(b,c,d);default:throw Error(`Unknown strategy: ${a}`)}}async tryNetworkTTS(a,b){return console.log("[VoiceFallback] Network TTS not available, using browser TTS"),await this.tryBrowserTTS(a,"standard-male",b)}async tryAIVoice(a,b,d){!0;throw new c("AI voice service not available","System","SERVICE_UNAVAILABLE",!1)}async tryBrowserTTS(a,b,c){throw Error("Browser TTS not available")}async getActiveProvider(a){!0}sleep(a){return new Promise(b=>setTimeout(b,a))}async checkSystemHealth(){let a=await this.checkAIVoiceHealth(),b=this.checkTTSHealth(),c="none";return a.available&&b.available?c="both":a.available?c="ai":b.available&&(c="tts"),{ai:a,tts:b,recommendation:c}}async checkAIVoiceHealth(){try{!0;return{available:!1,providers:[],error:"AI voice service not initialized"}}catch(a){return{available:!1,providers:[],error:a instanceof Error?a.message:"Unknown error"}}}checkTTSHealth(){return{available:!1,error:"Not in browser environment"}}async measurePerformance(a,b,c,d,e=3){let f=[],g=[];for(let g=0;g<e;g++){let e=Date.now();try{await this.tryAIVoice(a,d,{voice:b,language:c}),f.push({time:Date.now()-e,success:!0})}catch(a){f.push({time:Date.now()-e,success:!1,error:a instanceof Error?a.message:"Unknown error"})}await this.sleep(500)}for(let d=0;d<e;d++){let d=Date.now();try{await this.tryBrowserTTS(a,b,c),g.push({time:Date.now()-d,success:!0})}catch(a){g.push({time:Date.now()-d,success:!1,error:a instanceof Error?a.message:"Unknown error"})}await this.sleep(500)}return{ai:{avgTime:f.reduce((a,b)=>a+b.time,0)/f.length,successRate:f.filter(a=>a.success).length/f.length*100,errors:f.filter(a=>!a.success).map(a=>a.error||"Unknown")},tts:{avgTime:g.reduce((a,b)=>a+b.time,0)/g.length,successRate:g.filter(a=>a.success).length/g.length*100,errors:g.filter(a=>!a.success).map(a=>a.error||"Unknown")}}}}let n=null,o=()=>(n||(n=new m),n),p={"standard-male":{name:"Standard Male",language:"english",description:"Clear English voice"},"standard-female":{name:"Standard Female",language:"english",description:"Clear English voice"},"azan-islamic":{name:"Islamic Azan",language:"arabic",description:"Islamic prayer call (Azan)"},hausa:{name:"Hausa",language:"hausa",description:"Native Hausa speaker"},twi:{name:"Twi",language:"twi",description:"Native Twi speaker"},arabic:{name:"Arabic",language:"arabic",description:"Native Arabic speaker"},"openai-alloy":{name:"OpenAI Alloy",language:"english",description:"Neutral, balanced voice"},"openai-echo":{name:"OpenAI Echo",language:"english",description:"Warm, rounded male voice"},"openai-fable":{name:"OpenAI Fable",language:"english",description:"British accent, storytelling voice"},"openai-onyx":{name:"OpenAI Onyx",language:"english",description:"Deep, authoritative male voice"},"openai-nova":{name:"OpenAI Nova",language:"english",description:"Energetic female voice"},"openai-shimmer":{name:"OpenAI Shimmer",language:"english",description:"Clear, bright female voice"},"elevenlabs-rachel":{name:"ElevenLabs Rachel",language:"english",description:"American female, narrative"},"elevenlabs-drew":{name:"ElevenLabs Drew",language:"english",description:"American male, news"},"elevenlabs-clyde":{name:"ElevenLabs Clyde",language:"english",description:"American male, deep"},"elevenlabs-paul":{name:"ElevenLabs Paul",language:"english",description:"American male, soft"},"azure-jenny":{name:"Azure Jenny",language:"english",description:"American female, conversational"},"azure-guy":{name:"Azure Guy",language:"english",description:"American male, conversational"},"azure-aria":{name:"Azure Aria",language:"english",description:"American female, helpful"},"azure-davis":{name:"Azure Davis",language:"english",description:"American male, casual"}},q=async(b,c,d="english",e)=>{let{useStore:f}=await a.A(96649),g=f.getState().settings,h=e??g.defaultRepeatCount??1;console.log(`[v0] Playing text ${h} time(s): "${b.substring(0,50)}..."`);let i=!0;for(let a=0;a<h;a++){console.log(`[v0] Playing repetition ${a+1} of ${h}`);let e=o();(await e.playWithFallback(b,c,d,"general",{maxRetries:1,retryDelay:500,preferAI:!0,fallbackToTTS:!0,logErrors:!1})).success||(i=!1,console.error(`[v0] Repetition ${a+1} failed`)),a<h-1&&await new Promise(a=>setTimeout(a,1e3))}return console.log(`[v0] Completed ${h} repetitions. Success: ${i}`),i},r=async(a,b="general",d)=>{try{!0;return null}catch(a){return a instanceof c?console.error("[v0] AI Voice Error:",a.message,"Provider:",a.provider):console.error("[v0] AI voice generation failed:",a),null}},s=async a=>new Promise((b,c)=>{try{let d=new(window.AudioContext||window.webkitAudioContext),e=d.createBufferSource();e.buffer=a,e.connect(d.destination),e.onended=()=>{console.log("[v0] AI voice playback finished"),b()};let f=setTimeout(()=>{console.error("[v0] Audio playback timeout"),c(Error("Audio playback timeout"))},1e3*a.duration+5e3);e.onended=()=>{clearTimeout(f),console.log("[v0] AI voice playback finished"),b()},e.start(0),console.log("[v0] AI voice playback started")}catch(a){console.error("[v0] Failed to play audio buffer:",a),c(a)}}),t=async(a,b,c="english")=>(console.error("[v0] Speech Synthesis not supported in this browser"),!1),u=(a,b)=>{if("english"===b)return a;let c=a;return Object.entries({english:{},hausa:{"should report to the office":"ya kamata ya je ofis","your parent is waiting at the gate":"mahaifiyar ku tana jira a baje","please come to the staff common room":"zo gida mai aiki da fushi","report to the headteacher's office now":"je ofis mai shugaba yanzu"},twi:{"should report to the office":"forow kye ofis no","your parent is waiting at the gate":"wo/wo maame/papa retua wÉ” apon no","please come to the staff common room":"ba stamfo no","report to the headteacher's office now":"kÉ” ofis osofo mu"},arabic:{"should report to the office":"ÙŠØ¬Ø¨ Ø£Ù† ØªØªÙˆØ¬Ù‡ Ø¥Ù„Ù‰ Ø§Ù„Ù…ÙƒØªØ¨","your parent is waiting at the gate":"ÙˆØ§Ù„Ø¯Ùƒ ÙŠÙ†ØªØ¸Ø± Ø¹Ù†Ø¯ Ø§Ù„Ø¨ÙˆØ§Ø¨Ø©","please come to the staff common room":"ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø­Ø¶ÙˆØ± Ø¥Ù„Ù‰ ØºØ±ÙØ© Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†","report to the headteacher's office now":"ØªÙˆØ¬Ù‡ Ø¥Ù„Ù‰ Ù…ÙƒØªØ¨ Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ø¢Ù†"}}[b]||{}).forEach(([a,b])=>{c=c.replace(RegExp(a,"gi"),b)}),c},v=()=>({available:!1,message:"TTS not available in server environment"}),w=async(b,c,d,e)=>{let{useStore:f}=await a.A(96649),g=f.getState().settings,h=c||g.defaultVoice,i=d||g.defaultLanguage,j=e??g.defaultRepeatCount??1;console.log(`[v0] Playing announcement ${j} time(s)`);let k=!0;for(let a=0;a<j;a++){console.log(`[v0] Announcement repetition ${a+1} of ${j}`);let c=o();(await c.playWithFallback(b,h,i,"announcement",{maxRetries:2,retryDelay:1e3,preferAI:!0,fallbackToTTS:!0,logErrors:!0})).success||(k=!1,console.error(`[v0] Announcement repetition ${a+1} failed`)),a<j-1&&await new Promise(a=>setTimeout(a,2e3))}return console.log(`[v0] Announcement completed. ${j} repetitions. Success: ${k}`),k},x=async a=>{let b=y(a),c=o(),d=await c.playWithFallback(b,"azan-islamic","arabic","prayer",{maxRetries:2,retryDelay:1e3,preferAI:!0,fallbackToTTS:!0,logErrors:!0});return d.success?console.log(`[v0] Prayer call played successfully using ${d.method} (${d.provider||"browser"})`):console.error(`[v0] Prayer call failed: ${d.error}`),d.success},y=b=>{let{generateSchoolPrayerCall:c}=a.r(94193);return c(b,!0)};var z=a.i(76966);class A{static async playToneAndAnnouncement(a,c={}){let d=z.useStore.getState().settings,{tone:e="bell",voice:f=d.defaultVoice,language:g=d.defaultLanguage,repeatCount:h=d.defaultRepeatCount,delayBetweenToneAndVoice:i=1500,delayBetweenRepeats:j=3e3}=c;console.log(`[CombinedAudio] Playing ${h} time(s): ${e} + "${a}"`);let k=!0;for(let c=0;c<h;c++){console.log(`[CombinedAudio] Repetition ${c+1} of ${h}`);try{console.log(`[CombinedAudio] Playing ${e} tone...`),(0,b.playBellSound)(e),await new Promise(a=>setTimeout(a,i)),console.log(`[CombinedAudio] Playing voice announcement: "${a}"`),await w(a,f,g,1)||(k=!1,console.error(`[CombinedAudio] Voice announcement failed for repetition ${c+1}`)),c<h-1&&(console.log(`[CombinedAudio] Waiting ${j}ms before next repetition...`),await new Promise(a=>setTimeout(a,j)))}catch(a){k=!1,console.error(`[CombinedAudio] Error in repetition ${c+1}:`,a)}}return console.log(`[CombinedAudio] Completed ${h} repetitions. Success: ${k}`),k}static async playClassBell(a,b){return this.playToneAndAnnouncement(a,{tone:"bell",delayBetweenToneAndVoice:2e3,...b})}static async playBreakChime(a,b){return this.playToneAndAnnouncement(a,{tone:"chime",delayBetweenToneAndVoice:1e3,...b})}static async playAnnouncement(a,b){return this.playToneAndAnnouncement(a,{tone:"announcement",delayBetweenToneAndVoice:800,...b})}static async playEmergencyAlert(a,b){return this.playToneAndAnnouncement(a,{tone:"emergency-alert",delayBetweenToneAndVoice:500,repeatCount:3,delayBetweenRepeats:2e3,...b})}static async playHighQualityAnnouncement(a,b){let c=z.useStore.getState().settings,{voice:d="openai-nova",language:e=c.defaultLanguage,repeatCount:f=c.defaultRepeatCount}=b||{};console.log(`[CombinedAudio] Playing high-quality announcement: "${a}"`);let g=!0;for(let b=0;b<f;b++){console.log(`[CombinedAudio] High-quality announcement repetition ${b+1} of ${f}`);try{await w(a,d,e,1)||(g=!1,console.error(`[CombinedAudio] High-quality announcement failed for repetition ${b+1}`)),b<f-1&&await new Promise(a=>setTimeout(a,3e3))}catch(a){g=!1,console.error(`[CombinedAudio] Error in high-quality announcement repetition ${b+1}:`,a)}}return console.log(`[CombinedAudio] High-quality announcement completed. Success: ${g}`),g}static async playNormalAnnouncement(a,b){return this.playToneAndAnnouncement(a,{tone:"announcement",voice:"openai-nova",delayBetweenToneAndVoice:800,...b})}static async playTaskAudio(a,b,c,d){console.log(`[CombinedAudio] Playing task audio for: "${a}" (Type: ${b}, Bell: ${c})`);let e=c||"bell",f=1500,g=a;switch(b.toLowerCase()){case"class":case"lesson":e=c||"bell",f=2e3,g=`Attention all students, it is time for ${a}. Please proceed to your classrooms.`;break;case"break":case"recess":e=c||"chime",f=1e3,g=`Attention all students, it is time for ${a}. You may now leave your classrooms.`;break;case"assembly":case"meeting":e=c||"announcement",f=800,g=`Attention all students and staff, it is time for ${a}. Please proceed to the assembly hall.`;break;case"lunch":case"meal":e=c||"chime",f=1200,g=`Attention all students, it is time for ${a}. Please proceed to the dining hall.`;break;case"dismissal":case"end":e=c||"dismissal-bell",f=2e3,g=`Attention all students, it is time for ${a}. Please collect your belongings and proceed to the exit.`;break;case"emergency":case"drill":e=c||"emergency-alert",f=500,g=`Emergency alert. ${a}. All students and staff must follow emergency procedures immediately.`;break;default:e=c||"bell",g=`Attention all students, it is time for ${a}.`}return this.playToneAndAnnouncement(g,{tone:e,delayBetweenToneAndVoice:f,...d})}static getToneForTaskType(a){switch(a.toLowerCase()){case"class":case"lesson":case"dismissal":default:return"bell";case"break":case"recess":case"lunch":return"chime";case"assembly":case"meeting":case"announcement":return"announcement";case"emergency":case"drill":return"emergency-alert"}}static generateVoiceMessage(a,b){return({class:`Attention all students, it is time for ${a}. Please proceed to your classrooms.`,lesson:`Attention all students, it is time for ${a}. Please proceed to your classrooms.`,break:`Attention all students, it is time for ${a}. You may now leave your classrooms.`,recess:`Attention all students, it is time for ${a}. You may now leave your classrooms.`,lunch:`Attention all students, it is time for ${a}. Please proceed to the dining hall.`,assembly:`Attention all students and staff, it is time for ${a}. Please proceed to the assembly hall.`,meeting:`Attention all students and staff, it is time for ${a}. Please proceed to the designated area.`,announcement:`Attention all students and staff, it is time for ${a}. Please listen carefully.`,dismissal:`Attention all students, it is time for ${a}. Please collect your belongings and proceed to the exit.`,end:`Attention all students, it is time for ${a}. Please collect your belongings and proceed to the exit.`,emergency:`Emergency alert. ${a}. All students and staff must follow emergency procedures immediately.`,drill:`Emergency drill. ${a}. All students and staff must follow drill procedures immediately.`})[b.toLowerCase()]||`Attention all students, it is time for ${a}.`}}let B=(a,b)=>A.playHighQualityAnnouncement(a,b),C=(a,b)=>A.playNormalAnnouncement(a,b);a.s(["playHighQualityAnnouncement",0,B,"playNormalAnnouncement",0,C,"playToneAndAnnouncement",0,(a,b)=>A.playToneAndAnnouncement(a,b)],63941);class D{static PREMIUM_VOICES={professional:"openai-nova",authoritative:"openai-onyx",friendly:"openai-shimmer",warm:"openai-echo",storytelling:"openai-fable",balanced:"openai-alloy",elevenlabs:"elevenlabs-rachel",azure:"azure-aria"};static async playCustomAnnouncement(a,b={}){let{voice:c=this.PREMIUM_VOICES.professional,language:d="english",repeatCount:e=1,withTone:f=!1}=b;return(console.log(`[HighQuality] Playing custom announcement with ${c}`),console.log(`[HighQuality] Message: "${a}"`),f)?C(a,{voice:c,language:d,repeatCount:e}):B(a,{voice:c,language:d,repeatCount:e})}static async playSchoolAnnouncement(a,b,c={}){let d=`Attention all students and staff. ${a}. ${b}`;return this.playCustomAnnouncement(d,{voice:this.PREMIUM_VOICES.professional,withTone:!0,...c})}static async playEmergencyAnnouncement(a,b,c={}){let d=`Emergency alert. ${a}. ${b}. Please follow all safety procedures immediately.`;return this.playCustomAnnouncement(d,{voice:this.PREMIUM_VOICES.authoritative,withTone:!0,repeatCount:2,...c})}static async playFriendlyAnnouncement(a,b={}){return this.playCustomAnnouncement(a,{voice:this.PREMIUM_VOICES.friendly,withTone:!0,...b})}static async playAdministrativeAnnouncement(a,b={}){return this.playCustomAnnouncement(a,{voice:this.PREMIUM_VOICES.balanced,withTone:!0,...b})}static async testAllPremiumVoices(){for(let[a,b]of(console.log("ðŸŽ¤ Testing All Premium AI Voices"),console.log("=".repeat(50)),Object.entries(this.PREMIUM_VOICES)))console.log(`
ðŸ”Š Testing ${a} voice (${b})`),await this.playCustomAnnouncement("This is a test of the high-quality announcement system.",{voice:b,repeatCount:1,withTone:!1}),await new Promise(a=>setTimeout(a,4e3));console.log("\nâœ… Premium voice testing completed!")}static async demonstrateAnnouncementTypes(){for(let a of(console.log("ðŸ“¢ Demonstrating High-Quality Announcement Types"),console.log("=".repeat(60)),[{type:"School Announcement",func:()=>this.playSchoolAnnouncement("Morning Assembly","All students please proceed to the main hall for our weekly assembly")},{type:"Emergency Announcement",func:()=>this.playEmergencyAnnouncement("Fire drill in progress","Please exit the building using the nearest emergency exit")},{type:"Friendly Announcement",func:()=>this.playFriendlyAnnouncement("Congratulations to our basketball team for winning the championship! Well done everyone!")},{type:"Administrative Announcement",func:()=>this.playAdministrativeAnnouncement("Reminder that parent-teacher conferences are scheduled for next week. Please check your emails for appointment times.")},{type:"Custom High-Quality",func:()=>this.playCustomAnnouncement("This is a demonstration of our premium AI voice system with crystal-clear audio quality.",{voice:this.PREMIUM_VOICES.elevenlabs,withTone:!1})}]))console.log(`
ðŸŽ¯ ${a.type}`),await a.func(),await new Promise(a=>setTimeout(a,6e3));console.log("\nâœ… All announcement type demonstrations completed!")}static async quickHighQualityTest(){console.log("âš¡ Quick High-Quality Voice Test"),await this.playCustomAnnouncement("Attention all students, this is a test of our premium AI voice announcement system. The audio quality should be crystal clear and professional.",{voice:this.PREMIUM_VOICES.professional,withTone:!0,repeatCount:1}),console.log("âœ… Quick test completed!")}static getAvailablePremiumVoices(){return[{name:"Professional",voice:this.PREMIUM_VOICES.professional,description:"Clear, professional female voice"},{name:"Authoritative",voice:this.PREMIUM_VOICES.authoritative,description:"Deep, authoritative male voice"},{name:"Friendly",voice:this.PREMIUM_VOICES.friendly,description:"Bright, friendly female voice"},{name:"Warm",voice:this.PREMIUM_VOICES.warm,description:"Warm, rounded male voice"},{name:"Storytelling",voice:this.PREMIUM_VOICES.storytelling,description:"British accent, engaging voice"},{name:"Balanced",voice:this.PREMIUM_VOICES.balanced,description:"Neutral, balanced voice"},{name:"ElevenLabs Premium",voice:this.PREMIUM_VOICES.elevenlabs,description:"Premium ElevenLabs voice"},{name:"Azure Premium",voice:this.PREMIUM_VOICES.azure,description:"Microsoft Azure premium voice"}]}}a.s(["HighQualityAnnouncementSystem",()=>D,"demonstrateAnnouncementTypes",0,()=>D.demonstrateAnnouncementTypes(),"getAvailablePremiumVoices",0,()=>D.getAvailablePremiumVoices(),"playAdministrativeAnnouncement",0,(a,b)=>D.playAdministrativeAnnouncement(a,b),"playCustomAnnouncement",0,(a,b)=>D.playCustomAnnouncement(a,b),"playEmergencyAnnouncement",0,(a,b,c)=>D.playEmergencyAnnouncement(a,b,c),"playFriendlyAnnouncement",0,(a,b)=>D.playFriendlyAnnouncement(a,b),"playSchoolAnnouncement",0,(a,b,c)=>D.playSchoolAnnouncement(a,b,c),"quickHighQualityTest",0,()=>D.quickHighQualityTest(),"testAllPremiumVoices",0,()=>D.testAllPremiumVoices()],82924)}];

//# sourceMappingURL=Downloads_school-bell-system_lib_ad7f2334._.js.map