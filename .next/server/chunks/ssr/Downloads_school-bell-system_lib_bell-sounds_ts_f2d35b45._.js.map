{"version":3,"sources":["../../../../../../Downloads/school-bell-system/lib/bell-sounds-extended.ts","../../../../../../Downloads/school-bell-system/lib/bell-sounds.ts"],"sourcesContent":["/**\r\n * Extended Natural School Bell Sounds\r\n * Additional realistic bell sounds for the school bell system\r\n */\r\n\r\n/**\r\n * Brass School Bell - Large brass bell with deep resonance\r\n * Classic school bell mounted on wall, deep and authoritative\r\n */\r\nexport const playBrassSchoolBell = (audioContext: AudioContext): void => {\r\n    const now = audioContext.currentTime\r\n    const duration = 4.0\r\n\r\n    // Lower frequencies for larger brass bell\r\n    const frequencies = [600, 750, 900, 1200, 1500, 1800, 2400]\r\n    const gains = [0.5, 0.4, 0.3, 0.2, 0.12, 0.08, 0.05]\r\n\r\n    frequencies.forEach((freq, index) => {\r\n        const oscillator = audioContext.createOscillator()\r\n        const gainNode = audioContext.createGain()\r\n\r\n        oscillator.type = 'triangle'\r\n        oscillator.frequency.setValueAtTime(freq, now)\r\n\r\n        // Instant strike, long resonance\r\n        gainNode.gain.setValueAtTime(gains[index], now)\r\n        gainNode.gain.exponentialRampToValueAtTime(0.01, now + duration)\r\n\r\n        oscillator.connect(gainNode)\r\n        gainNode.connect(audioContext.destination)\r\n\r\n        oscillator.start(now)\r\n        oscillator.stop(now + duration)\r\n    })\r\n\r\n    // Add metallic overtones\r\n    addMetallicOvertones(audioContext, now, duration, 0.15)\r\n}\r\n\r\n/**\r\n * Vintage Bell - Old-fashioned mechanical bell\r\n * Warm, slightly muffled tone like bells from the 1950s-60s\r\n */\r\nexport const playVintageBell = (audioContext: AudioContext): void => {\r\n    const now = audioContext.currentTime\r\n    const duration = 3.5\r\n\r\n    // Slightly detuned harmonics for vintage character\r\n    const frequencies = [820, 1015, 1230, 1640]\r\n    const gains = [0.4, 0.5, 0.25, 0.15]\r\n\r\n    frequencies.forEach((freq, index) => {\r\n        const oscillator = audioContext.createOscillator()\r\n        const gainNode = audioContext.createGain()\r\n        const filter = audioContext.createBiquadFilter()\r\n\r\n        oscillator.type = 'sine'\r\n        oscillator.frequency.setValueAtTime(freq, now)\r\n\r\n        // Low-pass filter for muffled vintage sound\r\n        filter.type = 'lowpass'\r\n        filter.frequency.setValueAtTime(2000, now)\r\n        filter.Q.setValueAtTime(1, now)\r\n\r\n        gainNode.gain.setValueAtTime(gains[index], now)\r\n        gainNode.gain.exponentialRampToValueAtTime(0.01, now + duration)\r\n\r\n        oscillator.connect(filter)\r\n        filter.connect(gainNode)\r\n        gainNode.connect(audioContext.destination)\r\n\r\n        oscillator.start(now)\r\n        oscillator.stop(now + duration)\r\n    })\r\n}\r\n\r\n/**\r\n * Mechanical Bell - Motorized bell with continuous ringing\r\n * Rapid mechanical striking like electric school bells\r\n */\r\nexport const playMechanicalBell = (audioContext: AudioContext): void => {\r\n    const now = audioContext.currentTime\r\n    const strikeDuration = 0.12\r\n    const strikeCount = 12\r\n    const strikeInterval = 0.15\r\n\r\n    for (let i = 0; i < strikeCount; i++) {\r\n        const strikeTime = now + (i * strikeInterval)\r\n        playMechanicalStrike(audioContext, strikeTime, strikeDuration)\r\n    }\r\n}\r\n\r\n/**\r\n * Fire Alarm Bell - Continuous loud ringing\r\n * Urgent, loud, continuous bell for emergencies\r\n */\r\nexport const playFireAlarmBell = (audioContext: AudioContext): void => {\r\n    const now = audioContext.currentTime\r\n    const strikeDuration = 0.1\r\n    const strikeCount = 20\r\n    const strikeInterval = 0.12\r\n\r\n    for (let i = 0; i < strikeCount; i++) {\r\n        const strikeTime = now + (i * strikeInterval)\r\n        playFireAlarmStrike(audioContext, strikeTime, strikeDuration)\r\n    }\r\n}\r\n\r\n/**\r\n * Recess Bell - Cheerful, energetic bell\r\n * Happy sound for break time and recess\r\n */\r\nexport const playRecessBell = (audioContext: AudioContext): void => {\r\n    const now = audioContext.currentTime\r\n    const ringDuration = 0.6\r\n    const gap = 0.15\r\n\r\n    // Three cheerful rings\r\n    for (let i = 0; i < 3; i++) {\r\n        const startTime = now + (ringDuration + gap) * i\r\n        playCheerfulRing(audioContext, startTime, ringDuration)\r\n    }\r\n}\r\n\r\n// Helper functions\r\n\r\nconst playMechanicalStrike = (audioContext: AudioContext, startTime: number, duration: number): void => {\r\n    const frequencies = [900, 1100, 1800, 2200]\r\n    const gains = [0.35, 0.45, 0.2, 0.12]\r\n\r\n    frequencies.forEach((freq, index) => {\r\n        const oscillator = audioContext.createOscillator()\r\n        const gainNode = audioContext.createGain()\r\n\r\n        oscillator.type = 'triangle'\r\n        oscillator.frequency.setValueAtTime(freq, startTime)\r\n\r\n        gainNode.gain.setValueAtTime(gains[index], startTime)\r\n        gainNode.gain.exponentialRampToValueAtTime(0.01, startTime + duration)\r\n\r\n        oscillator.connect(gainNode)\r\n        gainNode.connect(audioContext.destination)\r\n\r\n        oscillator.start(startTime)\r\n        oscillator.stop(startTime + duration)\r\n    })\r\n}\r\n\r\nconst playFireAlarmStrike = (audioContext: AudioContext, startTime: number, duration: number): void => {\r\n    const frequencies = [1000, 1200, 2000, 2400, 3000]\r\n    const gains = [0.4, 0.5, 0.3, 0.2, 0.15]\r\n\r\n    frequencies.forEach((freq, index) => {\r\n        const oscillator = audioContext.createOscillator()\r\n        const gainNode = audioContext.createGain()\r\n\r\n        oscillator.type = 'square'\r\n        oscillator.frequency.setValueAtTime(freq, startTime)\r\n\r\n        gainNode.gain.setValueAtTime(gains[index], startTime)\r\n        gainNode.gain.exponentialRampToValueAtTime(0.01, startTime + duration)\r\n\r\n        oscillator.connect(gainNode)\r\n        gainNode.connect(audioContext.destination)\r\n\r\n        oscillator.start(startTime)\r\n        oscillator.stop(startTime + duration)\r\n    })\r\n}\r\n\r\nconst playCheerfulRing = (audioContext: AudioContext, startTime: number, duration: number): void => {\r\n    const frequencies = [1000, 1250, 1500, 2000]\r\n    const gains = [0.35, 0.45, 0.25, 0.15]\r\n\r\n    frequencies.forEach((freq, index) => {\r\n        const oscillator = audioContext.createOscillator()\r\n        const gainNode = audioContext.createGain()\r\n\r\n        oscillator.type = 'sine'\r\n        oscillator.frequency.setValueAtTime(freq, startTime)\r\n\r\n        gainNode.gain.setValueAtTime(gains[index], startTime)\r\n        gainNode.gain.exponentialRampToValueAtTime(0.01, startTime + duration)\r\n\r\n        oscillator.connect(gainNode)\r\n        gainNode.connect(audioContext.destination)\r\n\r\n        oscillator.start(startTime)\r\n        oscillator.stop(startTime + duration)\r\n    })\r\n}\r\n\r\nconst addMetallicOvertones = (audioContext: AudioContext, startTime: number, duration: number, volume: number): void => {\r\n    // Add high-frequency metallic shimmer\r\n    const frequencies = [3000, 4500, 6000, 7500]\r\n    \r\n    frequencies.forEach((freq) => {\r\n        const oscillator = audioContext.createOscillator()\r\n        const gainNode = audioContext.createGain()\r\n\r\n        oscillator.type = 'sine'\r\n        oscillator.frequency.setValueAtTime(freq, startTime)\r\n\r\n        gainNode.gain.setValueAtTime(volume * 0.3, startTime)\r\n        gainNode.gain.exponentialRampToValueAtTime(0.01, startTime + duration * 0.3)\r\n\r\n        oscillator.connect(gainNode)\r\n        gainNode.connect(audioContext.destination)\r\n\r\n        oscillator.start(startTime)\r\n        oscillator.stop(startTime + duration * 0.3)\r\n    })\r\n}\r\n","/**\r\n * Bell Sound Generation using Web Audio API\r\n * Generates pleasant tones for different bell types\r\n */\r\n\r\nimport {\r\n    playBrassSchoolBell,\r\n    playVintageBell,\r\n    playMechanicalBell,\r\n    playFireAlarmBell,\r\n    playRecessBell\r\n} from './bell-sounds-extended'\r\n\r\nexport type BellType =\r\n    | 'none'  // No bell sound - voice only\r\n    | 'bell'\r\n    | 'announcement'\r\n    | 'chime'\r\n    | 'electronic-bell'\r\n    | 'westminster-chimes'\r\n    | 'double-ring'\r\n    | 'triple-ring'\r\n    | 'long-ring'\r\n    | 'emergency-alert'\r\n    | 'dismissal-bell'\r\n    | 'adhan-call'\r\n    | 'islamic-chime'\r\n    | 'prayer-bell'\r\n    // New natural school bell sounds\r\n    | 'classic-hand-bell'\r\n    | 'brass-school-bell'\r\n    | 'vintage-bell'\r\n    | 'mechanical-bell'\r\n    | 'fire-alarm-bell'\r\n    | 'recess-bell'\r\n    // Ghanaian traditional school bells\r\n    | 'ghana-hand-bell'\r\n    | 'ghana-assembly-bell'\r\n    | 'ghana-break-bell'\r\n\r\n/**\r\n * Play a bell sound based on the type\r\n */\r\nexport const playBellSound = (type: BellType): void => {\r\n    // If 'none' is selected, don't play any bell sound\r\n    if (type === 'none') {\r\n        console.log('[BellSound] No bell selected - voice only mode')\r\n        return\r\n    }\r\n\r\n    const audioContext = new (window.AudioContext || (window as any).webkitAudioContext)()\r\n\r\n    switch (type) {\r\n        case 'bell':\r\n            playSchoolBell(audioContext)\r\n            break\r\n        case 'announcement':\r\n            playAnnouncementTone(audioContext)\r\n            break\r\n        case 'chime':\r\n            playChime(audioContext)\r\n            break\r\n        case 'electronic-bell':\r\n            playElectronicBell(audioContext)\r\n            break\r\n        case 'westminster-chimes':\r\n            playWestminsterChimes(audioContext)\r\n            break\r\n        case 'double-ring':\r\n            playDoubleRing(audioContext)\r\n            break\r\n        case 'triple-ring':\r\n            playTripleRing(audioContext)\r\n            break\r\n        case 'long-ring':\r\n            playLongRing(audioContext)\r\n            break\r\n        case 'emergency-alert':\r\n            playEmergencyAlert(audioContext)\r\n            break\r\n        case 'dismissal-bell':\r\n            playDismissalBell(audioContext)\r\n            break\r\n        case 'adhan-call':\r\n            playAdhanCall(audioContext)\r\n            break\r\n        case 'islamic-chime':\r\n            playIslamicChime(audioContext)\r\n            break\r\n        case 'prayer-bell':\r\n            playPrayerBell(audioContext)\r\n            break\r\n        // New natural school bell sounds\r\n        case 'classic-hand-bell':\r\n            playClassicHandBell(audioContext)\r\n            break\r\n        case 'brass-school-bell':\r\n            playBrassSchoolBell(audioContext)\r\n            break\r\n        case 'vintage-bell':\r\n            playVintageBell(audioContext)\r\n            break\r\n        case 'mechanical-bell':\r\n            playMechanicalBell(audioContext)\r\n            break\r\n        case 'fire-alarm-bell':\r\n            playFireAlarmBell(audioContext)\r\n            break\r\n        case 'recess-bell':\r\n            playRecessBell(audioContext)\r\n            break\r\n        // Ghanaian traditional school bells\r\n        case 'ghana-hand-bell':\r\n            playGhanaHandBell(audioContext)\r\n            break\r\n        case 'ghana-assembly-bell':\r\n            playGhanaAssemblyBell(audioContext)\r\n            break\r\n        case 'ghana-break-bell':\r\n            playGhanaBreakBell(audioContext)\r\n            break\r\n    }\r\n}\r\n\r\n/**\r\n * Helper function to add metallic shimmer effect\r\n */\r\nconst addMetallicShimmer = (audioContext: AudioContext, startTime: number, duration: number, volume: number): void => {\r\n    // Create white noise for metallic shimmer\r\n    const bufferSize = audioContext.sampleRate * duration\r\n    const buffer = audioContext.createBuffer(1, bufferSize, audioContext.sampleRate)\r\n    const data = buffer.getChannelData(0)\r\n\r\n    // Generate white noise\r\n    for (let i = 0; i < bufferSize; i++) {\r\n        data[i] = (Math.random() * 2 - 1) * volume\r\n    }\r\n\r\n    const noise = audioContext.createBufferSource()\r\n    const filter = audioContext.createBiquadFilter()\r\n    const gainNode = audioContext.createGain()\r\n\r\n    noise.buffer = buffer\r\n\r\n    // High-pass filter for metallic shimmer\r\n    filter.type = 'highpass'\r\n    filter.frequency.setValueAtTime(4000, startTime)\r\n\r\n    gainNode.gain.setValueAtTime(volume, startTime)\r\n    gainNode.gain.exponentialRampToValueAtTime(0.01, startTime + duration)\r\n\r\n    noise.connect(filter)\r\n    filter.connect(gainNode)\r\n    gainNode.connect(audioContext.destination)\r\n\r\n    noise.start(startTime)\r\n    noise.stop(startTime + duration)\r\n}\r\n\r\n// ============================================================================\r\n// GHANAIAN TRADITIONAL SCHOOL BELLS\r\n// ============================================================================\r\n\r\n/**\r\n * Ghana Hand Bell - Traditional manual hand-rung bell\r\n * Mimics the sound of a teacher ringing a hand bell manually\r\n * Pattern: CLANG-CLANG-CLANG with irregular timing (human-like)\r\n */\r\nconst playGhanaHandBell = (audioContext: AudioContext): void => {\r\n    const now = audioContext.currentTime\r\n    \r\n    // Manual ringing pattern - slightly irregular timing like a real person\r\n    const ringTimes = [0, 0.35, 0.68, 1.05, 1.38, 1.75]\r\n    \r\n    ringTimes.forEach((time) => {\r\n        playGhanaianBellStrike(audioContext, now + time, 0.4, 1.0)\r\n    })\r\n}\r\n\r\n/**\r\n * Ghana Assembly Bell - Longer continuous ringing for assembly\r\n * Pattern: Continuous rapid ringing for 4-5 seconds\r\n */\r\nconst playGhanaAssemblyBell = (audioContext: AudioContext): void => {\r\n    const now = audioContext.currentTime\r\n    const strikeCount = 15\r\n    const baseInterval = 0.28\r\n    \r\n    for (let i = 0; i < strikeCount; i++) {\r\n        // Add slight variation to timing (human factor)\r\n        const variation = (Math.random() - 0.5) * 0.05\r\n        const strikeTime = now + (i * baseInterval) + variation\r\n        \r\n        // Vary intensity slightly\r\n        const intensity = 0.9 + (Math.random() * 0.2)\r\n        \r\n        playGhanaianBellStrike(audioContext, strikeTime, 0.35, intensity)\r\n    }\r\n}\r\n\r\n/**\r\n * Ghana Break Bell - Short burst for break time\r\n * Pattern: Quick 3-4 rings\r\n */\r\nconst playGhanaBreakBell = (audioContext: AudioContext): void => {\r\n    const now = audioContext.currentTime\r\n    \r\n    // Quick burst pattern\r\n    const ringTimes = [0, 0.3, 0.58, 0.88]\r\n    \r\n    ringTimes.forEach((time) => {\r\n        playGhanaianBellStrike(audioContext, now + time, 0.38, 1.0)\r\n    })\r\n}\r\n\r\n/**\r\n * Helper: Create a single Ghanaian bell strike\r\n * Mimics the metallic CLANG sound of a real hand bell\r\n */\r\nconst playGhanaianBellStrike = (\r\n    audioContext: AudioContext,\r\n    startTime: number,\r\n    duration: number,\r\n    intensity: number\r\n): void => {\r\n    // Ghanaian school bells have a distinctive metallic clang\r\n    // Multiple inharmonic frequencies create the \"clang\" sound\r\n    \r\n    // Fundamental and overtones (slightly detuned for realism)\r\n    const frequencies = [\r\n        850,   // Fundamental\r\n        1702,  // 2nd harmonic (slightly sharp)\r\n        2548,  // 3rd harmonic\r\n        3405,  // 4th harmonic\r\n        4250,  // 5th harmonic\r\n        5100,  // 6th harmonic\r\n        6800,  // High overtone\r\n        8500   // Very high overtone\r\n    ]\r\n    \r\n    const gains = [0.5, 0.4, 0.3, 0.2, 0.15, 0.1, 0.08, 0.05]\r\n    \r\n    frequencies.forEach((freq, index) => {\r\n        const oscillator = audioContext.createOscillator()\r\n        const gainNode = audioContext.createGain()\r\n        \r\n        // Use triangle wave for metallic quality\r\n        oscillator.type = 'triangle'\r\n        oscillator.frequency.setValueAtTime(freq, startTime)\r\n        \r\n        // Sharp attack, quick decay (characteristic of metal bell)\r\n        const adjustedGain = gains[index] * intensity\r\n        gainNode.gain.setValueAtTime(0.01, startTime)\r\n        gainNode.gain.exponentialRampToValueAtTime(adjustedGain, startTime + 0.01) // Very fast attack\r\n        gainNode.gain.exponentialRampToValueAtTime(adjustedGain * 0.3, startTime + 0.08) // Quick initial decay\r\n        gainNode.gain.exponentialRampToValueAtTime(0.01, startTime + duration) // Long tail\r\n        \r\n        oscillator.connect(gainNode)\r\n        gainNode.connect(audioContext.destination)\r\n        \r\n        oscillator.start(startTime)\r\n        oscillator.stop(startTime + duration)\r\n    })\r\n    \r\n    // Add metallic \"clang\" noise component\r\n    const bufferSize = audioContext.sampleRate * 0.05 // 50ms of noise\r\n    const buffer = audioContext.createBuffer(1, bufferSize, audioContext.sampleRate)\r\n    const data = buffer.getChannelData(0)\r\n    \r\n    // Generate metallic noise burst\r\n    for (let i = 0; i < bufferSize; i++) {\r\n        data[i] = (Math.random() * 2 - 1) * 0.3 * intensity\r\n    }\r\n    \r\n    const noise = audioContext.createBufferSource()\r\n    const noiseFilter = audioContext.createBiquadFilter()\r\n    const noiseGain = audioContext.createGain()\r\n    \r\n    noise.buffer = buffer\r\n    \r\n    // Band-pass filter for metallic character\r\n    noiseFilter.type = 'bandpass'\r\n    noiseFilter.frequency.setValueAtTime(3000, startTime)\r\n    noiseFilter.Q.setValueAtTime(2, startTime)\r\n    \r\n    noiseGain.gain.setValueAtTime(0.4 * intensity, startTime)\r\n    noiseGain.gain.exponentialRampToValueAtTime(0.01, startTime + 0.05)\r\n    \r\n    noise.connect(noiseFilter)\r\n    noiseFilter.connect(noiseGain)\r\n    noiseGain.connect(audioContext.destination)\r\n    \r\n    noise.start(startTime)\r\n}\r\n\r\n/**\r\n * Traditional school bell sound\r\n * Multiple harmonics with decay for realistic bell tone\r\n */\r\nconst playSchoolBell = (audioContext: AudioContext): void => {\r\n    const now = audioContext.currentTime\r\n    const duration = 2.5\r\n\r\n    // Create multiple oscillators for rich bell sound\r\n    const frequencies = [800, 1000, 1200, 1600] // Harmonics\r\n    const gains = [0.3, 0.5, 0.2, 0.1]\r\n\r\n    frequencies.forEach((freq, index) => {\r\n        const oscillator = audioContext.createOscillator()\r\n        const gainNode = audioContext.createGain()\r\n\r\n        oscillator.type = 'sine'\r\n        oscillator.frequency.setValueAtTime(freq, now)\r\n\r\n        // Exponential decay for realistic bell\r\n        gainNode.gain.setValueAtTime(gains[index], now)\r\n        gainNode.gain.exponentialRampToValueAtTime(0.01, now + duration)\r\n\r\n        oscillator.connect(gainNode)\r\n        gainNode.connect(audioContext.destination)\r\n\r\n        oscillator.start(now)\r\n        oscillator.stop(now + duration)\r\n    })\r\n}\r\n\r\n/**\r\n * Modern electronic bell/buzzer\r\n * Sharp, clear electronic tone\r\n */\r\nconst playElectronicBell = (audioContext: AudioContext): void => {\r\n    const now = audioContext.currentTime\r\n    const beepDuration = 0.15\r\n    const beepCount = 3\r\n    const gap = 0.1\r\n\r\n    for (let i = 0; i < beepCount; i++) {\r\n        const startTime = now + (beepDuration + gap) * i\r\n        createTone(audioContext, 1200, startTime, beepDuration, 0.4, 'square')\r\n    }\r\n}\r\n\r\n/**\r\n * Westminster chimes (like Big Ben)\r\n * Classic four-note chime sequence\r\n */\r\nconst playWestminsterChimes = (audioContext: AudioContext): void => {\r\n    const now = audioContext.currentTime\r\n    const noteDuration = 0.6\r\n    const gap = 0.1\r\n\r\n    // Westminster quarter chime notes (E-C-D-G)\r\n    const notes = [659.25, 523.25, 587.33, 783.99]\r\n\r\n    notes.forEach((freq, index) => {\r\n        const startTime = now + (noteDuration + gap) * index\r\n        createChimeTone(audioContext, freq, startTime, noteDuration + 0.8, 0.3)\r\n    })\r\n}\r\n\r\n/**\r\n * Double ring - two quick rings\r\n */\r\nconst playDoubleRing = (audioContext: AudioContext): void => {\r\n    const now = audioContext.currentTime\r\n    const ringDuration = 0.8\r\n    const gap = 0.3\r\n\r\n    // First ring\r\n    playSchoolBellAtTime(audioContext, now, ringDuration)\r\n    // Second ring\r\n    playSchoolBellAtTime(audioContext, now + ringDuration + gap, ringDuration)\r\n}\r\n\r\n/**\r\n * Triple ring - three quick rings\r\n */\r\nconst playTripleRing = (audioContext: AudioContext): void => {\r\n    const now = audioContext.currentTime\r\n    const ringDuration = 0.6\r\n    const gap = 0.2\r\n\r\n    for (let i = 0; i < 3; i++) {\r\n        playSchoolBellAtTime(audioContext, now + (ringDuration + gap) * i, ringDuration)\r\n    }\r\n}\r\n\r\n/**\r\n * Long continuous ring\r\n */\r\nconst playLongRing = (audioContext: AudioContext): void => {\r\n    const now = audioContext.currentTime\r\n    const duration = 4.0\r\n\r\n    const frequencies = [800, 1000, 1200, 1600]\r\n    const gains = [0.25, 0.4, 0.15, 0.08]\r\n\r\n    frequencies.forEach((freq, index) => {\r\n        const oscillator = audioContext.createOscillator()\r\n        const gainNode = audioContext.createGain()\r\n\r\n        oscillator.type = 'sine'\r\n        oscillator.frequency.setValueAtTime(freq, now)\r\n\r\n        // Sustained with slow fade\r\n        gainNode.gain.setValueAtTime(gains[index], now)\r\n        gainNode.gain.setValueAtTime(gains[index], now + duration - 0.5)\r\n        gainNode.gain.exponentialRampToValueAtTime(0.01, now + duration)\r\n\r\n        oscillator.connect(gainNode)\r\n        gainNode.connect(audioContext.destination)\r\n\r\n        oscillator.start(now)\r\n        oscillator.stop(now + duration)\r\n    })\r\n}\r\n\r\n/**\r\n * Emergency alert - urgent siren-like sound\r\n */\r\nconst playEmergencyAlert = (audioContext: AudioContext): void => {\r\n    const now = audioContext.currentTime\r\n    const cycleDuration = 0.4\r\n    const cycles = 6\r\n\r\n    for (let i = 0; i < cycles; i++) {\r\n        const startTime = now + cycleDuration * i\r\n\r\n        const oscillator = audioContext.createOscillator()\r\n        const gainNode = audioContext.createGain()\r\n\r\n        oscillator.type = 'sawtooth'\r\n\r\n        // Sweep from high to low\r\n        oscillator.frequency.setValueAtTime(1400, startTime)\r\n        oscillator.frequency.exponentialRampToValueAtTime(700, startTime + cycleDuration)\r\n\r\n        gainNode.gain.setValueAtTime(0.5, startTime)\r\n        gainNode.gain.setValueAtTime(0.5, startTime + cycleDuration - 0.05)\r\n        gainNode.gain.exponentialRampToValueAtTime(0.01, startTime + cycleDuration)\r\n\r\n        oscillator.connect(gainNode)\r\n        gainNode.connect(audioContext.destination)\r\n\r\n        oscillator.start(startTime)\r\n        oscillator.stop(startTime + cycleDuration)\r\n    }\r\n}\r\n\r\n/**\r\n * Dismissal bell - cheerful ascending melody\r\n */\r\nconst playDismissalBell = (audioContext: AudioContext): void => {\r\n    const now = audioContext.currentTime\r\n    const noteDuration = 0.3\r\n    const gap = 0.05\r\n\r\n    // Happy ascending scale (C-D-E-G-C)\r\n    const notes = [523.25, 587.33, 659.25, 783.99, 1046.50]\r\n\r\n    notes.forEach((freq, index) => {\r\n        const startTime = now + (noteDuration + gap) * index\r\n        createChimeTone(audioContext, freq, startTime, noteDuration + 0.4, 0.3)\r\n    })\r\n}\r\n\r\n/**\r\n * Attention-getting announcement tone\r\n * Two-tone alert sound\r\n */\r\nconst playAnnouncementTone = (audioContext: AudioContext): void => {\r\n    const now = audioContext.currentTime\r\n    const toneDuration = 0.3\r\n    const gap = 0.1\r\n\r\n    // First tone (higher)\r\n    createTone(audioContext, 1000, now, toneDuration, 0.4)\r\n\r\n    // Second tone (lower)\r\n    createTone(audioContext, 800, now + toneDuration + gap, toneDuration, 0.4)\r\n\r\n    // Repeat for emphasis\r\n    createTone(audioContext, 1000, now + (toneDuration + gap) * 2, toneDuration, 0.3)\r\n    createTone(audioContext, 800, now + (toneDuration + gap) * 3, toneDuration, 0.3)\r\n}\r\n\r\n/**\r\n * Soft melodic chime\r\n * Pleasant ascending notes\r\n */\r\nconst playChime = (audioContext: AudioContext): void => {\r\n    const now = audioContext.currentTime\r\n    const noteDuration = 0.4\r\n    const gap = 0.05\r\n\r\n    // Ascending melody (C-E-G chord)\r\n    const notes = [523.25, 659.25, 783.99] // C5, E5, G5\r\n\r\n    notes.forEach((freq, index) => {\r\n        const startTime = now + (noteDuration + gap) * index\r\n        createChimeTone(audioContext, freq, startTime, noteDuration + 0.5, 0.25)\r\n    })\r\n}\r\n\r\n/**\r\n * Helper function to play school bell at specific time\r\n */\r\nconst playSchoolBellAtTime = (audioContext: AudioContext, startTime: number, duration: number): void => {\r\n    const frequencies = [800, 1000, 1200, 1600]\r\n    const gains = [0.3, 0.5, 0.2, 0.1]\r\n\r\n    frequencies.forEach((freq, index) => {\r\n        const oscillator = audioContext.createOscillator()\r\n        const gainNode = audioContext.createGain()\r\n\r\n        oscillator.type = 'sine'\r\n        oscillator.frequency.setValueAtTime(freq, startTime)\r\n\r\n        gainNode.gain.setValueAtTime(gains[index], startTime)\r\n        gainNode.gain.exponentialRampToValueAtTime(0.01, startTime + duration)\r\n\r\n        oscillator.connect(gainNode)\r\n        gainNode.connect(audioContext.destination)\r\n\r\n        oscillator.start(startTime)\r\n        oscillator.stop(startTime + duration)\r\n    })\r\n}\r\n\r\n/**\r\n * Helper function to create a simple tone\r\n */\r\nconst createTone = (\r\n    audioContext: AudioContext,\r\n    frequency: number,\r\n    startTime: number,\r\n    duration: number,\r\n    volume: number,\r\n    type: OscillatorType = 'sine'\r\n): void => {\r\n    const oscillator = audioContext.createOscillator()\r\n    const gainNode = audioContext.createGain()\r\n\r\n    oscillator.type = type\r\n    oscillator.frequency.setValueAtTime(frequency, startTime)\r\n\r\n    gainNode.gain.setValueAtTime(volume, startTime)\r\n    gainNode.gain.exponentialRampToValueAtTime(0.01, startTime + duration)\r\n\r\n    oscillator.connect(gainNode)\r\n    gainNode.connect(audioContext.destination)\r\n\r\n    oscillator.start(startTime)\r\n    oscillator.stop(startTime + duration)\r\n}\r\n\r\n/**\r\n * Helper function to create a chime tone with harmonics\r\n */\r\nconst createChimeTone = (\r\n    audioContext: AudioContext,\r\n    frequency: number,\r\n    startTime: number,\r\n    duration: number,\r\n    volume: number\r\n): void => {\r\n    // Fundamental frequency\r\n    const oscillator1 = audioContext.createOscillator()\r\n    const gainNode1 = audioContext.createGain()\r\n\r\n    oscillator1.type = 'sine'\r\n    oscillator1.frequency.setValueAtTime(frequency, startTime)\r\n\r\n    gainNode1.gain.setValueAtTime(volume, startTime)\r\n    gainNode1.gain.exponentialRampToValueAtTime(0.01, startTime + duration)\r\n\r\n    oscillator1.connect(gainNode1)\r\n    gainNode1.connect(audioContext.destination)\r\n\r\n    // Add subtle harmonic for richness\r\n    const oscillator2 = audioContext.createOscillator()\r\n    const gainNode2 = audioContext.createGain()\r\n\r\n    oscillator2.type = 'sine'\r\n    oscillator2.frequency.setValueAtTime(frequency * 2, startTime)\r\n\r\n    gainNode2.gain.setValueAtTime(volume * 0.2, startTime)\r\n    gainNode2.gain.exponentialRampToValueAtTime(0.01, startTime + duration)\r\n\r\n    oscillator2.connect(gainNode2)\r\n    gainNode2.connect(audioContext.destination)\r\n\r\n    oscillator1.start(startTime)\r\n    oscillator1.stop(startTime + duration)\r\n    oscillator2.start(startTime)\r\n    oscillator2.stop(startTime + duration)\r\n}\r\n\r\n/**\r\n * Adhan Call - Islamic call to prayer tone\r\n * Reverent, melodic tone inspired by the call to prayer\r\n */\r\nconst playAdhanCall = (audioContext: AudioContext): void => {\r\n    const now = audioContext.currentTime\r\n    const noteDuration = 0.8\r\n    const gap = 0.15\r\n\r\n    // Melodic sequence inspired by traditional Adhan intervals\r\n    // Using maqam-like intervals (Middle Eastern scale)\r\n    const notes = [\r\n        440.00,  // A\r\n        493.88,  // B\r\n        523.25,  // C\r\n        587.33,  // D\r\n        523.25,  // C (return)\r\n        493.88,  // B\r\n        440.00   // A (return to root)\r\n    ]\r\n\r\n    notes.forEach((freq, index) => {\r\n        const startTime = now + (noteDuration + gap) * index\r\n        createPrayerTone(audioContext, freq, startTime, noteDuration + 1.0, 0.25)\r\n    })\r\n}\r\n\r\n/**\r\n * Islamic Chime - Gentle reminder for prayer times\r\n * Soft, respectful chime\r\n */\r\nconst playIslamicChime = (audioContext: AudioContext): void => {\r\n    const now = audioContext.currentTime\r\n    const noteDuration = 0.5\r\n    const gap = 0.1\r\n\r\n    // Peaceful descending pattern\r\n    const notes = [\r\n        783.99,  // G5\r\n        659.25,  // E5\r\n        523.25,  // C5\r\n        392.00   // G4\r\n    ]\r\n\r\n    notes.forEach((freq, index) => {\r\n        const startTime = now + (noteDuration + gap) * index\r\n        createPrayerTone(audioContext, freq, startTime, noteDuration + 0.8, 0.2)\r\n    })\r\n}\r\n\r\n/**\r\n * Prayer Bell - Simple, reverent bell for prayer time\r\n * Single sustained tone with gentle decay\r\n */\r\nconst playPrayerBell = (audioContext: AudioContext): void => {\r\n    const now = audioContext.currentTime\r\n    const duration = 3.0\r\n\r\n    // Lower, more reverent frequencies\r\n    const frequencies = [440, 550, 660]  // A, C#, E (harmonious triad)\r\n    const gains = [0.3, 0.2, 0.1]\r\n\r\n    frequencies.forEach((freq, index) => {\r\n        const oscillator = audioContext.createOscillator()\r\n        const gainNode = audioContext.createGain()\r\n\r\n        oscillator.type = 'sine'\r\n        oscillator.frequency.setValueAtTime(freq, now)\r\n\r\n        // Gentle, sustained tone with slow decay\r\n        gainNode.gain.setValueAtTime(gains[index], now)\r\n        gainNode.gain.setValueAtTime(gains[index] * 0.8, now + duration * 0.7)\r\n        gainNode.gain.exponentialRampToValueAtTime(0.01, now + duration)\r\n\r\n        oscillator.connect(gainNode)\r\n        gainNode.connect(audioContext.destination)\r\n\r\n        oscillator.start(now)\r\n        oscillator.stop(now + duration)\r\n    })\r\n}\r\n\r\n/**\r\n * Helper function to create prayer tones with warm character\r\n */\r\nconst createPrayerTone = (\r\n    audioContext: AudioContext,\r\n    frequency: number,\r\n    startTime: number,\r\n    duration: number,\r\n    volume: number\r\n): void => {\r\n    // Fundamental with warm character\r\n    const oscillator1 = audioContext.createOscillator()\r\n    const gainNode1 = audioContext.createGain()\r\n\r\n    oscillator1.type = 'sine'\r\n    oscillator1.frequency.setValueAtTime(frequency, startTime)\r\n\r\n    // Gentle attack and decay\r\n    gainNode1.gain.setValueAtTime(0.01, startTime)\r\n    gainNode1.gain.exponentialRampToValueAtTime(volume, startTime + 0.1)\r\n    gainNode1.gain.setValueAtTime(volume * 0.7, startTime + duration * 0.6)\r\n    gainNode1.gain.exponentialRampToValueAtTime(0.01, startTime + duration)\r\n\r\n    oscillator1.connect(gainNode1)\r\n    gainNode1.connect(audioContext.destination)\r\n\r\n    // Add subtle lower harmonic for warmth\r\n    const oscillator2 = audioContext.createOscillator()\r\n    const gainNode2 = audioContext.createGain()\r\n\r\n    oscillator2.type = 'sine'\r\n    oscillator2.frequency.setValueAtTime(frequency * 0.5, startTime)\r\n\r\n    gainNode2.gain.setValueAtTime(0.01, startTime)\r\n    gainNode2.gain.exponentialRampToValueAtTime(volume * 0.15, startTime + 0.1)\r\n    gainNode2.gain.exponentialRampToValueAtTime(0.01, startTime + duration)\r\n\r\n    oscillator2.connect(gainNode2)\r\n    gainNode2.connect(audioContext.destination)\r\n\r\n    oscillator1.start(startTime)\r\n    oscillator1.stop(startTime + duration)\r\n    oscillator2.start(startTime)\r\n    oscillator2.stop(startTime + duration)\r\n}\r\n\r\n// ============================================================================\r\n// NEW NATURAL SCHOOL BELL SOUNDS\r\n// ============================================================================\r\n\r\n/**\r\n * Classic Hand Bell - Traditional teacher's hand bell\r\n * High-pitched metallic ring with natural decay\r\n * Mimics the sound of a brass hand bell being rung\r\n */\r\nconst playClassicHandBell = (audioContext: AudioContext): void => {\r\n    const now = audioContext.currentTime\r\n    const duration = 3.0\r\n\r\n    // Hand bells have a bright, high-pitched fundamental with many harmonics\r\n    const frequencies = [1200, 2400, 3600, 4800, 6000, 7200]\r\n    const gains = [0.4, 0.25, 0.15, 0.1, 0.06, 0.04]\r\n\r\n    frequencies.forEach((freq, index) => {\r\n        const oscillator = audioContext.createOscillator()\r\n        const gainNode = audioContext.createGain()\r\n\r\n        // Mix of sine and triangle for metallic quality\r\n        oscillator.type = index < 2 ? 'triangle' : 'sine'\r\n        oscillator.frequency.setValueAtTime(freq, now)\r\n\r\n        // Quick attack, long decay - characteristic of hand bells\r\n        gainNode.gain.setValueAtTime(0.01, now)\r\n        gainNode.gain.exponentialRampToValueAtTime(gains[index], now + 0.02)\r\n        gainNode.gain.exponentialRampToValueAtTime(0.01, now + duration)\r\n\r\n        oscillator.connect(gainNode)\r\n        gainNode.connect(audioContext.destination)\r\n\r\n        oscillator.start(now)\r\n        oscillator.stop(now + duration)\r\n    })\r\n\r\n    // Add slight metallic shimmer with noise\r\n    addMetallicShimmer(audioContext, now, 0.5, 0.08)\r\n}\r\n"],"names":[],"mappings":"sCA8HA,IAAM,EAAuB,CAAC,EAA4B,EAAmB,KAEzE,IAAM,EAAQ,CAAC,IAAM,IAAM,GAAK,IAAK,CADjB,AAGpB,CAHqB,IAAK,KAAM,KAAM,KAAK,CAG/B,OAAO,CAAC,CAAC,EAAM,KACvB,IAAM,EAAa,EAAa,gBAAgB,GAC1C,EAAW,EAAa,UAAU,GAExC,EAAW,IAAI,CAAG,WAClB,EAAW,SAAS,CAAC,cAAc,CAAC,EAAM,GAE1C,EAAS,IAAI,CAAC,cAAc,CAAC,CAAK,CAAC,EAAM,CAAE,GAC3C,EAAS,IAAI,CAAC,4BAA4B,CAAC,IAAM,EAAY,GAE7D,EAAW,OAAO,CAAC,GACnB,EAAS,OAAO,CAAC,EAAa,WAAW,EAEzC,EAAW,KAAK,CAAC,GACjB,EAAW,IAAI,CAAC,EAAY,EAChC,EACJ,EAEM,EAAsB,CAAC,EAA4B,EAAmB,KAExE,IAAM,EAAQ,CAAC,GAAK,GAAK,GAAK,GAAK,IAAK,CADpB,AAGpB,CAHqB,IAAM,KAAM,IAAM,KAAM,IAAK,CAGtC,OAAO,CAAC,CAAC,EAAM,KACvB,IAAM,EAAa,EAAa,gBAAgB,GAC1C,EAAW,EAAa,UAAU,GAExC,EAAW,IAAI,CAAG,SAClB,EAAW,SAAS,CAAC,cAAc,CAAC,EAAM,GAE1C,EAAS,IAAI,CAAC,cAAc,CAAC,CAAK,CAAC,EAAM,CAAE,GAC3C,EAAS,IAAI,CAAC,4BAA4B,CAAC,IAAM,EAAY,GAE7D,EAAW,OAAO,CAAC,GACnB,EAAS,OAAO,CAAC,EAAa,WAAW,EAEzC,EAAW,KAAK,CAAC,GACjB,EAAW,IAAI,CAAC,EAAY,EAChC,EACJ,EAEM,EAAmB,CAAC,EAA4B,EAAmB,KAErE,IAAM,EAAQ,CAAC,IAAM,IAAM,IAAM,IAAK,CADlB,AAGpB,CAHqB,IAAM,KAAM,KAAM,IAAK,CAGhC,OAAO,CAAC,CAAC,EAAM,KACvB,IAAM,EAAa,EAAa,gBAAgB,GAC1C,EAAW,EAAa,UAAU,GAExC,EAAW,IAAI,CAAG,OAClB,EAAW,SAAS,CAAC,cAAc,CAAC,EAAM,GAE1C,EAAS,IAAI,CAAC,cAAc,CAAC,CAAK,CAAC,EAAM,CAAE,GAC3C,EAAS,IAAI,CAAC,4BAA4B,CAAC,IAAM,EAAY,GAE7D,EAAW,OAAO,CAAC,GACnB,EAAS,OAAO,CAAC,EAAa,WAAW,EAEzC,EAAW,KAAK,CAAC,GACjB,EAAW,IAAI,CAAC,EAAY,EAChC,EACJ,EC6BM,EAAyB,CAC3B,EACA,EACA,EACA,KAiBA,IAAM,EAAQ,CAAC,GAAK,GAAK,GAAK,GAAK,IAAM,GAAK,IAAM,IAAK,CAXrC,AAapB,CAZI,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KAAO,AACV,CAIW,OAAO,CAAC,CAAC,EAAM,KACvB,IAAM,AANsB,EAMT,EAAa,gBAAgB,GAC1C,EAAW,EAAa,UAAU,GAGxC,EAAW,IAAI,CAAG,WAClB,EAAW,SAAS,CAAC,cAAc,CAAC,EAAM,GAG1C,IAAM,EAAe,CAAK,CAAC,EAAM,CAAG,EACpC,EAAS,IAAI,CAAC,cAAc,CAAC,IAAM,GACnC,EAAS,IAAI,CAAC,4BAA4B,CAAC,EAAc,EAAY,KACrE,EAD2E,AAClE,IAAI,CAAC,cADgF,cACpD,CAAgB,GAAf,EAAoB,EAAY,KAC3E,EADiF,AACxE,IAAI,CAAC,iBADyF,WAC7D,CAAC,IAAM,EAAY,GAE7D,EAAW,MAF4D,CAErD,CAAC,GACnB,EAAS,KAH0E,EAGnE,CAAC,EAAa,WAAW,EAEzC,EAAW,KAAK,CAAC,GACjB,EAAW,IAAI,CAAC,EAAY,EAChC,GAGA,IAAM,EAAa,AAA0B,KAAK,CAAlB,UAAU,CACpC,EAAS,EADmD,AACtC,YAAY,CAAC,EAAG,EAAY,EAAa,UAAU,EACzE,EAAO,EAAO,cAAc,CAAC,GAGnC,IAAK,IAAI,EAAI,EAAG,EAAI,EAAY,IAAK,AACjC,CAAI,CAAC,EAAE,CAAG,CAAiB,EAAhB,KAAK,MAAM,IAAS,CAAC,CAAI,GAAM,EAG9C,IAAM,EAAQ,EAAa,kBAAkB,GACvC,EAAc,EAAa,kBAAkB,GAC7C,EAAY,EAAa,UAAU,GAEzC,EAAM,MAAM,CAAG,EAGf,EAAY,IAAI,CAAG,WACnB,EAAY,SAAS,CAAC,cAAc,CAAC,IAAM,GAC3C,EAAY,CAAC,CAAC,cAAc,CAAC,EAAG,GAEhC,EAAU,IAAI,CAAC,cAAc,CAAC,GAAM,EAAW,GAC/C,EAAU,IAAI,CAAC,4BAA4B,CAAC,IAAM,EAAY,KAE9D,EAAM,OAAO,CAAC,GACd,EAAY,OAAO,CAAC,GACpB,EAAU,OAAO,CAAC,EAAa,WAAW,EAE1C,EAAM,KAAK,CAAC,EAChB,EAsNM,EAAuB,CAAC,EAA4B,EAAmB,KAEzE,IAAM,EAAQ,CAAC,GAAK,GAAK,GAAK,GAAI,CAElC,AAHoB,CAAC,IAAK,IAAM,KAAM,KAAK,CAG/B,OAAO,CAAC,CAAC,EAAM,KACvB,IAAM,EAAa,EAAa,gBAAgB,GAC1C,EAAW,EAAa,UAAU,GAExC,EAAW,IAAI,CAAG,OAClB,EAAW,SAAS,CAAC,cAAc,CAAC,EAAM,GAE1C,EAAS,IAAI,CAAC,cAAc,CAAC,CAAK,CAAC,EAAM,CAAE,GAC3C,EAAS,IAAI,CAAC,4BAA4B,CAAC,IAAM,EAAY,GAE7D,EAAW,OAAO,CAAC,GACnB,EAAS,OAAO,CAAC,EAAa,WAAW,EAEzC,EAAW,KAAK,CAAC,GACjB,EAAW,IAAI,CAAC,EAAY,EAChC,EACJ,EAKM,EAAa,CACf,EACA,EACA,EACA,EACA,EACA,EAAuB,MAAM,IAE7B,IAAM,EAAa,EAAa,gBAAgB,GAC1C,EAAW,EAAa,UAAU,GAExC,EAAW,IAAI,CAAG,EAClB,EAAW,SAAS,CAAC,cAAc,CAAC,EAAW,GAE/C,EAAS,IAAI,CAAC,cAAc,CAAC,EAAQ,GACrC,EAAS,IAAI,CAAC,4BAA4B,CAAC,IAAM,EAAY,GAE7D,EAAW,OAAO,CAAC,GACnB,EAAS,OAAO,CAAC,EAAa,WAAW,EAEzC,EAAW,KAAK,CAAC,GACjB,EAAW,IAAI,CAAC,EAAY,EAChC,EAKM,EAAkB,CACpB,EACA,EACA,EACA,EACA,KAGA,IAAM,EAAc,EAAa,gBAAgB,GAC3C,EAAY,EAAa,UAAU,GAEzC,EAAY,IAAI,CAAG,OACnB,EAAY,SAAS,CAAC,cAAc,CAAC,EAAW,GAEhD,EAAU,IAAI,CAAC,cAAc,CAAC,EAAQ,GACtC,EAAU,IAAI,CAAC,4BAA4B,CAAC,IAAM,EAAY,GAE9D,EAAY,OAAO,CAAC,GACpB,EAAU,OAAO,CAAC,EAAa,WAAW,EAG1C,IAAM,EAAc,EAAa,gBAAgB,GAC3C,EAAY,EAAa,UAAU,GAEzC,EAAY,IAAI,CAAG,OACnB,EAAY,SAAS,CAAC,cAAc,CAAa,EAAZ,EAAe,GAEpD,EAAU,IAAI,CAAC,cAAc,CAAU,GAAT,EAAc,GAC5C,EAAU,IAAI,CAAC,4BAA4B,CAAC,IAAM,EAAY,GAE9D,EAAY,OAAO,CAAC,GACpB,EAAU,OAAO,CAAC,EAAa,WAAW,EAE1C,EAAY,KAAK,CAAC,GAClB,EAAY,IAAI,CAAC,EAAY,GAC7B,EAAY,KAAK,CAAC,GAClB,EAAY,IAAI,CAAC,EAAY,EACjC,EAuFM,EAAmB,CACrB,EACA,EACA,EACA,EACA,KAGA,IAAM,EAAc,EAAa,gBAAgB,GAC3C,EAAY,EAAa,UAAU,GAEzC,EAAY,IAAI,CAAG,OACnB,EAAY,SAAS,CAAC,cAAc,CAAC,EAAW,GAGhD,EAAU,IAAI,CAAC,cAAc,CAAC,IAAM,GACpC,EAAU,IAAI,CAAC,4BAA4B,CAAC,EAAQ,EAAY,IAChE,EAAU,IAAI,CAAC,cAAc,CAAU,GAAT,EAAc,EAAuB,GAAX,GACxD,EAAU,IAAI,CAAC,4BAA4B,CAAC,IAAM,EAAY,GAE9D,EAAY,OAAO,CAAC,GACpB,EAAU,OAAO,CAAC,EAAa,WAAW,EAG1C,IAAM,EAAc,EAAa,gBAAgB,GAC3C,EAAY,EAAa,UAAU,GAEzC,EAAY,IAAI,CAAG,OACnB,EAAY,SAAS,CAAC,cAAc,CAAa,GAAZ,EAAiB,GAEtD,EAAU,IAAI,CAAC,cAAc,CAAC,IAAM,GACpC,EAAU,IAAI,CAAC,4BAA4B,CAAU,IAAT,EAAe,EAAY,IACvE,EAAU,IAAI,CAAC,4BAA4B,CAAC,IAAM,EAAY,GAE9D,EAAY,OAAO,CAAC,GACpB,EAAU,OAAO,CAAC,EAAa,WAAW,EAE1C,EAAY,KAAK,CAAC,GAClB,EAAY,IAAI,CAAC,EAAY,GAC7B,EAAY,KAAK,CAAC,GAClB,EAAY,IAAI,CAAC,EAAY,EACjC,yBAzqB6B,AAAC,IAE1B,GAAa,SAAT,EAAiB,YACjB,QAAQ,GAAG,CAAC,kDAIhB,IAAM,EAAe,IAAI,AAAC,OAAO,YAAY,EAAK,OAAe,kBAAA,AAAkB,EAEnF,OAAQ,GACJ,IAAK,aA4PH,EALA,EAAM,CADQ,EArPG,GAsPE,WAAW,GAKtB,CAAC,GAAK,GAAK,GAAK,GAAI,CAElC,AAHoB,CAAC,IAAK,IAAM,KAAM,KAAK,CAG/B,AAHgC,OAGzB,CAAC,CAAC,EAAM,CAH6B,IAIpD,IAAM,EAAa,EAAa,gBAAgB,GAC1C,EAAW,EAAa,UAAU,GAExC,EAAW,IAAI,CAAG,OAClB,EAAW,SAAS,CAAC,cAAc,CAAC,EAAM,GAG1C,EAAS,IAAI,CAAC,cAAc,CAAC,CAAK,CAAC,EAAM,CAAE,GAC3C,EAAS,IAAI,CAAC,4BAA4B,CAAC,IAAM,MAAM,CAEvD,EAAW,OAAO,CAAC,GACnB,EAAS,OAAO,CAAC,EAAa,WAAW,EAEzC,EAAW,KAAK,CAAC,GACjB,EAAW,IAAI,CAAC,EArBH,IAsBjB,AAD0B,GA3QlB,KACJ,KAAK,qBA+ZH,EAAM,CADc,EA7ZG,GA8ZJ,WAAW,CAKpC,EAAW,EAAc,IAAM,KAAK,AAAc,IAGlD,EAAW,EAAc,IAAK,KANlB,CAMwB,EAPf,GAOiD,IAGtE,EAAW,EAAc,EAH0B,EAGpB,EAAM,CAHmB,AAGlB,KAAuC,IAC7E,EAAW,EAAc,EAD4B,EACvB,CAD0B,CACpB,CAAC,EADuB,GAAG,UACX,GAAG,GAAqB,CAAjB,GAAG,AAzatD,KACJ,KAAK,cAgbH,EAAM,GA/aM,GA+aO,WAAW,CAKtB,AAEd,CAFe,OAAQ,OAAQ,OAAO,CAAC,AAEjC,OAAO,CAAC,CAAC,EAAM,EAF+B,GAIhD,EAAgB,EAAc,EADZ,EAAM,AAAC,EACW,EADW,EACA,GAAoB,IACvE,EAF4C,CAtbpC,EAsbuC,GArb3C,AAsb8D,KAtbzD,0BA4aM,QAtCQ,UDpQG,UC0IF,EA3QG,EA4Q3B,IAAM,EAAM,EAAa,WAAW,CAKpC,IAAK,IAAI,EAAI,EAAG,EAHE,EAGE,AAAW,IAE3B,AAFgC,EAErB,EAAc,KADP,CACa,CADP,AAAC,IAAsB,EAL9B,IAMyB,AAAc,GAAK,EADrB,GAAG,KAjRvC,KACJ,KAAK,2BA0RH,EAAM,CADe,EAxRG,GAyRL,WAAW,CAKtB,AAEd,CAFe,OAAQ,OAAQ,OAAQ,OAAO,CAExC,OAAO,CAAC,CAAC,EAAM,KAEjB,EAAgB,EAAc,EADZ,EAAM,AAAC,EACW,CADW,EACA,IAAoB,GACvE,GAF4C,AAhSpC,GAgSuC,EA/R3C,AAgS8D,KAhSzD,oBAwSH,EAAM,CADQ,EAtSG,GAuSE,WAAW,CAKpC,EAAqB,EAAc,EAJd,GAImB,CAExC,EAAqB,EAAc,KALvB,CAK6B,MA7SjC,KACJ,IA4SoD,CA5S/C,IA4SoD,cAMzC,EAjTG,EAkTvB,IAAM,EAAM,EAAa,WAAW,CAIpC,IAAK,IAAI,EAAI,EAAG,EAAI,EAAG,IAAK,AACxB,EAAqB,EAAc,EAAM,AAAC,GAAsB,EAJ/C,CAIkD,GAtT/D,KACJ,CAqTyD,GAAG,CArTvD,oBA6TH,EAAM,CADM,EA3TG,GA4TI,WAAW,CAI9B,EAAQ,CAAC,IAAM,GAAK,IAAM,IAAK,CADjB,AAGpB,CAHqB,IAAK,IAAM,KAAM,KAAK,CAG/B,OAAO,CAAC,CAAC,EAAM,KACvB,IAAM,EAAa,EAAa,gBAAgB,GAC1C,EAAW,EAAa,UAAU,GAExC,EAAW,IAAI,CAAG,OAClB,EAAW,SAAS,CAAC,cAAc,CAAC,EAAM,GAG1C,EAAS,IAAI,CAAC,cAAc,CAAC,CAAK,CAAC,EAAM,CAAE,GAC3C,EAAS,IAAI,CAAC,cAAc,CAAC,CAAK,CAAC,EAAM,CAAE,EAd9B,EAc+C,EAAX,EACjD,EAAS,IAAI,CAAC,4BAA4B,CAAC,IAAM,KAEjD,CAFuD,CAE5C,OAAO,CAAC,GACnB,EAAS,OAAO,CAAC,EAAa,WAAW,EAEzC,EAAW,KAAK,CAAC,GACjB,EAAW,IAAI,CAAC,IACpB,EAD0B,CAjVlB,KACJ,KAAK,kBACD,CAsVgB,AAAD,IACvB,IAAM,EAAM,EAAa,WAAW,CAIpC,IAAK,IAAI,EAAI,EAAG,EAFD,EAEa,AAAR,IAAa,CAC7B,IAAM,EAAY,EAJA,AAIM,GAAgB,EAElC,EAAa,EAAa,gBAAgB,GAC1C,EAAW,EAAa,UAAU,GAExC,EAAW,IAAI,CAAG,WAGlB,EAAW,SAAS,CAAC,cAAc,CAAC,KAAM,GAC1C,EAAW,SAAS,CAAC,4BAA4B,CAAC,IAAK,MAEvD,EAAS,IAF0D,AAEtD,CAAC,cAAc,CAAC,GAAK,GAClC,EAAS,IAAI,CAAC,cAAc,CAAC,GAAK,KAA4B,KAC9D,EAD8C,AACrC,IAAI,CAAC,4BAA4B,CAAC,IAAM,MAEjD,EAAW,IAFkD,GAE3C,CAAC,GACnB,EAAS,OAAO,CAAC,EAAa,WAAW,EAEzC,EAAW,KAAK,CAAC,GACjB,EAAW,IAAI,CAAC,KACpB,CACJ,GAjX+B,GACnB,AA8WwB,KA7W5B,KAAK,uBAqXH,EAAM,GApXc,GAoXD,WAAW,CAOpC,AAFc,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,CAEjD,OAAO,CAAC,CAAC,EAAM,KAEjB,EAAgB,EAAc,EADZ,EAAM,AAAC,EACW,EADW,EACA,GAAoB,GACvE,GAF4C,AA3XpC,GA2XuC,EA1X3C,CA2X8D,IA3XzD,mBAwgBH,EAAM,CADO,EAtgBG,GAugBG,WAAW,CAMtB,AAUd,CATI,IACA,OACA,OACA,OACA,OACA,OACA,IACH,CAEK,EAHO,KAGA,CAAC,CAAC,EAAM,KAEjB,EAAiB,EAAc,EADb,CAJY,CAIN,CAAC,AAhBR,CAiBoB,EAhB7B,GAegC,CAAG,CAAI,EACC,IAAoB,CAD5B,GAE5C,GAzhBQ,IAwhB2D,CAvhB/D,KAAK,sBAgiBH,EAAM,CADU,EA9hBG,GA+hBA,WAAW,CAKtB,AAOd,CANI,OACA,OACA,OACA,IACH,CAEK,EAHO,KAAK,AAGL,CAAC,CAAC,EAAM,KAEjB,EAAiB,EAAc,EADb,EAAM,AAAC,EACY,CADU,EACC,IAAoB,GACxE,GA7iBQ,AA2iBoC,GAAG,EA1iB3C,AA2iB+D,KA3iB1D,sBAojBH,EAAM,CADQ,EAljBG,GAmjBE,WAAW,CAK9B,EAAQ,CAAC,GAAK,GAAK,GAAI,CADT,AAGpB,CAHqB,IAAK,IAAK,IAAI,CAAE,AAGzB,OAAO,CAAC,CAAC,EAAM,KACvB,IAAM,EAAa,EAAa,MAJ+B,UAIf,GAC1C,EAAW,EAAa,UAAU,GAExC,EAAW,IAAI,CAAG,OAClB,EAAW,SAAS,CAAC,cAAc,CAAC,EAAM,GAG1C,EAAS,IAAI,CAAC,cAAc,CAAC,CAAK,CAAC,EAAM,CAAE,GAC3C,EAAS,IAAI,CAAC,cAAc,CAAgB,GAAf,CAAK,CAAC,EAAM,CAAQ,EAAM,WAAW,SAClE,EAAS,IAAI,CAAC,4BAA4B,CAAC,IAAM,KAEjD,CAFuD,CAE5C,OAAO,CAAC,GACnB,EAAS,OAAO,CAAC,EAAa,WAAW,EAEzC,EAAW,KAAK,CAAC,GACjB,EAAW,IAAI,CAAC,EAtBH,EAuBjB,EAD0B,CAzkBlB,KAEJ,KAAK,4BAmoBH,EAAM,CADa,EAjoBG,GAkoBH,WAAW,CAK9B,EAAQ,CAAC,GAAK,IAAM,IAAM,GAAK,IAAM,IAAK,CAD5B,AAGpB,CAHqB,KAAM,KAAM,KAAM,KAAM,IAAM,KAAK,CAG5C,OAAO,CAAC,CAAC,EAAM,KACvB,IAAM,EAAa,EAAa,gBAAgB,GAC1C,EAAW,EAAa,UAAU,GAGxC,EAAW,IAAI,CAAG,EAAQ,EAAI,WAAa,OAC3C,EAAW,SAAS,CAAC,cAAc,CAAC,EAAM,GAG1C,EAAS,IAAI,CAAC,cAAc,CAAC,IAAM,GACnC,EAAS,IAAI,CAAC,4BAA4B,CAAC,CAAK,CAAC,EAAM,CAAE,EAAM,KAC/D,EAAS,IAAI,CAAC,4BAA4B,CAAC,IAAM,EAjBpC,GAmBb,CAFuD,CAE5C,OAAO,CAAC,GACnB,EAAS,OAAO,CAAC,EAAa,WAAW,EAEzC,EAAW,KAAK,CAAC,GACjB,EAAW,IAAI,CAAC,IACpB,EAD0B,CAI1B,CA7nBuB,CAAC,EAA4B,EAAmB,EAAkB,KAEzF,IAAM,KAAa,EAAa,UAAU,CACpC,EADuC,AAC9B,EAAa,YAAY,CAAC,EAAG,EAAY,EAAa,UAAU,EACzE,EAAO,EAAO,cAAc,CAAC,GAGnC,IAAK,IAAI,EAAI,EAAG,EAAI,EAAY,IAAK,AACjC,CAAI,CAAC,EAAE,CAAG,CAAC,AAAgB,OAAX,MAAM,IAAS,CAAC,IAAI,CAGxC,IAAM,EAAQ,EAAa,kBAAkB,GACvC,EAAS,EAAa,kBAAkB,GACxC,EAAW,EAAa,UAAU,GAExC,EAAM,MAAM,CAAG,EAGf,EAAO,IAAI,CAAG,WACd,EAAO,SAAS,CAAC,cAAc,CAAC,IAAM,GAEtC,EAAS,IAAI,CAAC,cAAc,CAAC,AAwmBc,IAxmBN,GACrC,EAAS,IAAI,CAAC,4BAA4B,CAAC,IAAM,EAumBX,IArmBtC,EAAM,IAFuD,GAEhD,CAAC,GACd,EAAO,OAAO,CAAC,GACf,EAAS,OAAO,CAAC,EAAa,WAAW,EAEzC,EAAM,KAAK,CAAC,GACZ,EAAM,IAAI,CAAC,MACf,EA+lBuB,EAAc,EAhmBV,KA7Df,KACJ,KAAK,4BDtFH,EAAM,EAAa,WAAW,CAK9B,EAAQ,CAAC,GAAK,GAAK,GAAK,GAAK,IAAM,IAAM,IAAK,CADhC,AAGpB,CAHqB,IAAK,IAAK,IAAK,KAAM,KAAM,KAAM,KAAK,CAG/C,OAAO,CAAC,CAAC,EAAM,KACvB,IAAM,EAAa,EAAa,gBAAgB,GAC1C,EAAW,AC8EO,ED9EM,UAAU,GAExC,EAAW,IAAI,CAAG,WAClB,EAAW,SAAS,CAAC,cAAc,CAAC,EAAM,GAG1C,EAAS,IAAI,CAAC,cAAc,CAAC,CAAK,CAAC,EAAM,CAAE,GAC3C,EAAS,IAAI,CAAC,4BAA4B,CAAC,IAAM,KAEjD,CAFuD,CAE5C,OAAO,CAAC,GACnB,EAAS,OAAO,CAAC,EAAa,WAAW,EAEzC,EAAW,KAAK,CAAC,GACjB,EAAW,IAAI,CAAC,IACpB,EAD0B,KAgK4B,EA5JnB,EA4JsC,EArLxD,CAyBuB,CA8JpB,AAEpB,CAFqB,IAAM,CAFgE,GA5JzC,CA8JjB,IAAM,KAAK,CAEhC,OAAO,CAAE,AAAD,IAChB,IAAM,EAAa,EAAa,gBAAgB,GAC1C,EAAW,EAAa,UAAU,GAExC,EAAW,IAAI,CAAG,OAClB,EAAW,SAAS,CAAC,cAAc,CAAC,EAAM,GAE1C,EAAS,IAAI,CAAC,cAAc,CAAC,KAAc,GAC3C,CADsC,CAC7B,IAAI,CAAC,4BAA4B,CAAC,IAAM,EAAY,KAE7D,EAAW,IAF6D,GAEtD,CAAC,GACnB,EAAS,OAAO,CAAC,EAAa,WAAW,EAEzC,EAAW,KAAK,CAAC,GACjB,EAAW,IAAI,CAAC,EAAY,IAChC,GCjHQ,IDgHmC,CC/GvC,KAAK,qBDlDH,EALA,EAAM,EAAa,WAAW,GAKtB,CAAC,GAAK,GAAK,IAAM,IAAK,CAEpC,AAHoB,CAAC,IAAK,KAAM,KAAM,KAAK,CAG/B,OAAO,CAAC,CAAC,EAAM,KACvB,IAAM,EAAa,EAAa,gBAAgB,GAC1C,EAAW,EAAa,UAAU,GAClC,EAAS,EAAa,kBAAkB,GAE9C,EAAW,IAAI,CAAG,OAClB,EAAW,SAAS,CAAC,cAAc,CAAC,EAAM,GAG1C,EAAO,IAAI,CAAG,UACd,EAAO,SAAS,CAAC,cAAc,CAAC,IAAM,GACtC,EAAO,CAAC,CAAC,cAAc,CAAC,EAAG,GAE3B,EAAS,IAAI,CAAC,cAAc,CAAC,CAAK,CAAC,EAAM,CAAE,GAC3C,EAAS,IAAI,CAAC,4BAA4B,CAAC,IAAM,MAAM,CAEvD,EAAW,OAAO,CAAC,GACnB,EAAO,OAAO,CAAC,GACf,EAAS,OAAO,CAAC,AC+BG,ED/BU,WAAW,EAEzC,EAAW,KAAK,CAAC,GACjB,EAAW,IAAI,CAAC,EA3BH,IA2BS,AAC1B,GC4BQ,KACJ,KAAK,kBDrBT,IAAM,EAAM,EAAa,WAAW,CAKpC,IAAK,IAAI,EAAI,EAAG,EAHI,EAGA,CAAa,IAAK,AAElC,ECeuB,EDhBJ,EAHA,IAGO,EALP,EAKW,GCiB1B,IDhBiB,CCiBrB,KAAK,QDjB8B,UASvC,EATmD,EAS7C,EAAM,EAAa,WAAW,CAKpC,IAAK,IAAI,EAAI,EAAG,EAHI,EAGA,CAAa,IAE7B,AAFkC,ECIZ,EDHH,EAHA,IAGO,EALP,EAKW,ECI1B,IDHgB,CCIpB,KAAK,QDJ6B,MAStC,IAAM,EAAM,AATsC,EASzB,WAAW,CAKpC,IAAK,IAAI,EAAI,EAAG,EAAI,EAAG,IAAK,AAExB,ECXmB,EDUD,EAAM,AAAC,IAAsB,EAL9B,ICJb,CDUa,IADuB,ACPxC,GDO2C,ECPtC,KDQ0B,WAAW,QCiDxC,EAAM,CADW,EAvDG,GAwDD,WAAW,CAKpC,AAFkB,CAAC,EAAG,IAAM,IAAM,KAAM,KAAM,KAAK,CAEzC,OAAO,CAAC,AAAC,IACf,EAAuB,EAAc,EAAM,EAAM,GAAK,EAC1D,GA9DQ,KACJ,KAAK,0BAoEkB,EAnEG,EAoE9B,IAAM,GAAM,EAAa,WAAW,CAIpC,IAAK,IAAI,EAAI,EAAG,EAHI,EAGA,CAAa,IAAK,AAQlC,EAAuB,EALJ,GALF,AAKS,IAAI,EADZ,CAAC,EAMkB,GANb,MAAM,CACgB,EADX,EAAA,CAAG,CAAI,IAMO,IAF/B,EAEqC,CAFd,GAAhB,KAAK,MAAM,IA7EhC,KACJ,KAAK,0BAuFH,GAAM,CADY,EArFG,GAsFF,WAAW,CAGlB,AAElB,CAFmB,EAAG,GAAK,IAAM,IAAK,CAE5B,OAAO,CAAC,AAAC,IACf,EAAuB,EAAc,GAAM,EAAM,IAAM,EAC3D,EA3FA,CACJ"}