module.exports=[26948,a=>{"use strict";let b,c;var d=a.i(95583),e=a.i(45515),f=a.i(38269);let g=(0,f.default)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),h=(0,f.default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),i=(0,f.default)("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);var j=a.i(90572);let k=(0,f.default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),l=(0,f.default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),m=(0,f.default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),n=(0,f.default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);function o(a,b){if("function"==typeof a)return a(b);null!=a&&(a.current=b)}var p=e.forwardRef((a,b)=>{let{children:c,...f}=a,g=e.Children.toArray(c),h=g.find(s);if(h){let a=h.props.children,c=g.map(b=>b!==h?b:e.Children.count(a)>1?e.Children.only(null):e.isValidElement(a)?a.props.children:null);return(0,d.jsx)(q,{...f,ref:b,children:e.isValidElement(a)?e.cloneElement(a,void 0,c):null})}return(0,d.jsx)(q,{...f,ref:b,children:c})});p.displayName="Slot";var q=e.forwardRef((a,b)=>{let{children:c,...d}=a;if(e.isValidElement(c)){var f;let a,g,h=(f=c,(g=(a=Object.getOwnPropertyDescriptor(f.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?f.ref:(g=(a=Object.getOwnPropertyDescriptor(f,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?f.props.ref:f.props.ref||f.ref);return e.cloneElement(c,{...function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{f(...a),e(...a)}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(d,c.props),ref:b?function(...a){return b=>{let c=!1,d=a.map(a=>{let d=o(a,b);return c||"function"!=typeof d||(c=!0),d});if(c)return()=>{for(let b=0;b<d.length;b++){let c=d[b];"function"==typeof c?c():o(a[b],null)}}}}(b,h):h})}return e.Children.count(c)>1?e.Children.only(null):null});q.displayName="SlotClone";var r=({children:a})=>(0,d.jsx)(d.Fragment,{children:a});function s(a){return e.isValidElement(a)&&a.type===r}function t(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=function a(b){var c,d,e="";if("string"==typeof b||"number"==typeof b)e+=b;else if("object"==typeof b)if(Array.isArray(b)){var f=b.length;for(c=0;c<f;c++)b[c]&&(d=a(b[c]))&&(e&&(e+=" "),e+=d)}else for(d in b)b[d]&&(e&&(e+=" "),e+=d);return e}(a))&&(d&&(d+=" "),d+=b);return d}let u=a=>"boolean"==typeof a?`${a}`:0===a?"0":a,v=(a,b)=>{if(0===a.length)return b.classGroupId;let c=a[0],d=b.nextPart.get(c),e=d?v(a.slice(1),d):void 0;if(e)return e;if(0===b.validators.length)return;let f=a.join("-");return b.validators.find(({validator:a})=>a(f))?.classGroupId},w=/^\[(.+)\]$/,x=(a,b,c,d)=>{a.forEach(a=>{if("string"==typeof a){(""===a?b:y(b,a)).classGroupId=c;return}"function"==typeof a?z(a)?x(a(d),b,c,d):b.validators.push({validator:a,classGroupId:c}):Object.entries(a).forEach(([a,e])=>{x(e,y(b,a),c,d)})})},y=(a,b)=>{let c=a;return b.split("-").forEach(a=>{c.nextPart.has(a)||c.nextPart.set(a,{nextPart:new Map,validators:[]}),c=c.nextPart.get(a)}),c},z=a=>a.isThemeGetter,A=(a,b)=>b?a.map(([a,c])=>[a,c.map(a=>"string"==typeof a?b+a:"object"==typeof a?Object.fromEntries(Object.entries(a).map(([a,c])=>[b+a,c])):a)]):a,B=a=>{if(a.length<=1)return a;let b=[],c=[];return a.forEach(a=>{"["===a[0]?(b.push(...c.sort(),a),c=[]):c.push(a)}),b.push(...c.sort()),b},C=/\s+/;function D(){let a,b,c=0,d="";for(;c<arguments.length;)(a=arguments[c++])&&(b=E(a))&&(d&&(d+=" "),d+=b);return d}let E=a=>{let b;if("string"==typeof a)return a;let c="";for(let d=0;d<a.length;d++)a[d]&&(b=E(a[d]))&&(c&&(c+=" "),c+=b);return c},F=a=>{let b=b=>b[a]||[];return b.isThemeGetter=!0,b},G=/^\[(?:([a-z-]+):)?(.+)\]$/i,H=/^\d+\/\d+$/,I=new Set(["px","full","screen"]),J=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,K=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,L=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,M=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,N=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,O=a=>Q(a)||I.has(a)||H.test(a),P=a=>ab(a,"length",ac),Q=a=>!!a&&!Number.isNaN(Number(a)),R=a=>ab(a,"number",Q),S=a=>!!a&&Number.isInteger(Number(a)),T=a=>a.endsWith("%")&&Q(a.slice(0,-1)),U=a=>G.test(a),V=a=>J.test(a),W=new Set(["length","size","percentage"]),X=a=>ab(a,W,ad),Y=a=>ab(a,"position",ad),Z=new Set(["image","url"]),$=a=>ab(a,Z,af),_=a=>ab(a,"",ae),aa=()=>!0,ab=(a,b,c)=>{let d=G.exec(a);return!!d&&(d[1]?"string"==typeof b?d[1]===b:b.has(d[1]):c(d[2]))},ac=a=>K.test(a)&&!L.test(a),ad=()=>!1,ae=a=>M.test(a),af=a=>N.test(a),ag=function(a,...b){let c,d,e,f=function(h){let i;return d=(c={cache:(a=>{if(a<1)return{get:()=>void 0,set:()=>{}};let b=0,c=new Map,d=new Map,e=(e,f)=>{c.set(e,f),++b>a&&(b=0,d=c,c=new Map)};return{get(a){let b=c.get(a);return void 0!==b?b:void 0!==(b=d.get(a))?(e(a,b),b):void 0},set(a,b){c.has(a)?c.set(a,b):e(a,b)}}})((i=b.reduce((a,b)=>b(a),a())).cacheSize),parseClassName:(a=>{let{separator:b,experimentalParseClassName:c}=a,d=1===b.length,e=b[0],f=b.length,g=a=>{let c,g=[],h=0,i=0;for(let j=0;j<a.length;j++){let k=a[j];if(0===h){if(k===e&&(d||a.slice(j,j+f)===b)){g.push(a.slice(i,j)),i=j+f;continue}if("/"===k){c=j;continue}}"["===k?h++:"]"===k&&h--}let j=0===g.length?a:a.substring(i),k=j.startsWith("!"),l=k?j.substring(1):j;return{modifiers:g,hasImportantModifier:k,baseClassName:l,maybePostfixModifierPosition:c&&c>i?c-i:void 0}};return c?a=>c({className:a,parseClassName:g}):g})(i),...(a=>{let b=(a=>{let{theme:b,prefix:c}=a,d={nextPart:new Map,validators:[]};return A(Object.entries(a.classGroups),c).forEach(([a,c])=>{x(c,d,a,b)}),d})(a),{conflictingClassGroups:c,conflictingClassGroupModifiers:d}=a;return{getClassGroupId:a=>{let c=a.split("-");return""===c[0]&&1!==c.length&&c.shift(),v(c,b)||(a=>{if(w.test(a)){let b=w.exec(a)[1],c=b?.substring(0,b.indexOf(":"));if(c)return"arbitrary.."+c}})(a)},getConflictingClassGroupIds:(a,b)=>{let e=c[a]||[];return b&&d[a]?[...e,...d[a]]:e}}})(i)}).cache.get,e=c.cache.set,f=g,g(h)};function g(a){let b=d(a);if(b)return b;let f=((a,b)=>{let{parseClassName:c,getClassGroupId:d,getConflictingClassGroupIds:e}=b,f=[],g=a.trim().split(C),h="";for(let a=g.length-1;a>=0;a-=1){let b=g[a],{modifiers:i,hasImportantModifier:j,baseClassName:k,maybePostfixModifierPosition:l}=c(b),m=!!l,n=d(m?k.substring(0,l):k);if(!n){if(!m||!(n=d(k))){h=b+(h.length>0?" "+h:h);continue}m=!1}let o=B(i).join(":"),p=j?o+"!":o,q=p+n;if(f.includes(q))continue;f.push(q);let r=e(n,m);for(let a=0;a<r.length;++a){let b=r[a];f.push(p+b)}h=b+(h.length>0?" "+h:h)}return h})(a,c);return e(a,f),f}return function(){return f(D.apply(null,arguments))}}(()=>{let a=F("colors"),b=F("spacing"),c=F("blur"),d=F("brightness"),e=F("borderColor"),f=F("borderRadius"),g=F("borderSpacing"),h=F("borderWidth"),i=F("contrast"),j=F("grayscale"),k=F("hueRotate"),l=F("invert"),m=F("gap"),n=F("gradientColorStops"),o=F("gradientColorStopPositions"),p=F("inset"),q=F("margin"),r=F("opacity"),s=F("padding"),t=F("saturate"),u=F("scale"),v=F("sepia"),w=F("skew"),x=F("space"),y=F("translate"),z=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",U,b],C=()=>[U,b],D=()=>["",O,P],E=()=>["auto",Q,U],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],I=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",U],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>[Q,U];return{cacheSize:500,separator:":",theme:{colors:[aa],spacing:[O,P],blur:["none","",V,U],brightness:M(),borderColor:[a],borderRadius:["none","","full",V,U],borderSpacing:C(),borderWidth:D(),contrast:M(),grayscale:K(),hueRotate:M(),invert:K(),gap:C(),gradientColorStops:[a],gradientColorStopPositions:[T,P],inset:B(),margin:B(),opacity:M(),padding:C(),saturate:M(),scale:M(),sepia:K(),skew:M(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",U]}],container:["container"],columns:[{columns:[V]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),U]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",S,U]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",U]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",S,U]}],"grid-cols":[{"grid-cols":[aa]}],"col-start-end":[{col:["auto",{span:["full",S,U]},U]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[aa]}],"row-start-end":[{row:["auto",{span:[S,U]},U]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",U]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",U]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...J()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...J(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...J(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[s]}],px:[{px:[s]}],py:[{py:[s]}],ps:[{ps:[s]}],pe:[{pe:[s]}],pt:[{pt:[s]}],pr:[{pr:[s]}],pb:[{pb:[s]}],pl:[{pl:[s]}],m:[{m:[q]}],mx:[{mx:[q]}],my:[{my:[q]}],ms:[{ms:[q]}],me:[{me:[q]}],mt:[{mt:[q]}],mr:[{mr:[q]}],mb:[{mb:[q]}],ml:[{ml:[q]}],"space-x":[{"space-x":[x]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[x]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",U,b]}],"min-w":[{"min-w":[U,b,"min","max","fit"]}],"max-w":[{"max-w":[U,b,"none","full","min","max","fit","prose",{screen:[V]},V]}],h:[{h:[U,b,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[U,b,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[U,b,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[U,b,"auto","min","max","fit"]}],"font-size":[{text:["base",V,P]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",R]}],"font-family":[{font:[aa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",U]}],"line-clamp":[{"line-clamp":["none",Q,R]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",O,U]}],"list-image":[{"list-image":["none",U]}],"list-style-type":[{list:["none","disc","decimal",U]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[a]}],"placeholder-opacity":[{"placeholder-opacity":[r]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[a]}],"text-opacity":[{"text-opacity":[r]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",O,P]}],"underline-offset":[{"underline-offset":["auto",O,U]}],"text-decoration-color":[{decoration:[a]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",U]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",U]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[r]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),Y]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",X]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$]}],"bg-color":[{bg:[a]}],"gradient-from-pos":[{from:[o]}],"gradient-via-pos":[{via:[o]}],"gradient-to-pos":[{to:[o]}],"gradient-from":[{from:[n]}],"gradient-via":[{via:[n]}],"gradient-to":[{to:[n]}],rounded:[{rounded:[f]}],"rounded-s":[{"rounded-s":[f]}],"rounded-e":[{"rounded-e":[f]}],"rounded-t":[{"rounded-t":[f]}],"rounded-r":[{"rounded-r":[f]}],"rounded-b":[{"rounded-b":[f]}],"rounded-l":[{"rounded-l":[f]}],"rounded-ss":[{"rounded-ss":[f]}],"rounded-se":[{"rounded-se":[f]}],"rounded-ee":[{"rounded-ee":[f]}],"rounded-es":[{"rounded-es":[f]}],"rounded-tl":[{"rounded-tl":[f]}],"rounded-tr":[{"rounded-tr":[f]}],"rounded-br":[{"rounded-br":[f]}],"rounded-bl":[{"rounded-bl":[f]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[r]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[r]}],"divide-style":[{divide:H()}],"border-color":[{border:[e]}],"border-color-x":[{"border-x":[e]}],"border-color-y":[{"border-y":[e]}],"border-color-s":[{"border-s":[e]}],"border-color-e":[{"border-e":[e]}],"border-color-t":[{"border-t":[e]}],"border-color-r":[{"border-r":[e]}],"border-color-b":[{"border-b":[e]}],"border-color-l":[{"border-l":[e]}],"divide-color":[{divide:[e]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[O,U]}],"outline-w":[{outline:[O,P]}],"outline-color":[{outline:[a]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[a]}],"ring-opacity":[{"ring-opacity":[r]}],"ring-offset-w":[{"ring-offset":[O,P]}],"ring-offset-color":[{"ring-offset":[a]}],shadow:[{shadow:["","inner","none",V,_]}],"shadow-color":[{shadow:[aa]}],opacity:[{opacity:[r]}],"mix-blend":[{"mix-blend":[...I(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":I()}],filter:[{filter:["","none"]}],blur:[{blur:[c]}],brightness:[{brightness:[d]}],contrast:[{contrast:[i]}],"drop-shadow":[{"drop-shadow":["","none",V,U]}],grayscale:[{grayscale:[j]}],"hue-rotate":[{"hue-rotate":[k]}],invert:[{invert:[l]}],saturate:[{saturate:[t]}],sepia:[{sepia:[v]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[c]}],"backdrop-brightness":[{"backdrop-brightness":[d]}],"backdrop-contrast":[{"backdrop-contrast":[i]}],"backdrop-grayscale":[{"backdrop-grayscale":[j]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[k]}],"backdrop-invert":[{"backdrop-invert":[l]}],"backdrop-opacity":[{"backdrop-opacity":[r]}],"backdrop-saturate":[{"backdrop-saturate":[t]}],"backdrop-sepia":[{"backdrop-sepia":[v]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[g]}],"border-spacing-x":[{"border-spacing-x":[g]}],"border-spacing-y":[{"border-spacing-y":[g]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",U]}],duration:[{duration:M()}],ease:[{ease:["linear","in","out","in-out",U]}],delay:[{delay:M()}],animate:[{animate:["none","spin","ping","pulse","bounce",U]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[u]}],"scale-x":[{"scale-x":[u]}],"scale-y":[{"scale-y":[u]}],rotate:[{rotate:[S,U]}],"translate-x":[{"translate-x":[y]}],"translate-y":[{"translate-y":[y]}],"skew-x":[{"skew-x":[w]}],"skew-y":[{"skew-y":[w]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",U]}],accent:[{accent:["auto",a]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",U]}],"caret-color":[{caret:[a]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",U]}],fill:[{fill:[a,"none"]}],"stroke-w":[{stroke:[O,P,R]}],stroke:[{stroke:[a,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function ah(...a){return ag(t(a))}let ai=(b="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",c={variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}},a=>{var d;if((null==c?void 0:c.variants)==null)return t(b,null==a?void 0:a.class,null==a?void 0:a.className);let{variants:e,defaultVariants:f}=c,g=Object.keys(e).map(b=>{let c=null==a?void 0:a[b],d=null==f?void 0:f[b];if(null===c)return null;let g=u(c)||u(d);return e[b][g]}),h=a&&Object.entries(a).reduce((a,b)=>{let[c,d]=b;return void 0===d||(a[c]=d),a},{});return t(b,g,null==c||null==(d=c.compoundVariants)?void 0:d.reduce((a,b)=>{let{class:c,className:d,...e}=b;return Object.entries(e).every(a=>{let[b,c]=a;return Array.isArray(c)?c.includes({...f,...h}[b]):({...f,...h})[b]===c})?[...a,c,d]:a},[]),null==a?void 0:a.class,null==a?void 0:a.className)});function aj({className:a,variant:b,size:c,asChild:e=!1,...f}){let g=e?p:"button";return(0,d.jsx)(g,{"data-slot":"button",className:ah(ai({variant:b,size:c,className:a})),...f})}function ak({currentPage:a,setCurrentPage:b}){let c=[{id:"dashboard",label:"Dashboard",icon:g},{id:"timetable",label:"Timetables",icon:n},{id:"call-student",label:"Call Student",icon:m},{id:"students",label:"Students",icon:h},{id:"announcements",label:"Announcements",icon:i},{id:"devices",label:"Devices",icon:j.Wifi},{id:"logs",label:"Logs & Reports",icon:k},{id:"settings",label:"Settings",icon:l}];return(0,d.jsxs)("aside",{className:"hidden lg:block w-64 bg-sidebar border-r border-sidebar-border p-6 overflow-y-auto",children:[(0,d.jsxs)("div",{className:"mb-8 text-center",children:[(0,d.jsx)("div",{className:"mb-4 flex justify-center",children:(0,d.jsx)("div",{className:"w-24 h-24 bg-white rounded-full p-2 shadow-lg",children:(0,d.jsx)("img",{src:"/sar-logo.png",alt:"SAR Educational Complex",className:"w-full h-full object-contain",onError:a=>{a.currentTarget.style.display="none"}})})}),(0,d.jsx)("h1",{className:"text-xl font-bold text-sidebar-foreground",children:"SAR Educational Complex"}),(0,d.jsx)("p",{className:"text-sm text-sidebar-foreground/80 font-medium mt-1",children:"Bell System"}),(0,d.jsx)("p",{className:"text-xs text-sidebar-foreground/60 mt-1 italic",children:"Nurturing Minds And Hearts"})]}),(0,d.jsx)("nav",{className:"space-y-2",children:c.map(c=>{let e=c.icon,f=a===c.id;return(0,d.jsxs)(aj,{variant:f?"default":"ghost",className:ah("w-full justify-start gap-3",f&&"bg-sidebar-primary text-sidebar-primary-foreground"),onClick:()=>b(c.id),children:[(0,d.jsx)(e,{className:"w-4 h-4"}),c.label]},c.id)})})]})}let al=(0,f.default)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),am=(0,f.default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),an={dashboard:"Dashboard",timetable:"Timetables","call-student":"Call Student",students:"Students",announcements:"Announcements",devices:"Devices",logs:"Logs & Reports",settings:"Settings"};function ao({onMenuToggle:a,isMenuOpen:b,currentPage:c}){return(0,d.jsx)("header",{className:"fixed top-0 left-0 right-0 z-40 bg-background border-b border-border lg:hidden",children:(0,d.jsx)("div",{className:"flex items-center justify-between p-4",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(aj,{variant:"ghost",size:"sm",onClick:a,className:"p-2","aria-label":b?"Close menu":"Open menu",children:b?(0,d.jsx)(am,{className:"w-6 h-6"}):(0,d.jsx)(al,{className:"w-6 h-6"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-lg font-bold text-foreground",children:"SchoolBell"}),(0,d.jsx)("p",{className:"text-xs text-foreground/60",children:an[c]||"Dashboard"})]})]})})})}function ap({currentPage:a,setCurrentPage:b,isOpen:c,onClose:e}){let f=[{id:"dashboard",label:"Dashboard",icon:g,description:"Overview & Stats"},{id:"timetable",label:"Timetables",icon:n,description:"Bell Schedules"},{id:"call-student",label:"Call Student",icon:m,description:"Student Announcements"},{id:"students",label:"Students",icon:h,description:"Student Database"},{id:"announcements",label:"Announcements",icon:i,description:"Public Announcements"},{id:"devices",label:"Devices",icon:j.Wifi,description:"Connected Devices"},{id:"logs",label:"Logs & Reports",icon:k,description:"System Logs"},{id:"settings",label:"Settings",icon:l,description:"System Configuration"}];return c?(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:"fixed inset-0 z-50 bg-background lg:hidden",children:(0,d.jsxs)("div",{className:"pt-20 pb-6 px-4 h-full overflow-y-auto",children:[(0,d.jsxs)("div",{className:"mb-8 text-center",children:[(0,d.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-1",children:"SchoolBell"}),(0,d.jsx)("p",{className:"text-sm text-foreground/60",children:"Automation System"})]}),(0,d.jsx)("div",{className:"grid grid-cols-2 gap-3 max-w-2xl mx-auto",children:f.map(c=>{let f=c.icon,g=a===c.id;return(0,d.jsxs)("button",{onClick:()=>{b(c.id),e()},className:ah("flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all","min-h-[120px] text-center",g?"bg-primary text-primary-foreground border-primary shadow-lg scale-105":"bg-card text-card-foreground border-border hover:border-primary/50 hover:shadow-md active:scale-95"),children:[(0,d.jsx)(f,{className:ah("w-8 h-8 mb-3",g?"text-primary-foreground":"text-primary")}),(0,d.jsx)("span",{className:"font-semibold text-sm mb-1",children:c.label}),(0,d.jsx)("span",{className:ah("text-xs",g?"text-primary-foreground/80":"text-muted-foreground"),children:c.description})]},c.id)})}),(0,d.jsx)("div",{className:"mt-8 text-center text-xs text-muted-foreground",children:(0,d.jsx)("p",{children:"Tap any option to navigate"})})]})})}):null}function aq({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card",className:ah("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...b})}function ar({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-header",className:ah("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...b})}function as({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-title",className:ah("leading-none font-semibold",a),...b})}function at({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-description",className:ah("text-muted-foreground text-sm",a),...b})}function au({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-content",className:ah("px-6",a),...b})}let av=(0,f.default)("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);var aw=a.i(76966),ax=a.i(29965),ay=a.i(63941),az=a.i(82924),aA=a.i(8878),aB=a.i(80858);class aC{static BELL_TYPES={bell:"Traditional school bell - classic ringing sound","electronic-bell":"Modern electronic bell - sharp beeps","double-ring":"Double ring bell - two quick rings","triple-ring":"Triple ring bell - three quick rings","long-ring":"Long continuous ring - extended bell sound","dismissal-bell":"Dismissal bell - cheerful ascending melody",chime:"Soft melodic chime - pleasant ascending notes","westminster-chimes":"Westminster chimes - Big Ben style","islamic-chime":"Islamic chime - gentle prayer reminder","prayer-bell":"Prayer bell - reverent sustained tone",announcement:"Announcement tone - attention-getting sound","emergency-alert":"Emergency alert - urgent siren sound","adhan-call":"Adhan call - Islamic prayer call tone"};static PREMIUM_VOICES={"openai-nova":"Professional female - clear and authoritative","openai-onyx":"Deep male - authoritative and commanding","openai-shimmer":"Bright female - friendly and welcoming","openai-echo":"Warm male - rounded and approachable","openai-fable":"British storytelling - engaging and articulate","openai-alloy":"Balanced neutral - versatile for all uses","elevenlabs-rachel":"Premium ElevenLabs - natural and expressive","azure-aria":"Microsoft Azure - helpful and conversational"};static async playBellSequence(a,b,c={}){let d=aw.useStore.getState().settings,{bellType:e="bell",voice:f=d.defaultVoice,language:g=d.defaultLanguage,repeatCount:h=d.defaultRepeatCount,delayBetweenToneAndVoice:i=1500,delayBetweenRepeats:j=3e3,useHighQualityVoice:k=!0,customAudioId:l}=c;console.log(`[BellSystem] Playing bell sequence: ${a}`),console.log(`[BellSystem] Bell type: ${e}, Voice: ${f}`),console.log(`[BellSystem] Message: "${b}"`),console.log(`[BellSystem] Custom Audio ID: ${l||"none"}`);let m=!0;for(let a=0;a<h;a++){console.log(`[BellSystem] Sequence ${a+1} of ${h}`);try{console.log(`[BellSystem] Playing ${e} tone...`),(0,aA.playBellSound)(e),await new Promise(a=>setTimeout(a,i)),console.log(`[BellSystem] Playing voice: "${b}"`);let c=!1;if(l&&(console.log(`[BellSystem] Using custom audio: ${l}`),(c=await (0,aB.playStoredAudio)(l))?console.log(`[BellSystem] ‚úÖ Custom audio played successfully`):console.warn(`[BellSystem] ‚ùå Custom audio failed, falling back to TTS`)),l&&c||(console.log(`[BellSystem] Using voice: ${f} (AI: ${this.isAIVoice(f)}, High Quality: ${k})`),k&&this.isAIVoice(f)?(console.log(`[BellSystem] Playing with HIGH QUALITY AI voice: ${f}`),c=await (0,az.playCustomAnnouncement)(b,{voice:f,language:g,withTone:!1})):(console.log(`[BellSystem] Playing with STANDARD TTS voice: ${f}`),c=await (0,ay.playToneAndAnnouncement)(b,{tone:"bell",voice:f,language:g,repeatCount:1})),console.log(`[BellSystem] Voice playback result: ${c?"SUCCESS":"FAILED"}`)),!c){console.log("[BellSystem] Falling back to built-in bell tone");try{(0,aA.playBellSound)("bell"),c=!0}catch(b){console.error("[BellSystem] Built-in tone failed",b),m=!1,console.error(`[BellSystem] Voice failed for sequence ${a+1}`)}}a<h-1&&(console.log(`[BellSystem] Waiting ${j}ms before next sequence...`),await new Promise(a=>setTimeout(a,j)))}catch(b){m=!1,console.error(`[BellSystem] Error in sequence ${a+1}:`,b)}}return console.log(`[BellSystem] Bell sequence completed. Success: ${m}`),m}static async playClassBell(a,b){let c=`Attention all students, it is time for ${a}. Please proceed to your classrooms.`;return this.playBellSequence(a,c,{bellType:"bell",delayBetweenToneAndVoice:2e3,...b})}static async playBreakBell(a,b){let c=`Attention all students, it is time for ${a}. You may now leave your classrooms.`;return this.playBellSequence(a,c,{bellType:"chime",delayBetweenToneAndVoice:1e3,...b})}static async playLunchBell(a){return this.playBellSequence("Lunch Time","Attention all students, it is time for lunch. Please proceed to the dining hall.",{bellType:"chime",delayBetweenToneAndVoice:1200,...a})}static async playAssemblyBell(a,b){let c=`Attention all students and staff, it is time for ${a}. Please proceed to the assembly hall.`;return this.playBellSequence(a,c,{bellType:"announcement",delayBetweenToneAndVoice:800,...b})}static async playDismissalBell(a){return this.playBellSequence("School Dismissal","Attention all students, it is time for school dismissal. Please collect your belongings and proceed to the exit.",{bellType:"dismissal-bell",delayBetweenToneAndVoice:2e3,...a})}static async playEmergencyBell(a,b,c){let d=`Emergency alert. ${a}. ${b}. All students and staff must follow emergency procedures immediately.`;return this.playBellSequence("Emergency",d,{bellType:"emergency-alert",delayBetweenToneAndVoice:500,repeatCount:3,delayBetweenRepeats:2e3,voice:"openai-onyx",...c})}static async playPrayerBell(a,b){let c=`It is time for ${a} prayer. Please proceed to the prayer area.`;return this.playBellSequence(a,c,{bellType:"prayer-bell",delayBetweenToneAndVoice:1500,voice:"azan-islamic",language:"arabic",...b})}static async playCustomBell(a,b,c,d){return this.playBellSequence(a,b,{bellType:c,...d})}static async testAllBellTypes(){for(let[a,b]of(console.log("üîî Testing All Bell Types"),console.log("=".repeat(50)),Object.entries(this.BELL_TYPES)))console.log(`
üîä Testing: ${a}`),console.log(`   Description: ${b}`),await this.playBellSequence(`Test ${a}`,`This is a test of the ${a} with voice announcement.`,{bellType:a,repeatCount:1,useHighQualityVoice:!0,voice:"openai-nova"}),await new Promise(a=>setTimeout(a,4e3));console.log("\n‚úÖ All bell types tested!")}static async testAllVoices(){for(let[a,b]of(console.log("üé§ Testing All Premium Voices"),console.log("=".repeat(50)),Object.entries(this.PREMIUM_VOICES)))console.log(`
üó£Ô∏è Testing: ${a}`),console.log(`   Description: ${b}`),await this.playBellSequence("Voice Test","This is a test of the premium voice with bell system integration.",{bellType:"chime",voice:a,repeatCount:1,useHighQualityVoice:!0}),await new Promise(a=>setTimeout(a,4e3));console.log("\n‚úÖ All voices tested!")}static async demonstrateSchoolDay(){for(let a of(console.log("üè´ Complete School Day Bell Demonstration"),console.log("=".repeat(60)),[{time:"08:00",func:()=>this.playAssemblyBell("Morning Assembly")},{time:"08:30",func:()=>this.playClassBell("First Period - Mathematics")},{time:"09:30",func:()=>this.playBreakBell("Morning Break")},{time:"09:45",func:()=>this.playClassBell("Second Period - English")},{time:"10:45",func:()=>this.playClassBell("Third Period - Science")},{time:"11:45",func:()=>this.playLunchBell()},{time:"12:30",func:()=>this.playClassBell("Fourth Period - History")},{time:"13:30",func:()=>this.playClassBell("Fifth Period - Art")},{time:"14:30",func:()=>this.playDismissalBell()}]))console.log(`
üïê ${a.time} - Playing school bell...`),await a.func(),await new Promise(a=>setTimeout(a,6e3));console.log("\n‚úÖ Complete school day demonstration finished!")}static async demonstrateEmergencyDrills(){for(let a of(console.log("üö® Emergency Drill Demonstrations"),console.log("=".repeat(50)),[{name:"Fire Drill",instructions:"Please exit the building using the nearest emergency exit and proceed to the assembly point"},{name:"Earthquake Drill",instructions:"Drop, cover, and hold on. Stay under your desks until the shaking stops"},{name:"Lockdown Drill",instructions:"Please remain in your classrooms and follow lockdown procedures"},{name:"Severe Weather Alert",instructions:"Please move to the designated safe areas immediately"}]))console.log(`
üö® ${a.name}`),await this.playEmergencyBell(a.name,a.instructions,{repeatCount:2}),await new Promise(a=>setTimeout(a,8e3));console.log("\n‚úÖ Emergency drill demonstrations completed!")}static getSystemStatus(){return{bellTypes:Object.keys(this.BELL_TYPES).length,voices:Object.keys(this.PREMIUM_VOICES).length,features:["Tone + Voice Combination","High-Quality AI Voices","Multiple Bell Types","School Schedule Integration","Emergency Alert System","Prayer Time Support","Custom Messages","Repeat Functionality"]}}static isAIVoice(a){return a.startsWith("openai-")||a.startsWith("elevenlabs-")||a.startsWith("azure-")}static showAllOptions(){console.log("üîî COMPLETE BELL SYSTEM OPTIONS"),console.log("=".repeat(60)),console.log("\nüîä AVAILABLE BELL TYPES:"),Object.entries(this.BELL_TYPES).forEach(([a,b],c)=>{console.log(`${c+1}. ${a} - ${b}`)}),console.log("\nüé§ AVAILABLE PREMIUM VOICES:"),Object.entries(this.PREMIUM_VOICES).forEach(([a,b],c)=>{console.log(`${c+1}. ${a} - ${b}`)}),console.log("\nüìö SCHOOL BELL FUNCTIONS:"),console.log("‚Ä¢ playClassBell(className)"),console.log("‚Ä¢ playBreakBell(breakName)"),console.log("‚Ä¢ playLunchBell()"),console.log("‚Ä¢ playAssemblyBell(assemblyName)"),console.log("‚Ä¢ playDismissalBell()"),console.log("‚Ä¢ playEmergencyBell(emergency, instructions)"),console.log("‚Ä¢ playPrayerBell(prayerName)"),console.log("‚Ä¢ playCustomBell(name, message, bellType)"),console.log("\nüß™ TEST FUNCTIONS:"),console.log("‚Ä¢ testAllBellTypes()"),console.log("‚Ä¢ testAllVoices()"),console.log("‚Ä¢ demonstrateSchoolDay()"),console.log("‚Ä¢ demonstrateEmergencyDrills()");let a=this.getSystemStatus();console.log(`
üìä SYSTEM STATUS:`),console.log(`‚Ä¢ ${a.bellTypes} bell types available`),console.log(`‚Ä¢ ${a.voices} premium voices available`),console.log(`‚Ä¢ ${a.features.length} features supported`),console.log("=".repeat(60))}}let aD=(0,f.default)("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);function aE(){let[b,c]=(0,e.useState)(!1),[f,h]=(0,e.useState)(!1),[i,j]=(0,e.useState)(!1),k=aC.getSystemStatus(),m=async()=>{c(!0);try{let{playBellSound:b}=await a.A(58714);b("bell"),setTimeout(()=>c(!1),3e3)}catch(a){console.error("Bell test failed:",a),c(!1)}},n=async()=>{h(!0);try{let{playCustomAnnouncement:b}=await a.A(3726);await b("This is a test of the high-quality AI voice system.",{voice:"openai-nova",withTone:!1})}catch(a){console.error("Voice test failed:",a)}finally{h(!1)}},o=async()=>{j(!0);try{await aC.playBellSequence("Complete System Test","This demonstrates the complete bell system with perfect tone and voice synchronization.",{bellType:"bell",voice:"openai-nova",useHighQualityVoice:!0,repeatCount:1})}catch(a){console.error("Complete bell test failed:",a)}finally{j(!1)}};return(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8",children:[(0,d.jsxs)(aq,{className:"shadow-xl hover:shadow-2xl transition-all duration-300 border-border/50 bg-gradient-to-br from-card via-card to-card/80 backdrop-blur-sm",children:[(0,d.jsx)(ar,{className:"border-b border-border/50 bg-gradient-to-r from-[#DC2626]/5 to-transparent",children:(0,d.jsxs)(as,{className:"flex items-center gap-3 text-lg md:text-xl",children:[(0,d.jsx)("div",{className:"p-2 rounded-lg bg-gradient-to-br from-[#DC2626] to-[#B91C1C] shadow-lg",children:(0,d.jsx)(l,{className:"w-5 h-5 text-white"})}),(0,d.jsx)("span",{className:"bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-transparent",children:"Bell System Status"})]})}),(0,d.jsxs)(au,{className:"pt-6",children:[(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("span",{className:"text-foreground/60",children:"Bell Tones Available"}),(0,d.jsx)("span",{className:"font-semibold text-green-600",children:k.bellTypes})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("span",{className:"text-foreground/60",children:"Premium Voices"}),(0,d.jsx)("span",{className:"font-semibold text-green-600",children:k.voices})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("span",{className:"text-foreground/60",children:"System Status"}),(0,d.jsx)("span",{className:"font-semibold text-green-600",children:"Ready"})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("span",{className:"text-foreground/60",children:"Integration"}),(0,d.jsx)("span",{className:"font-semibold text-green-600",children:"Active"})]})]}),(0,d.jsxs)("div",{className:"mt-4 pt-4 border-t",children:[(0,d.jsx)("h4",{className:"font-semibold mb-2",children:"Features Active:"}),(0,d.jsx)("div",{className:"grid grid-cols-2 gap-1 text-sm",children:k.features.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,d.jsx)("span",{className:"text-foreground/70",children:a})]},b))})]})]})]}),(0,d.jsxs)(aq,{className:"shadow-xl hover:shadow-2xl transition-all duration-300 border-border/50 bg-gradient-to-br from-card via-card to-card/80 backdrop-blur-sm",children:[(0,d.jsx)(ar,{className:"border-b border-border/50 bg-gradient-to-r from-[#FCD34D]/5 to-transparent",children:(0,d.jsxs)(as,{className:"flex items-center gap-3 text-lg md:text-xl",children:[(0,d.jsx)("div",{className:"p-2 rounded-lg bg-gradient-to-br from-[#FCD34D] to-[#F59E0B] shadow-lg",children:(0,d.jsx)(av,{className:"w-5 h-5 text-gray-900"})}),(0,d.jsx)("span",{className:"bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-transparent",children:"Test Bell System"})]})}),(0,d.jsxs)(au,{className:"pt-6",children:[(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)(aj,{onClick:m,disabled:b,variant:"outline",className:"w-full justify-start gap-3 h-12 shadow-md hover:shadow-lg transition-all duration-300 hover:scale-[1.02] border-border/50",children:[(0,d.jsx)("div",{className:"p-1.5 rounded-md bg-blue-500/10",children:(0,d.jsx)(g,{className:"w-4 h-4 text-blue-600"})}),(0,d.jsx)("span",{className:"font-medium",children:b?"Playing Bell Tone...":"Test Bell Tone Only"})]}),(0,d.jsxs)(aj,{onClick:n,disabled:f,variant:"outline",className:"w-full justify-start gap-3 h-12 shadow-md hover:shadow-lg transition-all duration-300 hover:scale-[1.02] border-border/50",children:[(0,d.jsx)("div",{className:"p-1.5 rounded-md bg-purple-500/10",children:(0,d.jsx)(aD,{className:"w-4 h-4 text-purple-600"})}),(0,d.jsx)("span",{className:"font-medium",children:f?"Playing Voice...":"Test AI Voice Only"})]}),(0,d.jsxs)(aj,{onClick:o,disabled:i,className:"w-full justify-start gap-3 h-12 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[(0,d.jsx)("div",{className:"p-1.5 rounded-md bg-white/20",children:(0,d.jsx)(av,{className:"w-4 h-4"})}),(0,d.jsx)("span",{className:"font-medium",children:i?"Playing Complete Bell...":"Test Complete Bell System"})]})]}),(0,d.jsx)("div",{className:"mt-4 pt-4 border-t",children:(0,d.jsxs)("div",{className:"text-sm text-foreground/60",children:[(0,d.jsx)("p",{className:"mb-2",children:(0,d.jsx)("strong",{children:"Complete Bell System:"})}),(0,d.jsx)("p",{children:"üîî Plays bell tone first"}),(0,d.jsx)("p",{children:"üó£Ô∏è Follows with AI voice announcement"}),(0,d.jsx)("p",{children:"üéØ Perfect synchronization"})]})})]})]})]})}let aF=async()=>{},aG=async a=>{},aH=(0,f.default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),aI=(0,f.default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),aJ=new class{deferredPrompt=null;isInstalled=!1;constructor(){}init(){window.addEventListener("beforeinstallprompt",a=>{a.preventDefault(),this.deferredPrompt=a,console.log("[Install] Install prompt available")}),window.matchMedia("(display-mode: standalone)").matches&&(this.isInstalled=!0,console.log("[Install] App is already installed")),window.addEventListener("appinstalled",()=>{this.isInstalled=!0,this.deferredPrompt=null,console.log("[Install] App was installed")})}capturePrompt(a){this.deferredPrompt=a}async showInstallPrompt(){if(!this.deferredPrompt)return console.warn("[Install] Install prompt not available"),"unavailable";try{await this.deferredPrompt.prompt();let{outcome:a}=await this.deferredPrompt.userChoice;return console.log(`[Install] User ${a} the install prompt`),this.deferredPrompt=null,a}catch(a){return console.error("[Install] Error showing install prompt:",a),"unavailable"}}isAppInstalled(){return!1}canInstall(){return null!==this.deferredPrompt&&!this.isAppInstalled()}getPlatform(){return"unknown"}getInstallInstructions(){switch(this.getPlatform()){case"ios":return'Tap the Share button and select "Add to Home Screen"';case"android":return'Tap the menu and select "Install app" or "Add to Home screen"';case"desktop":return"Click the install icon in the address bar or use the install button";default:return"Use your browser's install option to add this app to your device"}}};var aK=a.i(2618);function aL({variant:a="default",size:b="default",onInstallSuccess:c,onInstallDismiss:f}){let[g,h]=(0,e.useState)(!1),[i,j]=(0,e.useState)(!1),[k,l]=(0,e.useState)(!1);(0,e.useEffect)(()=>{j(aJ.isAppInstalled());let a=()=>{h(aJ.canInstall())};a();let b=()=>{a()};window.addEventListener("beforeinstallprompt",b);let d=()=>{j(!0),h(!1),aK.toast.success("App installed successfully!",{description:"You can now use the app offline"}),c?.()};return window.addEventListener("appinstalled",d),()=>{window.removeEventListener("beforeinstallprompt",b),window.removeEventListener("appinstalled",d)}},[c]);let m=async()=>{l(!0);try{let a=await aJ.showInstallPrompt();if("accepted"===a)aK.toast.success("Installing app...",{description:"The app will be added to your home screen"}),c?.();else if("dismissed"===a)aK.toast.info("Installation cancelled",{description:"You can install the app later from the menu"}),f?.();else{let a=aJ.getInstallInstructions();aK.toast.info("Install this app",{description:a,duration:5e3})}}catch(a){console.error("Install error:",a),aK.toast.error("Installation failed",{description:"Please try again or use your browser's install option"})}finally{l(!1)}};return i?(0,d.jsxs)(aj,{variant:"outline",size:b,disabled:!0,children:[(0,d.jsx)(aI,{className:"mr-2 h-4 w-4"}),"Installed"]}):g?(0,d.jsxs)(aj,{variant:a,size:b,onClick:m,disabled:k,children:[(0,d.jsx)(aH,{className:"mr-2 h-4 w-4"}),k?"Installing...":"Install App"]}):null}let aM=a=>{let b=a.toLowerCase();return b.includes("assembly")||b.includes("meeting")?"assembly":b.includes("break")||b.includes("recess")?"break":b.includes("lunch")||b.includes("meal")?"lunch":b.includes("dismissal")||b.includes("end")||b.includes("home")?"dismissal":b.includes("emergency")||b.includes("drill")||b.includes("fire")?"emergency":(b.includes("class")||b.includes("period")||b.includes("lesson"),"class")};function aN(){let{timetables:a,students:b,devices:c,settings:f}=(0,aw.useStore)(),i=(0,e.useRef)(""),k=(0,e.useRef)(""),[l,m]=(0,e.useState)({available:!0,message:"TTS is ready"});(0,e.useEffect)(()=>{m((0,ax.getTTSStatus)()),f.backgroundEnabled&&aF()},[f.backgroundEnabled]),(0,e.useEffect)(()=>{f.backgroundEnabled&&aG(a)},[a,f.backgroundEnabled]),(0,e.useEffect)(()=>{if(!f.azanEnabled||!f.prayerTimes)return;let a=async()=>{let a=new Date,b=a.getHours().toString().padStart(2,"0")+":"+a.getMinutes().toString().padStart(2,"0");if(b!==i.current)for(let[a,c]of(i.current=b,console.log("[v0] Checking prayer times. Current time:",b),Object.entries(f.prayerTimes||{})))b===c&&(console.log("[v0] Prayer time matched! Playing Azan for:",a),await (0,ax.playAzanCall)(a))};a();let b=setInterval(a,6e4);return()=>clearInterval(b)},[f.azanEnabled,f.prayerTimes]),(0,e.useEffect)(()=>{if(0===a.length)return;let b=async()=>{let b=new Date,c=b.getHours().toString().padStart(2,"0")+":"+b.getMinutes().toString().padStart(2,"0"),d=b.toLocaleDateString("en-US",{weekday:"long"});if(c!==k.current){for(let b of(k.current=c,console.log("[v0] Checking timetables. Current time:",c,"Day:",d),a))if(c===b.bellTime&&("Daily"===b.day||b.day===d)){let a;if(console.log("[v0] Timetable matched! Triggering:",b.name,"Type:",b.bellType),b.customMessage)a=b.customMessage;else switch(aM(b.name)){case"class":case"lesson":a=`Attention all students, it is time for ${b.name}. Please proceed to your classrooms.`;break;case"break":case"recess":a=`Attention all students, it is time for ${b.name}. You may now leave your classrooms.`;break;case"assembly":case"meeting":a=`Attention all students and staff, it is time for ${b.name}. Please proceed to the assembly hall.`;break;case"lunch":case"meal":a=`Attention all students, it is time for ${b.name}. Please proceed to the dining hall.`;break;case"dismissal":case"end":a=`Attention all students, it is time for ${b.name}. Please collect your belongings and proceed to the exit.`;break;case"emergency":case"drill":a=`Emergency alert. ${b.name}. All students and staff must follow emergency procedures immediately.`;break;default:a=`Attention all students, it is time for ${b.name}.`}await aC.playBellSequence(b.name,a,{bellType:b.bellType,voice:b.voice||f.defaultVoice,language:f.defaultLanguage,repeatCount:f.defaultRepeatCount,useHighQualityVoice:!0,customAudioId:b.customAudioId})}}};b();let c=setInterval(b,6e4);return()=>clearInterval(c)},[a,f.defaultVoice,f.defaultLanguage]);let n=(()=>{if(!f.azanEnabled||!f.prayerTimes)return{name:"No Prayer Times Set",timeUntil:"Configure in Settings"};let a=new Date,b=60*a.getHours()+a.getMinutes(),c=Object.entries(f.prayerTimes).map(([a,b])=>{let[c,d]=b.split(":").map(Number);return{name:a.charAt(0).toUpperCase()+a.slice(1),time:b,minutes:60*c+d}}).sort((a,b)=>a.minutes-b.minutes),d=c.find(a=>a.minutes>b);if(!d){let a=1440-b+(d=c[0]).minutes,e=Math.floor(a/60);return{name:`${d.name} (Tomorrow)`,timeUntil:`In ${e}h ${a%60}m`}}let e=d.minutes-b,g=Math.floor(e/60);return{name:d.name,timeUntil:`In ${g}h ${e%60}m`}})(),o=(()=>{if(0===a.length)return{name:"No Timetables Set",timeUntil:"Create in Timetables"};let b=new Date,c=60*b.getHours()+b.getMinutes(),d=b.toLocaleDateString("en-US",{weekday:"long"}),e=a.filter(a=>"Daily"===a.day||a.day===d).map(a=>{let[b,c]=a.bellTime.split(":").map(Number);return{...a,minutes:60*b+c}}).sort((a,b)=>a.minutes-b.minutes).find(a=>a.minutes>c);if(e){let a=e.minutes-c,b=Math.floor(a/60);return{name:e.name,timeUntil:`In ${b}h ${a%60}m`}}let f=a.filter(a=>"Daily"===a.day).map(a=>{let[b,c]=a.bellTime.split(":").map(Number);return{...a,minutes:60*b+c}}).sort((a,b)=>a.minutes-b.minutes);if(f.length>0){let a=f[0],b=1440-c+a.minutes,d=Math.floor(b/60);return{name:`${a.name} (Tomorrow)`,timeUntil:`In ${d}h ${b%60}m`}}return{name:"No Upcoming Events",timeUntil:"Check timetables"}})(),p=[{title:"Active Timetables",value:a.length,icon:g,color:"text-blue-600"},{title:"Students",value:b.length,icon:h,color:"text-green-600"},{title:"Announcements Today",value:"3",icon:av,color:"text-purple-600"},{title:"Connected Devices",value:c.filter(a=>"online"===a.status).length,icon:j.Wifi,color:"text-orange-600"}];return(0,d.jsxs)("div",{className:"p-4 md:p-6 lg:p-8 min-h-screen bg-gradient-to-br from-background via-background to-muted/20",children:[(0,d.jsxs)("div",{className:"mb-8 md:mb-10 flex items-start justify-between",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground bg-gradient-to-r from-[#DC2626] to-[#B91C1C] bg-clip-text text-transparent",children:"Dashboard"}),(0,d.jsxs)("p",{className:"text-sm md:text-base text-muted-foreground flex items-center gap-2",children:[(0,d.jsx)("span",{className:"inline-block w-2 h-2 rounded-full bg-green-500 animate-pulse"}),"System Overview & Quick Stats"]})]}),(0,d.jsx)(aL,{variant:"default",size:"default"})]}),(0,d.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8 md:mb-10",children:p.map((a,b)=>{let c=a.icon;return(0,d.jsxs)(aq,{className:"relative overflow-hidden transition-all duration-300 hover:shadow-2xl hover:shadow-[#DC2626]/20 hover:-translate-y-1 border-border/50 bg-gradient-to-br from-card to-card/50 backdrop-blur-sm",children:[(0,d.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-[#DC2626]/10 to-transparent rounded-full blur-2xl -z-0"}),(0,d.jsxs)(ar,{className:"flex flex-row items-center justify-between space-y-0 pb-4 relative z-10",children:[(0,d.jsx)(as,{className:"text-sm font-medium text-foreground/80",children:a.title}),(0,d.jsx)("div",{className:`p-2 rounded-lg bg-gradient-to-br ${a.color} shadow-lg`,children:(0,d.jsx)(c,{className:"w-4 h-4 text-white"})})]}),(0,d.jsx)(au,{className:"relative z-10",children:(0,d.jsx)("div",{className:"text-3xl font-bold bg-gradient-to-br from-foreground to-foreground/70 bg-clip-text text-transparent",children:a.value})})]},b)})}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8 mb-6 md:mb-8",children:[(0,d.jsxs)(aq,{className:"shadow-xl hover:shadow-2xl transition-all duration-300 border-border/50 bg-gradient-to-br from-card via-card to-card/80 backdrop-blur-sm",children:[(0,d.jsx)(ar,{className:"border-b border-border/50 bg-gradient-to-r from-[#DC2626]/5 to-transparent",children:(0,d.jsxs)(as,{className:"text-lg md:text-xl font-semibold flex items-center gap-2",children:[(0,d.jsx)("span",{className:"inline-block w-1 h-6 bg-gradient-to-b from-[#DC2626] to-[#B91C1C] rounded-full"}),"Next Timetable Event"]})}),(0,d.jsxs)(au,{className:"pt-6",children:[(0,d.jsx)("p",{className:"text-xl md:text-2xl font-bold text-green-600",children:o.name}),(0,d.jsx)("p",{className:"text-sm md:text-base text-foreground/60 mt-2",children:o.timeUntil})]})]}),(0,d.jsxs)(aq,{children:[(0,d.jsx)(ar,{children:(0,d.jsx)(as,{className:"text-base md:text-lg",children:"Next Prayer Time"})}),(0,d.jsxs)(au,{children:[(0,d.jsx)("p",{className:"text-xl md:text-2xl font-bold text-blue-600",children:n.name}),(0,d.jsx)("p",{className:"text-sm md:text-base text-foreground/60 mt-2",children:n.timeUntil})]})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6 mb-4 md:mb-6",children:[(0,d.jsxs)(aq,{children:[(0,d.jsx)(ar,{children:(0,d.jsx)(as,{className:"text-base md:text-lg",children:"Today's Prayer Times"})}),(0,d.jsx)(au,{children:f.azanEnabled&&f.prayerTimes?(0,d.jsx)("div",{className:"space-y-2",children:Object.entries(f.prayerTimes).map(([a,b])=>(0,d.jsxs)("div",{className:"flex justify-between text-sm md:text-base",children:[(0,d.jsx)("span",{className:"text-foreground/60 capitalize",children:a}),(0,d.jsx)("span",{className:"font-semibold",children:b})]},a))}):(0,d.jsx)("p",{className:"text-sm md:text-base text-foreground/60",children:"Prayer times not configured"})})]}),(0,d.jsxs)(aq,{children:[(0,d.jsx)(ar,{children:(0,d.jsx)(as,{className:"text-base md:text-lg",children:"System Status"})}),(0,d.jsx)(au,{children:(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex justify-between text-sm md:text-base",children:[(0,d.jsx)("span",{className:"text-foreground/60",children:"Database"}),(0,d.jsx)("span",{className:"text-green-600 font-semibold",children:"Online"})]}),(0,d.jsxs)("div",{className:"flex justify-between text-sm md:text-base",children:[(0,d.jsx)("span",{className:"text-foreground/60",children:"TTS Engine"}),(0,d.jsx)("span",{className:l.available?"text-green-600 font-semibold":"text-red-600 font-semibold",children:l.available?"Ready":"Unavailable"})]}),(0,d.jsxs)("div",{className:"flex justify-between text-sm md:text-base",children:[(0,d.jsx)("span",{className:"text-foreground/60",children:"Prayer Scheduler"}),(0,d.jsx)("span",{className:f.azanEnabled?"text-green-600 font-semibold":"text-gray-500 font-semibold",children:f.azanEnabled?"Active":"Disabled"})]}),(0,d.jsxs)("div",{className:"flex justify-between text-sm md:text-base",children:[(0,d.jsx)("span",{className:"text-foreground/60",children:"Timetable Scheduler"}),(0,d.jsx)("span",{className:a.length>0?"text-green-600 font-semibold":"text-gray-500 font-semibold",children:a.length>0?"Active":"No Timetables"})]})]})})]})]}),(0,d.jsx)("div",{className:"mt-8 transform transition-all duration-300 hover:scale-[1.01]",children:(0,d.jsx)(aE,{})})]})}function aO({className:a,type:b,...c}){return(0,d.jsx)("input",{type:b,"data-slot":"input",className:ah("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...c})}let aP=(0,f.default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),aQ=(0,f.default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),aR=(0,f.default)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),aS=(0,f.default)("FileAudio",[["path",{d:"M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"rslqgf"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0",key:"9f7x3i"}]]);function aT(){let{timetables:b,addTimetable:c,removeTimetable:f,updateTimetable:g}=(0,aw.useStore)(),[h,i]=(0,e.useState)(!1),[j,k]=(0,e.useState)(null),[l,m]=(0,e.useState)([]),[n,o]=(0,e.useState)({name:"",day:"Monday",bellTime:"",bellType:"none",voice:"openai-onyx",customMessage:"",customAudioId:""});(0,e.useEffect)(()=>{(async()=>{try{let a=await aB.audioStorage.listAudios();m(a)}catch(a){console.error("Failed to load audio files:",a)}})()},[]);let p=a=>({none:"üîá None (Voice Only - No Bell Sound)","ghana-hand-bell":"üá¨üá≠ Ghana Hand Bell (Manual Ring - AUTHENTIC)","ghana-assembly-bell":"üá¨üá≠ Ghana Assembly Bell (Long Ring - AUTHENTIC)","ghana-break-bell":"üá¨üá≠ Ghana Break Bell (Quick Ring - AUTHENTIC)",bell:"Traditional Bell","classic-hand-bell":"üîî Classic Hand Bell (Natural)","brass-school-bell":"üîî Brass School Bell (Deep & Resonant)","vintage-bell":"üîî Vintage Bell (1950s Style)","mechanical-bell":"üîî Mechanical Bell (Rapid Ring)","recess-bell":"üîî Recess Bell (Cheerful)","fire-alarm-bell":"üö® Fire Alarm Bell (Urgent)","electronic-bell":"Electronic Bell","westminster-chimes":"Westminster Chimes","double-ring":"Double Ring","triple-ring":"Triple Ring","long-ring":"Long Ring",chime:"Soft Chime",announcement:"Announcement Tone","emergency-alert":"Emergency Alert","dismissal-bell":"Dismissal Bell","adhan-call":"Adhan Call (Islamic)","islamic-chime":"Islamic Chime","prayer-bell":"Prayer Bell (Islamic)"})[a]||a,q=a=>({"emergency-alert":"openai-onyx",announcement:"openai-onyx","prayer-bell":"azan-islamic","adhan-call":"azan-islamic","islamic-chime":"azan-islamic","dismissal-bell":"openai-shimmer",chime:"openai-echo"})[a]||"openai-onyx";return(0,d.jsxs)("div",{className:"p-8",children:[(0,d.jsxs)("div",{className:"mb-8 flex justify-between items-center",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Timetables"}),(0,d.jsx)("p",{className:"text-foreground/60",children:"Manage bell schedules and announcements"})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsxs)(aj,{onClick:async()=>{await aC.playBellSequence("System Test","This is a test of the complete bell system. Bell tone first, followed by voice announcement.",{bellType:"bell",voice:"openai-onyx",useHighQualityVoice:!0,repeatCount:1})},variant:"outline",className:"gap-2",children:[(0,d.jsx)(av,{className:"w-4 h-4"}),"Test Bell System"]}),(0,d.jsxs)(aj,{onClick:()=>i(!h),className:"bg-blue-600 hover:bg-blue-700 text-white gap-2",children:[(0,d.jsx)(aQ,{className:"w-4 h-4"}),"Add New Bell"]})]})]}),h&&(0,d.jsx)(aq,{className:"mb-6",children:(0,d.jsx)(au,{className:"pt-6",children:(0,d.jsxs)("form",{onSubmit:a=>{if(a.preventDefault(),console.log("=== TIMETABLE FORM SUBMISSION START ==="),console.log("Form data:",n),console.log("Editing ID:",j),!n.name||!n.bellTime){console.error("‚ùå Validation failed: Name or Bell Time missing"),console.error("Name:",n.name),console.error("Bell Time:",n.bellTime),alert("Please fill in both Name and Time fields");return}try{if(j)console.log("üìù Updating existing timetable:",j),g(j,n),console.log("‚úÖ Update completed"),k(null);else{let a={id:Date.now().toString(),...n};console.log("‚ûï Adding new timetable:",a),c(a),console.log("‚úÖ Add completed"),console.log("Current timetables count:",b.length+1)}o({name:"",day:"Monday",bellTime:"",bellType:"bell",voice:"openai-onyx",customMessage:"",customAudioId:""}),i(!1),console.log("=== TIMETABLE FORM SUBMISSION END ===")}catch(a){console.error("‚ùå Error saving timetable:",a),alert("Failed to save timetable. Please try again.")}},className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-sm font-semibold text-foreground mb-1 block",children:"Bell Name"}),(0,d.jsx)(aO,{value:n.name,onChange:a=>o({...n,name:a.target.value}),placeholder:"e.g., Morning Assembly"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-sm font-semibold text-foreground mb-1 block",children:"Day"}),(0,d.jsx)("select",{value:n.day,onChange:a=>o({...n,day:a.target.value}),className:"w-full p-2 border border-border rounded-lg bg-background",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","Daily"].map(a=>(0,d.jsx)("option",{value:a,children:a},a))})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-sm font-semibold text-foreground mb-1 block",children:"Time"}),(0,d.jsx)(aO,{type:"time",value:n.bellTime,onChange:a=>o({...n,bellTime:a.target.value})})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-sm font-semibold text-foreground mb-1 block",children:"Bell Type"}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("select",{value:n.bellType,onChange:a=>{let b=a.target.value;o({...n,bellType:b,voice:q(b)})},className:"flex-1 p-2 border border-border rounded-lg bg-background",children:["none","ghana-hand-bell","ghana-assembly-bell","ghana-break-bell","bell","classic-hand-bell","brass-school-bell","vintage-bell","mechanical-bell","recess-bell","electronic-bell","westminster-chimes","double-ring","triple-ring","long-ring","chime","announcement","emergency-alert","fire-alarm-bell","dismissal-bell","adhan-call","islamic-chime","prayer-bell"].map(a=>(0,d.jsx)("option",{value:a,children:p(a)},a))}),(0,d.jsxs)(aj,{type:"button",variant:"outline",size:"sm",onClick:async()=>{let{playBellSound:b}=await a.A(58714);b(n.bellType)},className:"gap-1 px-3",title:"Preview this bell sound",children:[(0,d.jsx)(av,{className:"w-4 h-4"}),"Test"]})]}),(0,d.jsx)("p",{className:"text-xs text-foreground/60 mt-1",children:'Click "Test" to hear this bell sound'})]})]}),(0,d.jsx)("div",{className:"space-y-3",children:(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"text-sm font-semibold text-foreground mb-1 block",children:["Voice Selection",(0,d.jsx)("span",{className:"text-xs text-foreground/60 ml-2",children:"(AI Voice for Announcement)"})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("select",{value:n.voice,onChange:a=>o({...n,voice:a.target.value}),className:"flex-1 p-2 border border-border rounded-lg bg-background",children:Object.entries(ax.VOICE_OPTIONS).map(([a,b])=>({value:a,label:b.name,description:b.description})).map(a=>(0,d.jsxs)("option",{value:a.value,children:[a.label," - ",a.description]},a.value))}),(0,d.jsxs)(aj,{type:"button",variant:"outline",size:"sm",onClick:async()=>{let b=ax.VOICE_OPTIONS[n.voice]?.name||"this voice",c=ax.VOICE_OPTIONS[n.voice]?.description||"",d=`Hello! I am ${b}. `;n.voice.includes("onyx")||n.voice.includes("clyde")?d+="I have a deep, authoritative tone perfect for important announcements.":n.voice.includes("shimmer")||n.voice.includes("nova")||n.voice.includes("aria")?d+="I have a bright, clear voice ideal for friendly announcements.":n.voice.includes("echo")||n.voice.includes("drew")?d+="I have a warm, professional tone suitable for general announcements.":n.voice.includes("fable")?d+="I have a distinctive storytelling voice with a British accent.":n.voice.includes("azan")||n.voice.includes("islamic")?d+="I am designed for Islamic prayer calls with a reverent tone.":d+=`${c}. This is how I will sound for your announcements.`;let{playCustomAnnouncement:e}=await a.A(3726);await e(d,{voice:n.voice,withTone:!1})},className:"gap-1 px-3",title:"Preview this voice",children:[(0,d.jsx)(av,{className:"w-4 h-4"}),"Test"]})]}),(0,d.jsxs)("p",{className:"text-xs text-foreground/60 mt-1",children:["Recommended: ",ax.VOICE_OPTIONS[q(n.bellType)]?.name,' ‚Ä¢ Click "Test" to hear this voice']})]})}),(0,d.jsx)("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"text-sm font-semibold text-foreground mb-1",children:"üîî Preview Complete Bell"}),(0,d.jsx)("p",{className:"text-xs text-foreground/60",children:"Test how your bell will sound: Bell tone + Voice announcement"})]}),(0,d.jsxs)(aj,{type:"button",variant:"default",onClick:async()=>{let a=n.customMessage||`Attention all students, it is time for ${n.name||"the scheduled event"}.`;await aC.playBellSequence(n.name||"Preview",a,{bellType:n.bellType,voice:n.voice,useHighQualityVoice:!0,repeatCount:1})},className:"bg-blue-600 hover:bg-blue-700 text-white gap-2",children:[(0,d.jsx)(av,{className:"w-4 h-4"}),"Preview Complete Bell"]})]})}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"text-sm font-semibold text-foreground mb-1 block",children:["Custom Message (Optional)",(0,d.jsx)("span",{className:"text-xs text-foreground/60 ml-2",children:"(Leave empty for auto-generated message)"})]}),(0,d.jsx)(aO,{value:n.customMessage,onChange:a=>o({...n,customMessage:a.target.value}),placeholder:"e.g., Attention all students, please proceed to the main hall for assembly."}),(0,d.jsx)("p",{className:"text-xs text-foreground/60 mt-1",children:"If empty, message will be auto-generated based on bell name and type"})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"text-sm font-semibold text-foreground mb-1 block flex items-center gap-2",children:[(0,d.jsx)(aS,{className:"w-4 h-4"}),"Custom Audio (Optional)",(0,d.jsx)("span",{className:"text-xs text-foreground/60 font-normal",children:"(Use your own recording instead of TTS)"})]}),(0,d.jsxs)("select",{value:n.customAudioId,onChange:a=>o({...n,customAudioId:a.target.value}),className:"w-full p-2 border border-border rounded-lg bg-background",children:[(0,d.jsx)("option",{value:"",children:"No custom audio (use text-to-speech)"}),l.map(a=>(0,d.jsxs)("option",{value:a.id,children:[a.name," (",Math.floor(a.duration),"s)"]},a.id))]}),n.customAudioId&&(0,d.jsxs)(aj,{type:"button",variant:"outline",size:"sm",onClick:async()=>{let{playStoredAudio:b}=await a.A(38077);await b(n.customAudioId)},className:"mt-2 gap-2",children:[(0,d.jsx)(av,{className:"w-4 h-4"}),"Preview Custom Audio"]}),(0,d.jsx)("p",{className:"text-xs text-foreground/60 mt-1",children:0===l.length?"No audio files uploaded yet. Upload audio files in Settings ‚Üí Audio Library":"Select a custom audio file to play instead of text-to-speech announcement"})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(aj,{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white",children:j?"Update Bell":"Save Bell"}),(0,d.jsx)(aj,{type:"button",variant:"outline",onClick:()=>{k(null),o({name:"",day:"Monday",bellTime:"",bellType:"none",voice:"openai-onyx",customMessage:"",customAudioId:""}),i(!1)},children:"Cancel"})]})]})})}),(0,d.jsx)("div",{className:"space-y-3",children:0===b.length?(0,d.jsx)(aq,{children:(0,d.jsx)(au,{className:"pt-6 text-center text-foreground/60",children:"No timetables yet. Create your first bell schedule."})}):b.map(a=>(0,d.jsx)(aq,{children:(0,d.jsxs)(au,{className:"pt-6 flex justify-between items-center",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"font-semibold text-foreground",children:a.name}),(0,d.jsxs)("p",{className:"text-sm text-foreground/60",children:[a.day," at ",a.bellTime," ‚Ä¢ ",p(a.bellType)]}),(0,d.jsxs)("p",{className:"text-xs text-foreground/50",children:["Voice: ",ax.VOICE_OPTIONS[a.voice]?.name||ax.VOICE_OPTIONS["openai-onyx"].name,a.customMessage&&" ‚Ä¢ Custom Message"]})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(aj,{variant:"ghost",size:"sm",onClick:async()=>{let b;if(a.customMessage)b=a.customMessage;else switch(a.name.toLowerCase().includes("assembly")?"assembly":a.name.toLowerCase().includes("break")?"break":a.name.toLowerCase().includes("lunch")?"lunch":a.name.toLowerCase().includes("dismissal")?"dismissal":a.name.toLowerCase().includes("emergency")?"emergency":"class"){case"class":b=`Attention all students, it is time for ${a.name}. Please proceed to your classrooms.`;break;case"break":b=`Attention all students, it is time for ${a.name}. You may now leave your classrooms.`;break;case"assembly":b=`Attention all students and staff, it is time for ${a.name}. Please proceed to the assembly hall.`;break;case"lunch":b=`Attention all students, it is time for ${a.name}. Please proceed to the dining hall.`;break;case"dismissal":b=`Attention all students, it is time for ${a.name}. Please collect your belongings and proceed to the exit.`;break;case"emergency":b=`Emergency alert. ${a.name}. All students and staff must follow emergency procedures immediately.`;break;default:b=`Attention all students, it is time for ${a.name}.`}console.log("üîî Playing timetable bell:"),console.log("  Name:",a.name),console.log("  Bell Type:",a.bellType),console.log("  Voice:",a.voice||"openai-onyx"),console.log("  Message:",b),await aC.playBellSequence(a.name,b,{bellType:a.bellType,voice:a.voice||"openai-onyx",useHighQualityVoice:!0,repeatCount:1,customAudioId:a.customAudioId})},className:"text-green-600 hover:text-green-700",title:"Test Complete Bell (Tone + Voice)",children:(0,d.jsx)(av,{className:"w-4 h-4"})}),(0,d.jsx)(aj,{variant:"ghost",size:"sm",onClick:()=>{var c;let d;return c=a.id,void((d=b.find(a=>a.id===c))&&(o({name:d.name,day:d.day,bellTime:d.bellTime,bellType:d.bellType,voice:d.voice||"openai-onyx",customMessage:d.customMessage||"",customAudioId:d.customAudioId||""}),k(c),i(!0)))},className:"text-blue-600 hover:text-blue-700",children:(0,d.jsx)(aR,{className:"w-4 h-4"})}),(0,d.jsx)(aj,{variant:"ghost",size:"sm",onClick:()=>f(a.id),className:"text-red-600 hover:text-red-700",children:(0,d.jsx)(aP,{className:"w-4 h-4"})})]})]})},a.id))})]})}function aU(){let{students:a,addStudent:b,removeStudent:c}=(0,aw.useStore)(),[f,g]=(0,e.useState)(!1),[h,i]=(0,e.useState)({firstName:"",lastName:"",class:"",useCustomClass:!1}),[j,k]=(0,e.useState)(""),l=a.filter(a=>`${a.firstName} ${a.lastName}`.toLowerCase().includes(j.toLowerCase()));return(0,d.jsxs)("div",{className:"p-8",children:[(0,d.jsxs)("div",{className:"mb-8 flex justify-between items-center",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Students"}),(0,d.jsx)("p",{className:"text-foreground/60",children:"Manage student database"})]}),(0,d.jsxs)(aj,{onClick:()=>g(!f),className:"bg-blue-600 hover:bg-blue-700 text-white gap-2",children:[(0,d.jsx)(aQ,{className:"w-4 h-4"}),"Add Student"]})]}),(0,d.jsx)("div",{className:"mb-6",children:(0,d.jsx)(aO,{placeholder:"Search by name...",value:j,onChange:a=>k(a.target.value)})}),f&&(0,d.jsx)(aq,{className:"mb-6",children:(0,d.jsx)(au,{className:"pt-6",children:(0,d.jsxs)("form",{onSubmit:a=>{a.preventDefault(),h.firstName&&h.lastName&&(b({id:Date.now().toString(),firstName:h.firstName,lastName:h.lastName,class:h.class||void 0}),i({firstName:"",lastName:"",class:"",useCustomClass:!1}),g(!1))},className:"space-y-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-sm font-semibold text-foreground mb-1 block",children:"First Name"}),(0,d.jsx)(aO,{value:h.firstName,onChange:a=>i({...h,firstName:a.target.value}),placeholder:"First name",required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-sm font-semibold text-foreground mb-1 block",children:"Last Name"}),(0,d.jsx)(aO,{value:h.lastName,onChange:a=>i({...h,lastName:a.target.value}),placeholder:"Last name",required:!0})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsx)("input",{type:"checkbox",id:"useCustom",checked:h.useCustomClass,onChange:a=>i({...h,useCustomClass:a.target.checked,class:""}),className:"w-4 h-4"}),(0,d.jsx)("label",{htmlFor:"useCustom",className:"text-sm font-semibold text-foreground",children:"Use custom class name"})]}),h.useCustomClass?(0,d.jsx)(aO,{value:h.class,onChange:a=>i({...h,class:a.target.value}),placeholder:"e.g., Form 2A, Grade 7, Senior 2"}):(0,d.jsxs)("select",{value:h.class,onChange:a=>i({...h,class:a.target.value}),className:"w-full p-2 border border-border rounded-lg bg-background",children:[(0,d.jsx)("option",{value:"",children:"Select class (optional)"}),["JHS 1 Blue","JHS 1 Green","JHS 1 Red","JHS 2 Blue","JHS 2 Green","JHS 2 Red","JHS 3 Blue","JHS 3 Green","JHS 3 Red"].map(a=>(0,d.jsx)("option",{value:a,children:a},a))]})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(aj,{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white",children:"Add Student"}),(0,d.jsx)(aj,{type:"button",variant:"outline",onClick:()=>g(!1),children:"Cancel"})]})]})})}),(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:0===l.length?(0,d.jsx)(aq,{className:"col-span-full",children:(0,d.jsx)(au,{className:"pt-6 text-center text-foreground/60",children:"No students found."})}):l.map(a=>(0,d.jsx)(aq,{children:(0,d.jsx)(au,{className:"pt-6",children:(0,d.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("h3",{className:"font-semibold text-foreground",children:[a.firstName," ",a.lastName]}),a.class&&(0,d.jsx)("p",{className:"text-sm text-foreground/60",children:a.class})]}),(0,d.jsx)(aj,{variant:"ghost",size:"sm",onClick:()=>c(a.id),className:"text-red-600 hover:text-red-700",children:(0,d.jsx)(aP,{className:"w-4 h-4"})})]})})},a.id))})]})}function aV(){let{students:a,devices:b,settings:c,addCallRequest:f}=(0,aw.useStore)(),[g,h]=(0,e.useState)(""),[i,j]=(0,e.useState)(null),[k,l]=(0,e.useState)(""),[m,n]=(0,e.useState)("office"),[o,p]=(0,e.useState)(c.defaultVoice),[q,r]=(0,e.useState)(c.defaultLanguage),[s,t]=(0,e.useState)(!1),u=[{id:"office",text:"should report to the office"},{id:"parent",text:"your parent is waiting at the gate"},{id:"staff",text:"please come to the staff common room"}],v=a.filter(a=>`${a.firstName} ${a.lastName}`.toLowerCase().includes(g.toLowerCase())),w=async()=>{if(!i)return;let b=a.find(a=>a.id===i);if(!b)return;let c=k||`Student ${b.firstName} ${b.lastName}, ${u.find(a=>a.id===m)?.text||""}`,d=(0,ax.translateMessage)(c,q);f({id:Date.now().toString(),studentId:i,message:d,timestamp:new Date().toISOString(),status:"played",voice:o,language:q}),t(!0),await (0,ax.playTextToSpeech)(d,o,q),t(!1),j(null),l("")};return(0,d.jsxs)("div",{className:"p-8",children:[(0,d.jsxs)("div",{className:"mb-8",children:[(0,d.jsx)("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Call Student"}),(0,d.jsx)("p",{className:"text-foreground/60",children:"Use Text-to-Speech to call students in multiple languages"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,d.jsx)("div",{className:"lg:col-span-2",children:(0,d.jsxs)(aq,{children:[(0,d.jsx)(ar,{children:(0,d.jsx)(as,{children:"Search & Call Student"})}),(0,d.jsxs)(au,{className:"space-y-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-sm font-semibold text-foreground mb-2 block",children:"Search Student"}),(0,d.jsx)(aO,{placeholder:"Type student name...",value:g,onChange:a=>h(a.target.value),disabled:s})]}),g&&v.length>0&&(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"text-sm font-semibold text-foreground mb-2 block",children:["Results (",v.length,")"]}),(0,d.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:v.map(a=>(0,d.jsxs)("button",{onClick:()=>j(a.id),disabled:s,className:`w-full p-3 text-left rounded-lg border-2 transition ${i===a.id?"border-blue-500 bg-blue-50 dark:bg-blue-950":"border-border hover:border-blue-300"} ${s?"opacity-50 cursor-not-allowed":""}`,children:[(0,d.jsxs)("div",{className:"font-semibold text-foreground",children:[a.firstName," ",a.lastName]}),(0,d.jsx)("div",{className:"text-sm text-foreground/60",children:a.class||"No class assigned"})]},a.id))})]}),i&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-sm font-semibold text-foreground mb-2 block",children:"Message Template"}),(0,d.jsx)("div",{className:"space-y-2",children:u.map(b=>(0,d.jsx)("button",{onClick:()=>n(b.id),disabled:s,className:`w-full p-3 text-left rounded-lg border-2 transition ${m===b.id?"border-green-500 bg-green-50 dark:bg-green-950":"border-border"} ${s?"opacity-50 cursor-not-allowed":""}`,children:(0,d.jsxs)("div",{className:"font-semibold text-foreground",children:["Student ",a.find(a=>a.id===i)?.firstName,", ",b.text]})},b.id))})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-sm font-semibold text-foreground mb-2 block",children:"Custom Message (Optional)"}),(0,d.jsx)("textarea",{placeholder:"Enter custom message or leave blank to use template...",value:k,onChange:a=>l(a.target.value),disabled:s,className:"w-full p-3 border border-border rounded-lg bg-background text-foreground disabled:opacity-50",rows:3})]}),(0,d.jsxs)(aj,{onClick:w,disabled:s,className:"w-full bg-blue-600 hover:bg-blue-700 text-white gap-2 disabled:opacity-50",children:[(0,d.jsx)(av,{className:"w-4 h-4"}),s?"Playing...":"Call Now"]})]})]})]})}),(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)(aq,{children:[(0,d.jsx)(ar,{children:(0,d.jsx)(as,{className:"text-lg",children:"Speaker Zones"})}),(0,d.jsx)(au,{className:"space-y-2",children:b.map(a=>(0,d.jsx)("div",{className:"p-3 rounded-lg bg-muted flex items-center justify-between",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-semibold text-foreground",children:a.name}),(0,d.jsx)("div",{className:`text-xs ${"online"===a.status?"text-green-600":"text-red-600"}`,children:"online"===a.status?"‚óè Online":"‚óè Offline"})]})},a.id))})]}),(0,d.jsxs)(aq,{children:[(0,d.jsx)(ar,{children:(0,d.jsx)(as,{className:"text-lg",children:"Quick Info"})}),(0,d.jsxs)(au,{className:"text-sm text-foreground/70 space-y-2",children:[(0,d.jsx)("p",{children:"‚úì Select a student"}),(0,d.jsx)("p",{children:"‚úì Select message template"}),(0,d.jsx)("p",{children:'‚úì Click "Call Now" to play'})]})]})]})]})]})}let aW=(0,f.default)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),aX=(0,f.default)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);function aY(){let{settings:a}=(0,aw.useStore)(),[b,c]=(0,e.useState)([{id:1,title:"Assembly Tomorrow",content:"All students attend assembly at 8 AM tomorrow",date:"2024-01-15",voice:a.defaultVoice,language:a.defaultLanguage,repeatCount:1}]),[f,g]=(0,e.useState)(!1),[h,i]=(0,e.useState)({title:"",content:"",voice:a.defaultVoice,language:a.defaultLanguage,repeatCount:a.defaultRepeatCount||1}),[j,k]=(0,e.useState)(null),[l,m]=(0,e.useState)(null),[n,o]=(0,e.useState)(null),p=async(a,b,c,d,e=1)=>{console.log("Playing announcement with repeat count:",e),k(a);for(let a=0;a<e;a++)console.log(`Playing repetition ${a+1} of ${e}`),await (0,ax.playTextToSpeech)(b,c,d),a<e-1&&await new Promise(a=>setTimeout(a,1500));k(null),m(a)};return(0,d.jsxs)("div",{className:"p-8",children:[(0,d.jsx)("div",{className:"mb-8 flex justify-between items-center",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Announcements"}),(0,d.jsx)("p",{className:"text-foreground/60",children:"Create and manage audio announcements in multiple voices & languages"})]})}),(0,d.jsxs)(aj,{onClick:()=>{g(!f),o(null),i({title:"",content:"",voice:a.defaultVoice,language:a.defaultLanguage,repeatCount:a.defaultRepeatCount||1})},className:"bg-blue-600 hover:bg-blue-700 text-white gap-2",children:[(0,d.jsx)(aQ,{className:"w-4 h-4"}),"New Announcement"]}),f&&(0,d.jsx)(aq,{className:"mb-6",children:(0,d.jsx)(au,{className:"pt-6",children:(0,d.jsxs)("form",{onSubmit:d=>{d.preventDefault();let e={id:Date.now(),title:h.title,content:h.content,date:new Date().toISOString().split("T")[0],voice:h.voice,language:h.language,repeatCount:h.repeatCount};n?(c(b.map(a=>a.id===n?{...e,id:n,date:a.date}:a)),o(null)):c([...b,e]),i({title:"",content:"",voice:a.defaultVoice,language:a.defaultLanguage,repeatCount:a.defaultRepeatCount||1}),g(!1)},className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-sm font-semibold text-foreground mb-1 block",children:"Title"}),(0,d.jsx)("input",{type:"text",value:h.title,onChange:a=>i({...h,title:a.target.value}),className:"w-full p-2 border border-border rounded-lg bg-background",placeholder:"Announcement title",required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-sm font-semibold text-foreground mb-1 block",children:"Message"}),(0,d.jsx)("textarea",{value:h.content,onChange:a=>i({...h,content:a.target.value}),className:"w-full p-2 border border-border rounded-lg bg-background",placeholder:"Write announcement message",rows:4,required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-sm font-semibold text-foreground mb-1 block",children:"Voice"}),(0,d.jsx)("select",{value:h.voice,onChange:a=>i({...h,voice:a.target.value}),className:"w-full p-2 border border-border rounded-lg bg-background text-foreground",children:Object.entries(ax.VOICE_OPTIONS).map(([a,b])=>(0,d.jsx)("option",{value:a,children:b.name},a))})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-sm font-semibold text-foreground mb-1 block",children:"Language"}),(0,d.jsxs)("select",{value:h.language,onChange:a=>i({...h,language:a.target.value}),className:"w-full p-2 border border-border rounded-lg bg-background text-foreground",children:[(0,d.jsx)("option",{value:"english",children:"English"}),(0,d.jsx)("option",{value:"hausa",children:"Hausa"}),(0,d.jsx)("option",{value:"twi",children:"Twi"}),(0,d.jsx)("option",{value:"arabic",children:"Arabic"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-sm font-semibold text-foreground mb-1 block",children:"Repeat Count"}),(0,d.jsx)("input",{type:"number",min:"1",max:"10",value:h.repeatCount,onChange:a=>i({...h,repeatCount:parseInt(a.target.value)||1}),className:"w-full p-2 border border-border rounded-lg bg-background",required:!0})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(aj,{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white",children:n?"Update Announcement":"Create Announcement"}),(0,d.jsx)(aj,{type:"button",variant:"outline",onClick:()=>g(!1),children:"Cancel"})]})]})})}),(0,d.jsx)("div",{className:"space-y-3",children:b.map(a=>(0,d.jsx)(aq,{children:(0,d.jsx)(au,{className:"pt-6",children:(0,d.jsxs)("div",{className:"flex justify-between items-start",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("h3",{className:"font-semibold text-foreground",children:a.title}),(0,d.jsx)(aj,{variant:"ghost",size:"icon",className:"h-6 w-6 text-foreground/40 hover:text-foreground",onClick:()=>{i({title:a.title,content:a.content,voice:a.voice,language:a.language,repeatCount:a.repeatCount||1}),o(a.id),g(!0)},children:(0,d.jsx)(aX,{className:"w-3 h-3"})})]}),(0,d.jsx)("p",{className:"text-sm text-foreground/70 mt-1",children:a.content}),(0,d.jsxs)("div",{className:"flex gap-4 text-xs text-foreground/60 mt-2",children:[(0,d.jsxs)("span",{children:["Voice: ",ax.VOICE_OPTIONS[a.voice]?.name||"Standard"]}),(0,d.jsxs)("span",{children:["Language: ",a.language]}),(0,d.jsxs)("span",{children:["Repeats: ",a.repeatCount||1]}),(0,d.jsx)("span",{children:a.date})]})]}),(0,d.jsxs)(aj,{variant:"outline",size:"sm",onClick:()=>p(a.id,a.content,a.voice,a.language,a.repeatCount||1),disabled:j===a.id,className:"gap-2",children:[(0,d.jsx)(av,{className:"w-4 h-4"}),j===a.id?"Playing...":"Preview"]}),l===a.id&&j!==a.id&&(0,d.jsxs)(aj,{variant:"ghost",size:"sm",onClick:()=>p(a.id,a.content,a.voice,a.language,a.repeatCount||1),className:"gap-2 ml-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:[(0,d.jsx)(aW,{className:"w-4 h-4"}),"Replay"]})]})})},a.id))})]})}var aZ=a.i(57223);function a$(){let{devices:a,addDevice:b,removeDevice:c}=(0,aw.useStore)(),[f,g]=(0,e.useState)(!1),[h,i]=(0,e.useState)({name:"",type:"esp32"});return(0,d.jsxs)("div",{className:"p-8",children:[(0,d.jsxs)("div",{className:"mb-8 flex justify-between items-center",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Devices"}),(0,d.jsx)("p",{className:"text-foreground/60",children:"Manage speakers and hardware devices"})]}),(0,d.jsxs)(aj,{onClick:()=>g(!f),className:"bg-blue-600 hover:bg-blue-700 text-white gap-2",children:[(0,d.jsx)(aQ,{className:"w-4 h-4"}),"Add Device"]})]}),f&&(0,d.jsx)(aq,{className:"mb-6",children:(0,d.jsx)(au,{className:"pt-6",children:(0,d.jsxs)("form",{onSubmit:a=>{a.preventDefault(),h.name&&(b({id:Date.now().toString(),name:h.name,type:h.type,status:"online",lastSeen:new Date().toISOString()}),i({name:"",type:"esp32"}),g(!1))},className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-sm font-semibold text-foreground mb-1 block",children:"Device Name"}),(0,d.jsx)(aO,{value:h.name,onChange:a=>i({...h,name:a.target.value}),placeholder:"e.g., Office Speaker"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-sm font-semibold text-foreground mb-1 block",children:"Device Type"}),(0,d.jsxs)("select",{value:h.type,onChange:a=>i({...h,type:a.target.value}),className:"w-full p-2 border border-border rounded-lg bg-background",children:[(0,d.jsx)("option",{value:"esp32",children:"ESP32 + DFPlayer"}),(0,d.jsx)("option",{value:"raspberry-pi",children:"Raspberry Pi"})]})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(aj,{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white",children:"Add Device"}),(0,d.jsx)(aj,{type:"button",variant:"outline",onClick:()=>g(!1),children:"Cancel"})]})]})})}),(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:0===a.length?(0,d.jsx)(aq,{className:"col-span-full",children:(0,d.jsx)(au,{className:"pt-6 text-center text-foreground/60",children:"No devices paired yet."})}):a.map(a=>(0,d.jsx)(aq,{children:(0,d.jsxs)(au,{className:"pt-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"font-semibold text-foreground",children:a.name}),(0,d.jsx)("p",{className:"text-xs text-foreground/60 capitalize",children:a.type.replace("-"," ")})]}),(0,d.jsx)(aj,{variant:"ghost",size:"sm",onClick:()=>c(a.id),className:"text-red-600",children:(0,d.jsx)(aP,{className:"w-4 h-4"})})]}),(0,d.jsx)("div",{className:"flex items-center gap-2 mb-2",children:"online"===a.status?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(j.Wifi,{className:"w-4 h-4 text-green-600"}),(0,d.jsx)("span",{className:"text-sm text-green-600 font-semibold",children:"Online"})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(aZ.WifiOff,{className:"w-4 h-4 text-red-600"}),(0,d.jsx)("span",{className:"text-sm text-red-600 font-semibold",children:"Offline"})]})}),(0,d.jsxs)("p",{className:"text-xs text-foreground/50",children:["Last seen: ",new Date(a.lastSeen).toLocaleDateString()]})]})},a.id))}),(0,d.jsxs)(aq,{className:"mt-8 bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800",children:[(0,d.jsx)(ar,{children:(0,d.jsx)(as,{className:"text-blue-900 dark:text-blue-100",children:"Offline Mode Support"})}),(0,d.jsxs)(au,{className:"text-blue-800 dark:text-blue-100 space-y-2",children:[(0,d.jsx)("p",{children:"‚úì All devices store schedules locally"}),(0,d.jsx)("p",{children:"‚úì Bells ring automatically even without internet"}),(0,d.jsx)("p",{children:"‚úì Student name calls queued and played when online"})]})]})]})}function a_(){let{callRequests:a,timetables:b,clearCallRequests:c}=(0,aw.useStore)(),e=[...b.map(a=>({id:a.id,type:"bell",message:`${a.name} triggered`,timestamp:new Date().toISOString(),status:"success"})),...a.map(a=>({id:a.id,type:"student-call",message:a.message,timestamp:a.timestamp,status:a.status}))].sort((a,b)=>new Date(b.timestamp).getTime()-new Date(a.timestamp).getTime());return(0,d.jsxs)("div",{className:"p-8",children:[(0,d.jsxs)("div",{className:"mb-8 flex justify-between items-center",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Logs & Reports"}),(0,d.jsx)("p",{className:"text-foreground/60",children:"Activity history and system events"})]}),e.length>0&&(0,d.jsxs)(aj,{onClick:()=>{window.confirm("Are you sure you want to clear all logs? This cannot be undone.")&&c()},className:"bg-red-600 hover:bg-red-700 text-white gap-2",children:[(0,d.jsx)(aP,{className:"w-4 h-4"}),"Clear All Logs"]})]}),(0,d.jsxs)(aq,{children:[(0,d.jsx)(ar,{children:(0,d.jsx)(as,{children:"Recent Activity"})}),(0,d.jsx)(au,{children:0===e.length?(0,d.jsx)("p",{className:"text-foreground/60 text-center py-8",children:"No activity yet"}):(0,d.jsx)("div",{className:"space-y-3",children:e.map(a=>(0,d.jsxs)("div",{className:"flex justify-between items-start pb-3 border-b border-border last:border-b-0",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-sm font-semibold text-foreground capitalize",children:"bell"===a.type?"Bell":"Student Call"}),(0,d.jsx)("p",{className:"text-sm text-foreground/70 mt-1",children:a.message})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("span",{className:`text-xs px-2 py-1 rounded-full ${"success"===a.status||"played"===a.status?"bg-green-100 text-green-800 dark:bg-green-950 dark:text-green-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-950 dark:text-yellow-200"}`,children:a.status}),(0,d.jsx)("p",{className:"text-xs text-foreground/50 mt-1",children:new Date(a.timestamp).toLocaleTimeString()})]})]},a.id))})})]})]})}let a0=(0,f.default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),a1=(0,f.default)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),a2=(0,f.default)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),a3=0,a4=new Map,a5=a=>{if(a4.has(a))return;let b=setTimeout(()=>{a4.delete(a),a8({type:"REMOVE_TOAST",toastId:a})},1e6);a4.set(a,b)},a6=[],a7={toasts:[]};function a8(a){a7=((a,b)=>{switch(b.type){case"ADD_TOAST":return{...a,toasts:[b.toast,...a.toasts].slice(0,1)};case"UPDATE_TOAST":return{...a,toasts:a.toasts.map(a=>a.id===b.toast.id?{...a,...b.toast}:a)};case"DISMISS_TOAST":{let{toastId:c}=b;return c?a5(c):a.toasts.forEach(a=>{a5(a.id)}),{...a,toasts:a.toasts.map(a=>a.id===c||void 0===c?{...a,open:!1}:a)}}case"REMOVE_TOAST":if(void 0===b.toastId)return{...a,toasts:[]};return{...a,toasts:a.toasts.filter(a=>a.id!==b.toastId)}}})(a7,a),a6.forEach(a=>{a(a7)})}function a9({...a}){let b=(a3=(a3+1)%Number.MAX_SAFE_INTEGER).toString(),c=()=>a8({type:"DISMISS_TOAST",toastId:b});return a8({type:"ADD_TOAST",toast:{...a,id:b,open:!0,onOpenChange:a=>{a||c()}}}),{id:b,dismiss:c,update:a=>a8({type:"UPDATE_TOAST",toast:{...a,id:b}})}}function ba({category:a="general",onAudioSelect:b,selectedAudioId:c}){let[f,g]=(0,e.useState)([]),[h,i]=(0,e.useState)(!1),[j,k]=(0,e.useState)(null),[l,m]=(0,e.useState)(!1),n=(0,e.useRef)(null),o=(0,e.useRef)(null),{toast:p}=function(){let[a,b]=e.useState(a7);return e.useEffect(()=>(a6.push(b),()=>{let a=a6.indexOf(b);a>-1&&a6.splice(a,1)}),[a]),{...a,toast:a9,dismiss:a=>a8({type:"DISMISS_TOAST",toastId:a})}}();(0,e.useEffect)(()=>{q()},[a]);let q=async()=>{try{let b=await aB.audioStorage.listAudios(a);g(b.sort((a,b)=>new Date(b.uploadDate).getTime()-new Date(a.uploadDate).getTime()))}catch(a){console.error("Failed to load audios:",a),p({title:"Error",description:"Failed to load audio files",variant:"destructive"})}},r=async b=>{if(!b||0===b.length)return;let c=b[0],d="."+c.name.split(".").pop()?.toLowerCase();if(!["audio/mpeg","audio/mp3","audio/wav","audio/x-wav","audio/wave","audio/ogg","audio/mp4","audio/x-m4a","audio/aac","audio/webm","audio/flac"].includes(c.type)&&![".mp3",".wav",".ogg",".m4a",".mp4",".aac",".webm",".flac"].includes(d)){console.error("Invalid file type:",c.type,"Extension:",d),p({title:"Invalid File",description:`File type ${c.type||"unknown"} not supported. Please upload an audio file.`,variant:"destructive"});return}if(c.size>0xa00000)return void p({title:"File Too Large",description:"Please upload a file smaller than 10MB",variant:"destructive"});i(!0);try{await aB.audioStorage.saveAudio(c,a),p({title:"Success",description:`${c.name} uploaded successfully`}),await q()}catch(a){console.error("Upload failed:",a),p({title:"Upload Failed",description:"Failed to save audio file",variant:"destructive"})}finally{i(!1),n.current&&(n.current.value="")}},s=a=>{a.preventDefault(),a.stopPropagation(),"dragenter"===a.type||"dragover"===a.type?m(!0):"dragleave"===a.type&&m(!1)},t=async a=>{try{if(o.current&&(o.current.pause(),o.current=null),j===a.id)return void k(null);let b=await aB.audioStorage.getAudio(a.id);if(!b)return;let c=URL.createObjectURL(b.audioBlob),d=new Audio(c);d.onended=()=>{k(null),URL.revokeObjectURL(c)},d.onerror=()=>{k(null),URL.revokeObjectURL(c),p({title:"Playback Error",description:"Failed to play audio file",variant:"destructive"})},o.current=d,k(a.id),await d.play()}catch(a){console.error("Playback failed:",a),k(null)}},u=async a=>{if(confirm("Are you sure you want to delete this audio file?"))try{await aB.audioStorage.deleteAudio(a),p({title:"Deleted",description:"Audio file deleted successfully"}),await q(),j===a&&(o.current?.pause(),k(null))}catch(a){console.error("Delete failed:",a),p({title:"Error",description:"Failed to delete audio file",variant:"destructive"})}},v=async()=>{try{let a=await aB.audioStorage.exportAll(),b=URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download=`school-bell-audio-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(b),p({title:"Export Successful",description:"Audio files exported successfully"})}catch(a){console.error("Export failed:",a),p({title:"Export Failed",description:"Failed to export audio files",variant:"destructive"})}},w=async a=>{if(!a||0===a.length)return;let b=a[0];if("application/json"!==b.type)return void p({title:"Invalid File",description:"Please select a valid backup JSON file",variant:"destructive"});try{let a=await aB.audioStorage.importAll(b);p({title:"Import Successful",description:`Imported ${a} audio file(s)`}),await q()}catch(a){console.error("Import failed:",a),p({title:"Import Failed",description:"Failed to import audio files",variant:"destructive"})}};return(0,d.jsxs)(aq,{children:[(0,d.jsxs)(ar,{children:[(0,d.jsx)(as,{children:"Audio Library"}),(0,d.jsx)(at,{children:"Upload and manage custom audio files for announcements and bells"})]}),(0,d.jsxs)(au,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:ah("border-2 border-dashed rounded-lg p-8 text-center transition-colors",l?"border-primary bg-primary/5":"border-muted-foreground/25",h&&"opacity-50 pointer-events-none"),onDragEnter:s,onDragLeave:s,onDragOver:s,onDrop:a=>{a.preventDefault(),a.stopPropagation(),m(!1),r(a.dataTransfer.files)},children:[(0,d.jsx)(a0,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),(0,d.jsx)("p",{className:"text-sm font-medium mb-2",children:"Drag and drop audio file here, or click to browse"}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground mb-4",children:"Supports MP3, WAV, OGG, M4A (max 10MB)"}),(0,d.jsx)("input",{ref:n,type:"file",accept:"audio/mpeg,audio/wav,audio/ogg,audio/mp4,audio/x-m4a",onChange:a=>r(a.target.files),className:"hidden"}),(0,d.jsx)(aj,{onClick:()=>n.current?.click(),disabled:h,children:h?"Uploading...":"Select File"})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsxs)(aj,{variant:"outline",size:"sm",onClick:v,disabled:0===f.length,children:[(0,d.jsx)(aH,{className:"w-4 h-4 mr-2"}),"Export All"]}),(0,d.jsxs)(aj,{variant:"outline",size:"sm",onClick:()=>{let a=document.createElement("input");a.type="file",a.accept="application/json",a.onchange=a=>w(a.target.files),a.click()},children:[(0,d.jsx)(a0,{className:"w-4 h-4 mr-2"}),"Import Backup"]})]}),(0,d.jsx)("div",{className:"space-y-2",children:0===f.length?(0,d.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,d.jsx)(aS,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,d.jsx)("p",{className:"text-sm",children:"No audio files uploaded yet"})]}):f.map(a=>{var e,f;let g,h;return(0,d.jsxs)("div",{className:ah("flex items-center gap-3 p-3 rounded-lg border transition-colors",c===a.id?"border-primary bg-primary/5":"border-border",b&&"cursor-pointer hover:bg-muted/50"),onClick:()=>b?.(a.id),children:[(0,d.jsx)(aS,{className:"w-8 h-8 text-muted-foreground flex-shrink-0"}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("p",{className:"font-medium truncate",children:a.name}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(g=Math.floor((e=a.duration)/60),h=Math.floor(e%60),`${g}:${h.toString().padStart(2,"0")}`)," ‚Ä¢ ",(f=a.fileSize)<1024?f+" B":f<1048576?(f/1024).toFixed(1)+" KB":(f/1048576).toFixed(1)+" MB"]})]}),(0,d.jsxs)("div",{className:"flex gap-1",children:[(0,d.jsx)(aj,{variant:"ghost",size:"icon",onClick:b=>{b.stopPropagation(),t(a)},children:j===a.id?(0,d.jsx)(a2,{className:"w-4 h-4"}):(0,d.jsx)(a1,{className:"w-4 h-4"})}),(0,d.jsx)(aj,{variant:"ghost",size:"icon",onClick:b=>{b.stopPropagation(),u(a.id)},children:(0,d.jsx)(aP,{className:"w-4 h-4"})})]})]},a.id)})})]})]})}function bb(){let{settings:a,updateSettings:b}=(0,aw.useStore)(),[c,f]=(0,e.useState)(a),[g,h]=(0,e.useState)([]);return(0,e.useEffect)(()=>{(async()=>{h(await aB.audioStorage.listAudios())})()},[]),(0,d.jsxs)("div",{className:"p-8",children:[(0,d.jsxs)("div",{className:"mb-8",children:[(0,d.jsx)("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"System Settings"}),(0,d.jsx)("p",{className:"text-foreground/60",children:"Configure voices, languages, and Islamic prayer times"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,d.jsxs)(aq,{children:[(0,d.jsx)(ar,{children:(0,d.jsxs)(as,{className:"flex items-center gap-2",children:[(0,d.jsx)(av,{className:"w-5 h-5"}),"Default Voice & Language"]})}),(0,d.jsxs)(au,{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-sm font-semibold text-foreground mb-2 block",children:"Default Voice"}),(0,d.jsx)("select",{value:c.defaultVoice,onChange:a=>f({...c,defaultVoice:a.target.value}),className:"w-full p-2 border border-border rounded-lg bg-background text-foreground",children:Object.entries(ax.VOICE_OPTIONS).map(([a,b])=>(0,d.jsx)("option",{value:a,children:b.name},a))}),(0,d.jsx)("p",{className:"text-xs text-foreground/60 mt-2",children:ax.VOICE_OPTIONS[c.defaultVoice].description})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-sm font-semibold text-foreground mb-2 block",children:"Default Language"}),(0,d.jsxs)("select",{value:c.defaultLanguage,onChange:a=>f({...c,defaultLanguage:a.target.value}),className:"w-full p-2 border border-border rounded-lg bg-background text-foreground",children:[(0,d.jsx)("option",{value:"english",children:"English"}),(0,d.jsx)("option",{value:"hausa",children:"Hausa"}),(0,d.jsx)("option",{value:"twi",children:"Twi"}),(0,d.jsx)("option",{value:"arabic",children:"Arabic"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-sm font-semibold text-foreground mb-2 block",children:"Default Repeat Count"}),(0,d.jsx)("input",{type:"number",min:"1",max:"10",value:c.defaultRepeatCount,onChange:a=>f({...c,defaultRepeatCount:parseInt(a.target.value)||1}),className:"w-full p-2 border border-border rounded-lg bg-background text-foreground"})]})]})]}),(0,d.jsxs)(aq,{children:[(0,d.jsx)(ar,{children:(0,d.jsxs)(as,{className:"flex items-center gap-2",children:[(0,d.jsx)(n,{className:"w-5 h-5"}),"Islamic Prayer Times (Azan)"]})}),(0,d.jsxs)(au,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,d.jsx)("input",{type:"checkbox",checked:c.azanEnabled,onChange:a=>f({...c,azanEnabled:a.target.checked}),className:"w-4 h-4"}),(0,d.jsx)("label",{className:"text-sm font-semibold text-foreground",children:"Enable Azan (Islamic Call to Prayer)"})]}),c.azanEnabled&&c.prayerTimes&&(0,d.jsx)("div",{className:"space-y-3",children:Object.entries(c.prayerTimes).map(([a,b])=>(0,d.jsxs)("div",{className:"p-3 border border-border rounded-lg bg-background/50",children:[(0,d.jsx)("div",{className:"flex justify-between items-center mb-2",children:(0,d.jsxs)("label",{className:"text-sm font-semibold text-foreground capitalize",children:[a," Time"]})}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-xs text-foreground/60 mb-1 block",children:"Time"}),(0,d.jsx)("input",{type:"time",value:b,onChange:b=>f({...c,prayerTimes:{...c.prayerTimes,[a]:b.target.value}}),className:"w-full p-2 border border-border rounded-lg bg-background text-foreground"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-xs text-foreground/60 mb-1 block",children:"Custom Audio (Optional)"}),(0,d.jsxs)("select",{value:c.prayerAudioIds?.[a]||"",onChange:b=>f({...c,prayerAudioIds:{...c.prayerAudioIds,[a]:b.target.value||void 0}}),className:"w-full p-2 border border-border rounded-lg bg-background text-foreground",children:[(0,d.jsx)("option",{value:"",children:"Default Azan"}),g.map(a=>(0,d.jsx)("option",{value:a.id,children:a.name},a.id))]})]})]})]},a))})]})]})]}),(0,d.jsx)("div",{className:"mt-6",children:(0,d.jsxs)(aq,{children:[(0,d.jsx)(ar,{children:(0,d.jsxs)(as,{className:"flex items-center gap-2",children:[(0,d.jsx)(aD,{className:"w-5 h-5"}),"Custom Audio Library"]})}),(0,d.jsxs)(au,{children:[(0,d.jsx)("p",{className:"text-sm text-foreground/60 mb-4",children:"Upload your own voice recordings or custom sounds to use in timetables and announcements. Files are stored locally in your browser."}),(0,d.jsx)(ba,{})]})]})}),(0,d.jsx)("div",{className:"mt-6",children:(0,d.jsxs)(aq,{children:[(0,d.jsx)(ar,{children:(0,d.jsxs)(as,{className:"flex items-center gap-2",children:[(0,d.jsx)(j.Wifi,{className:"w-5 h-5"}),"Background & Offline"]})}),(0,d.jsxs)(au,{children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("input",{type:"checkbox",id:"background-mode",className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary",checked:c.backgroundEnabled??!1,onChange:a=>f({...c,backgroundEnabled:a.target.checked})}),(0,d.jsx)("label",{htmlFor:"background-mode",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Enable background bell playback (runs when app is closed)"})]}),(0,d.jsx)("p",{className:"text-xs text-foreground/60 mt-2 ml-6",children:"Allows the bell system to run in the background using a Service Worker. Requires permission."})]})]})}),(0,d.jsxs)("div",{className:"mt-8 flex gap-3",children:[(0,d.jsxs)(aj,{onClick:()=>{b(c),alert("Settings saved successfully!")},className:"bg-green-600 hover:bg-green-700 text-white",children:[(0,d.jsx)(l,{className:"w-4 h-4 mr-2"}),"Save Settings"]}),(0,d.jsx)(aj,{variant:"outline",onClick:()=>f(a),children:"Cancel"})]})]})}function bc(){let[a,b]=(0,e.useState)("dashboard"),[c,f]=(0,e.useState)(!1);return(0,d.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,d.jsx)(ak,{currentPage:a,setCurrentPage:b}),(0,d.jsx)(ao,{onMenuToggle:()=>f(!c),isMenuOpen:c,currentPage:a}),(0,d.jsx)(ap,{currentPage:a,setCurrentPage:b,isOpen:c,onClose:()=>f(!1)}),(0,d.jsx)("main",{className:"flex-1 overflow-auto pt-16 lg:pt-0",children:(()=>{switch(a){case"dashboard":default:return(0,d.jsx)(aN,{});case"timetable":return(0,d.jsx)(aT,{});case"students":return(0,d.jsx)(aU,{});case"call-student":return(0,d.jsx)(aV,{});case"announcements":return(0,d.jsx)(aY,{});case"devices":return(0,d.jsx)(a$,{});case"logs":return(0,d.jsx)(a_,{});case"settings":return(0,d.jsx)(bb,{})}})()})]})}a.s(["default",()=>bc],26948)}];

//# sourceMappingURL=Downloads_school-bell-system_app_page_tsx_c81c757d._.js.map