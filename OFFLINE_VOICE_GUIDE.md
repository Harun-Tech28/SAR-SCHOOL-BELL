# Offline Voice Guide

## Issue: Voice Doesn't Work When Data is Off

When you turn off your mobile data or WiFi, the bell sounds play but the voice announcements don't work.

## Why This Happens

Browser voices need to download voice data from the internet **the first time** they are used. After that, they should work offline.

## Solution: Pre-load Voices While Online

To ensure voices work offline, you need to "warm up" the voices while you're still online:

### Step 1: While Connected to Internet

1. Go to **Settings** page
2. Click the **"Preview Voice"** button for each voice you plan to use
3. This will download the voice data to your device

### Step 2: Test Each Voice

Test these voices while online:
- **Male Voice** - Click preview
- **Female Voice** - Click preview  
- **Islamic Azan** - Click preview (if you use prayer times)
- **Hausa** - Click preview (if you use Hausa)
- **Twi** - Click preview (if you use Twi)
- **Arabic** - Click preview (if you use Arabic)

### Step 3: Test Offline

1. Turn off your mobile data/WiFi
2. Go to **Timetable** or **Announcements**
3. Try playing a voice announcement
4. It should now work offline!

## Important Notes

### ✅ What Works Offline
- Bell sounds (always work offline)
- Browser voices (after first use while online)
- All app features and data
- Timetable scheduling
- Student calling

### ❌ What Doesn't Work Offline
- AI voices (OpenAI, ElevenLabs, Azure) - these require internet
- Downloading new voice data
- Syncing with external services

## Troubleshooting

### Voice Still Doesn't Work Offline?

**Try this:**

1. **Clear your browser cache** and reload the app
2. **While online**, go to Settings and preview each voice 2-3 times
3. **Wait 10 seconds** after previewing before going offline
4. **Use Chrome or Edge browser** - they have the best offline voice support

### Which Browser Works Best?

- ✅ **Chrome** (Android/Desktop) - Excellent offline support
- ✅ **Edge** (Windows/Android) - Best quality voices
- ✅ **Safari** (iOS/Mac) - Good offline support
- ⚠️ **Firefox** - Limited offline voice support

### Voice Quality Issues?

If voices sound robotic or unclear:

1. **Use Edge browser** - it has the best "Natural" voices
2. **Adjust voice settings** in Settings page
3. **Try different voice options** (Male vs Female)

## How It Works Now

The app has been updated to:

1. **Detect offline mode** automatically
2. **Use browser voices directly** when offline (no AI attempts)
3. **Skip network calls** when data is off
4. **Work faster** by avoiding failed network requests

## Best Practice

**Before going to a location without internet:**

1. Open the app while online
2. Preview all voices you'll use
3. Test a few announcements
4. Then you can safely go offline!

---

**Need Help?** The app will show an "Offline" indicator at the top when you're not connected to the internet.
