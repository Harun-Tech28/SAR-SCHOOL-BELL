(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33985,e=>{"use strict";let t,l;var s=e.i(2091),a=e.i(2049),r=e.i(34767);let n=(0,r.default)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),o=(0,r.default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),i=(0,r.default)("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);var d=e.i(28707);let c=(0,r.default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),u=(0,r.default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),m=(0,r.default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),p=(0,r.default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);function g(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var h=a.forwardRef((e,t)=>{let{children:l,...r}=e,n=a.Children.toArray(l),o=n.find(f);if(o){let e=o.props.children,l=n.map(t=>t!==o?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,s.jsx)(b,{...r,ref:t,children:a.isValidElement(e)?a.cloneElement(e,void 0,l):null})}return(0,s.jsx)(b,{...r,ref:t,children:l})});h.displayName="Slot";var b=a.forwardRef((e,t)=>{let{children:l,...s}=e;if(a.isValidElement(l)){var r;let e,n,o=(r=l,(n=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?r.ref:(n=(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?r.props.ref:r.props.ref||r.ref);return a.cloneElement(l,{...function(e,t){let l={...t};for(let s in t){let a=e[s],r=t[s];/^on[A-Z]/.test(s)?a&&r?l[s]=(...e)=>{r(...e),a(...e)}:a&&(l[s]=a):"style"===s?l[s]={...a,...r}:"className"===s&&(l[s]=[a,r].filter(Boolean).join(" "))}return{...e,...l}}(s,l.props),ref:t?function(...e){return t=>{let l=!1,s=e.map(e=>{let s=g(e,t);return l||"function"!=typeof s||(l=!0),s});if(l)return()=>{for(let t=0;t<s.length;t++){let l=s[t];"function"==typeof l?l():g(e[t],null)}}}}(t,o):o})}return a.Children.count(l)>1?a.Children.only(null):null});b.displayName="SlotClone";var x=({children:e})=>(0,s.jsx)(s.Fragment,{children:e});function f(e){return a.isValidElement(e)&&e.type===x}function y(){for(var e,t,l=0,s="",a=arguments.length;l<a;l++)(e=arguments[l])&&(t=function e(t){var l,s,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t)if(Array.isArray(t)){var r=t.length;for(l=0;l<r;l++)t[l]&&(s=e(t[l]))&&(a&&(a+=" "),a+=s)}else for(s in t)t[s]&&(a&&(a+=" "),a+=s);return a}(e))&&(s&&(s+=" "),s+=t);return s}let v=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,j=(e,t)=>{if(0===e.length)return t.classGroupId;let l=e[0],s=t.nextPart.get(l),a=s?j(e.slice(1),s):void 0;if(a)return a;if(0===t.validators.length)return;let r=e.join("-");return t.validators.find(({validator:e})=>e(r))?.classGroupId},w=/^\[(.+)\]$/,N=(e,t,l,s)=>{e.forEach(e=>{if("string"==typeof e){(""===e?t:S(t,e)).classGroupId=l;return}"function"==typeof e?k(e)?N(e(s),t,l,s):t.validators.push({validator:e,classGroupId:l}):Object.entries(e).forEach(([e,a])=>{N(a,S(t,e),l,s)})})},S=(e,t)=>{let l=e;return t.split("-").forEach(e=>{l.nextPart.has(e)||l.nextPart.set(e,{nextPart:new Map,validators:[]}),l=l.nextPart.get(e)}),l},k=e=>e.isThemeGetter,C=(e,t)=>t?e.map(([e,l])=>[e,l.map(e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,l])=>[t+e,l])):e)]):e,T=e=>{if(e.length<=1)return e;let t=[],l=[];return e.forEach(e=>{"["===e[0]?(t.push(...l.sort(),e),l=[]):l.push(e)}),t.push(...l.sort()),t},A=/\s+/;function B(){let e,t,l=0,s="";for(;l<arguments.length;)(e=arguments[l++])&&(t=I(e))&&(s&&(s+=" "),s+=t);return s}let I=e=>{let t;if("string"==typeof e)return e;let l="";for(let s=0;s<e.length;s++)e[s]&&(t=I(e[s]))&&(l&&(l+=" "),l+=t);return l},E=e=>{let t=t=>t[e]||[];return t.isThemeGetter=!0,t},P=/^\[(?:([a-z-]+):)?(.+)\]$/i,M=/^\d+\/\d+$/,D=new Set(["px","full","screen"]),O=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,z=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,L=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,V=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,R=e=>F(e)||D.has(e)||M.test(e),U=e=>et(e,"length",el),F=e=>!!e&&!Number.isNaN(Number(e)),q=e=>et(e,"number",F),H=e=>!!e&&Number.isInteger(Number(e)),_=e=>e.endsWith("%")&&F(e.slice(0,-1)),W=e=>P.test(e),G=e=>O.test(e),Q=new Set(["length","size","percentage"]),Y=e=>et(e,Q,es),J=e=>et(e,"position",es),Z=new Set(["image","url"]),K=e=>et(e,Z,er),X=e=>et(e,"",ea),ee=()=>!0,et=(e,t,l)=>{let s=P.exec(e);return!!s&&(s[1]?"string"==typeof t?s[1]===t:t.has(s[1]):l(s[2]))},el=e=>z.test(e)&&!L.test(e),es=()=>!1,ea=e=>$.test(e),er=e=>V.test(e),en=function(e,...t){let l,s,a,r=function(o){let i;return s=(l={cache:(e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,l=new Map,s=new Map,a=(a,r)=>{l.set(a,r),++t>e&&(t=0,s=l,l=new Map)};return{get(e){let t=l.get(e);return void 0!==t?t:void 0!==(t=s.get(e))?(a(e,t),t):void 0},set(e,t){l.has(e)?l.set(e,t):a(e,t)}}})((i=t.reduce((e,t)=>t(e),e())).cacheSize),parseClassName:(e=>{let{separator:t,experimentalParseClassName:l}=e,s=1===t.length,a=t[0],r=t.length,n=e=>{let l,n=[],o=0,i=0;for(let d=0;d<e.length;d++){let c=e[d];if(0===o){if(c===a&&(s||e.slice(d,d+r)===t)){n.push(e.slice(i,d)),i=d+r;continue}if("/"===c){l=d;continue}}"["===c?o++:"]"===c&&o--}let d=0===n.length?e:e.substring(i),c=d.startsWith("!"),u=c?d.substring(1):d;return{modifiers:n,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:l&&l>i?l-i:void 0}};return l?e=>l({className:e,parseClassName:n}):n})(i),...(e=>{let t=(e=>{let{theme:t,prefix:l}=e,s={nextPart:new Map,validators:[]};return C(Object.entries(e.classGroups),l).forEach(([e,l])=>{N(l,s,e,t)}),s})(e),{conflictingClassGroups:l,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:e=>{let l=e.split("-");return""===l[0]&&1!==l.length&&l.shift(),j(l,t)||(e=>{if(w.test(e)){let t=w.exec(e)[1],l=t?.substring(0,t.indexOf(":"));if(l)return"arbitrary.."+l}})(e)},getConflictingClassGroupIds:(e,t)=>{let a=l[e]||[];return t&&s[e]?[...a,...s[e]]:a}}})(i)}).cache.get,a=l.cache.set,r=n,n(o)};function n(e){let t=s(e);if(t)return t;let r=((e,t)=>{let{parseClassName:l,getClassGroupId:s,getConflictingClassGroupIds:a}=t,r=[],n=e.trim().split(A),o="";for(let e=n.length-1;e>=0;e-=1){let t=n[e],{modifiers:i,hasImportantModifier:d,baseClassName:c,maybePostfixModifierPosition:u}=l(t),m=!!u,p=s(m?c.substring(0,u):c);if(!p){if(!m||!(p=s(c))){o=t+(o.length>0?" "+o:o);continue}m=!1}let g=T(i).join(":"),h=d?g+"!":g,b=h+p;if(r.includes(b))continue;r.push(b);let x=a(p,m);for(let e=0;e<x.length;++e){let t=x[e];r.push(h+t)}o=t+(o.length>0?" "+o:o)}return o})(e,l);return a(e,r),r}return function(){return r(B.apply(null,arguments))}}(()=>{let e=E("colors"),t=E("spacing"),l=E("blur"),s=E("brightness"),a=E("borderColor"),r=E("borderRadius"),n=E("borderSpacing"),o=E("borderWidth"),i=E("contrast"),d=E("grayscale"),c=E("hueRotate"),u=E("invert"),m=E("gap"),p=E("gradientColorStops"),g=E("gradientColorStopPositions"),h=E("inset"),b=E("margin"),x=E("opacity"),f=E("padding"),y=E("saturate"),v=E("scale"),j=E("sepia"),w=E("skew"),N=E("space"),S=E("translate"),k=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",W,t],A=()=>[W,t],B=()=>["",R,U],I=()=>["auto",F,W],P=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",W],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[F,W];return{cacheSize:500,separator:":",theme:{colors:[ee],spacing:[R,U],blur:["none","",G,W],brightness:$(),borderColor:[e],borderRadius:["none","","full",G,W],borderSpacing:A(),borderWidth:B(),contrast:$(),grayscale:z(),hueRotate:$(),invert:z(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[_,U],inset:T(),margin:T(),opacity:$(),padding:A(),saturate:$(),scale:$(),sepia:z(),skew:$(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",W]}],container:["container"],columns:[{columns:[G]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...P(),W]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",H,W]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",W]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",H,W]}],"grid-cols":[{"grid-cols":[ee]}],"col-start-end":[{col:["auto",{span:["full",H,W]},W]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[ee]}],"row-start-end":[{row:["auto",{span:[H,W]},W]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",W]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",W]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[f]}],px:[{px:[f]}],py:[{py:[f]}],ps:[{ps:[f]}],pe:[{pe:[f]}],pt:[{pt:[f]}],pr:[{pr:[f]}],pb:[{pb:[f]}],pl:[{pl:[f]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",W,t]}],"min-w":[{"min-w":[W,t,"min","max","fit"]}],"max-w":[{"max-w":[W,t,"none","full","min","max","fit","prose",{screen:[G]},G]}],h:[{h:[W,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[W,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[W,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[W,t,"auto","min","max","fit"]}],"font-size":[{text:["base",G,U]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",q]}],"font-family":[{font:[ee]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",W]}],"line-clamp":[{"line-clamp":["none",F,q]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",R,W]}],"list-image":[{"list-image":["none",W]}],"list-style-type":[{list:["none","disc","decimal",W]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",R,U]}],"underline-offset":[{"underline-offset":["auto",R,W]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",W]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",W]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...P(),J]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Y]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},K]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:M()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[R,W]}],"outline-w":[{outline:[R,U]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[R,U]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",G,X]}],"shadow-color":[{shadow:[ee]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[l]}],brightness:[{brightness:[s]}],contrast:[{contrast:[i]}],"drop-shadow":[{"drop-shadow":["","none",G,W]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[u]}],saturate:[{saturate:[y]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[l]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[i]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[n]}],"border-spacing-x":[{"border-spacing-x":[n]}],"border-spacing-y":[{"border-spacing-y":[n]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",W]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",W]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",W]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[v]}],"scale-x":[{"scale-x":[v]}],"scale-y":[{"scale-y":[v]}],rotate:[{rotate:[H,W]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[w]}],"skew-y":[{"skew-y":[w]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",W]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",W]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",W]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[R,U,q]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function eo(...e){return en(y(e))}let ei=(t="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",l={variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}},e=>{var s;if((null==l?void 0:l.variants)==null)return y(t,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:a,defaultVariants:r}=l,n=Object.keys(a).map(t=>{let l=null==e?void 0:e[t],s=null==r?void 0:r[t];if(null===l)return null;let n=v(l)||v(s);return a[t][n]}),o=e&&Object.entries(e).reduce((e,t)=>{let[l,s]=t;return void 0===s||(e[l]=s),e},{});return y(t,n,null==l||null==(s=l.compoundVariants)?void 0:s.reduce((e,t)=>{let{class:l,className:s,...a}=t;return Object.entries(a).every(e=>{let[t,l]=e;return Array.isArray(l)?l.includes({...r,...o}[t]):({...r,...o})[t]===l})?[...e,l,s]:e},[]),null==e?void 0:e.class,null==e?void 0:e.className)});function ed({className:e,variant:t,size:l,asChild:a=!1,...r}){let n=a?h:"button";return(0,s.jsx)(n,{"data-slot":"button",className:eo(ei({variant:t,size:l,className:e})),...r})}function ec({currentPage:e,setCurrentPage:t}){let l=[{id:"dashboard",label:"Dashboard",icon:n},{id:"timetable",label:"Timetables",icon:p},{id:"call-student",label:"Call Student",icon:m},{id:"students",label:"Students",icon:o},{id:"announcements",label:"Announcements",icon:i},{id:"devices",label:"Devices",icon:d.Wifi},{id:"logs",label:"Logs & Reports",icon:c},{id:"settings",label:"Settings",icon:u}];return(0,s.jsxs)("aside",{className:"hidden lg:block w-64 bg-sidebar border-r border-sidebar-border p-6 overflow-y-auto",children:[(0,s.jsxs)("div",{className:"mb-8 text-center",children:[(0,s.jsx)("div",{className:"mb-4 flex justify-center",children:(0,s.jsx)("div",{className:"w-24 h-24 bg-white rounded-full p-2 shadow-lg",children:(0,s.jsx)("img",{src:"/sar-logo.png",alt:"SAR Educational Complex",className:"w-full h-full object-contain",onError:e=>{e.currentTarget.style.display="none"}})})}),(0,s.jsx)("h1",{className:"text-xl font-bold text-sidebar-foreground",children:"SAR Educational Complex"}),(0,s.jsx)("p",{className:"text-sm text-sidebar-foreground/80 font-medium mt-1",children:"Bell System"}),(0,s.jsx)("p",{className:"text-xs text-sidebar-foreground/60 mt-1 italic",children:"Nurturing Minds And Hearts"})]}),(0,s.jsx)("nav",{className:"space-y-2",children:l.map(l=>{let a=l.icon,r=e===l.id;return(0,s.jsxs)(ed,{variant:r?"default":"ghost",className:eo("w-full justify-start gap-3",r&&"bg-sidebar-primary text-sidebar-primary-foreground"),onClick:()=>t(l.id),children:[(0,s.jsx)(a,{className:"w-4 h-4"}),l.label]},l.id)})})]})}let eu=(0,r.default)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),em=(0,r.default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ep={dashboard:"Dashboard",timetable:"Timetables","call-student":"Call Student",students:"Students",announcements:"Announcements",devices:"Devices",logs:"Logs & Reports",settings:"Settings"};function eg({onMenuToggle:e,isMenuOpen:t,currentPage:l}){return(0,s.jsx)("header",{className:"fixed top-0 left-0 right-0 z-40 bg-background border-b border-border lg:hidden",children:(0,s.jsx)("div",{className:"flex items-center justify-between p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(ed,{variant:"ghost",size:"sm",onClick:e,className:"p-2","aria-label":t?"Close menu":"Open menu",children:t?(0,s.jsx)(em,{className:"w-6 h-6"}):(0,s.jsx)(eu,{className:"w-6 h-6"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-lg font-bold text-foreground",children:"SchoolBell"}),(0,s.jsx)("p",{className:"text-xs text-foreground/60",children:ep[l]||"Dashboard"})]})]})})})}function eh({currentPage:e,setCurrentPage:t,isOpen:l,onClose:a}){let r=[{id:"dashboard",label:"Dashboard",icon:n,description:"Overview & Stats"},{id:"timetable",label:"Timetables",icon:p,description:"Bell Schedules"},{id:"call-student",label:"Call Student",icon:m,description:"Student Announcements"},{id:"students",label:"Students",icon:o,description:"Student Database"},{id:"announcements",label:"Announcements",icon:i,description:"Public Announcements"},{id:"devices",label:"Devices",icon:d.Wifi,description:"Connected Devices"},{id:"logs",label:"Logs & Reports",icon:c,description:"System Logs"},{id:"settings",label:"Settings",icon:u,description:"System Configuration"}];return l?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"fixed inset-0 z-50 bg-background lg:hidden",children:(0,s.jsxs)("div",{className:"pt-20 pb-6 px-4 h-full overflow-y-auto",children:[(0,s.jsxs)("div",{className:"mb-8 text-center",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-1",children:"SchoolBell"}),(0,s.jsx)("p",{className:"text-sm text-foreground/60",children:"Automation System"})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-3 max-w-2xl mx-auto",children:r.map(l=>{let r=l.icon,n=e===l.id;return(0,s.jsxs)("button",{onClick:()=>{t(l.id),a()},className:eo("flex flex-col items-center justify-center p-6 rounded-lg border-2 transition-all","min-h-[120px] text-center",n?"bg-primary text-primary-foreground border-primary shadow-lg scale-105":"bg-card text-card-foreground border-border hover:border-primary/50 hover:shadow-md active:scale-95"),children:[(0,s.jsx)(r,{className:eo("w-8 h-8 mb-3",n?"text-primary-foreground":"text-primary")}),(0,s.jsx)("span",{className:"font-semibold text-sm mb-1",children:l.label}),(0,s.jsx)("span",{className:eo("text-xs",n?"text-primary-foreground/80":"text-muted-foreground"),children:l.description})]},l.id)})}),(0,s.jsx)("div",{className:"mt-8 text-center text-xs text-muted-foreground",children:(0,s.jsx)("p",{children:"Tap any option to navigate"})})]})})}):null}function eb({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card",className:eo("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function ex({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-header",className:eo("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function ef({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-title",className:eo("leading-none font-semibold",e),...t})}function ey({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-description",className:eo("text-muted-foreground text-sm",e),...t})}function ev({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-content",className:eo("px-6",e),...t})}let ej=(0,r.default)("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);var ew=e.i(9399),eN=e.i(44241),eS=e.i(45145),ek=e.i(37188),eC=e.i(10480),eT=e.i(81280);class eA{static BELL_TYPES={bell:"Traditional school bell - classic ringing sound","electronic-bell":"Modern electronic bell - sharp beeps","double-ring":"Double ring bell - two quick rings","triple-ring":"Triple ring bell - three quick rings","long-ring":"Long continuous ring - extended bell sound","dismissal-bell":"Dismissal bell - cheerful ascending melody",chime:"Soft melodic chime - pleasant ascending notes","westminster-chimes":"Westminster chimes - Big Ben style","islamic-chime":"Islamic chime - gentle prayer reminder","prayer-bell":"Prayer bell - reverent sustained tone",announcement:"Announcement tone - attention-getting sound","emergency-alert":"Emergency alert - urgent siren sound","adhan-call":"Adhan call - Islamic prayer call tone"};static PREMIUM_VOICES={"openai-nova":"Professional female - clear and authoritative","openai-onyx":"Deep male - authoritative and commanding","openai-shimmer":"Bright female - friendly and welcoming","openai-echo":"Warm male - rounded and approachable","openai-fable":"British storytelling - engaging and articulate","openai-alloy":"Balanced neutral - versatile for all uses","elevenlabs-rachel":"Premium ElevenLabs - natural and expressive","azure-aria":"Microsoft Azure - helpful and conversational"};static async playBellSequence(e,t,l={}){let s=ew.useStore.getState().settings,{bellType:a="bell",voice:r=s.defaultVoice,language:n=s.defaultLanguage,repeatCount:o=s.defaultRepeatCount,delayBetweenToneAndVoice:i=1500,delayBetweenRepeats:d=3e3,useHighQualityVoice:c=!0,customAudioId:u}=l;console.log(`[BellSystem] Playing bell sequence: ${e}`),console.log(`[BellSystem] Bell type: ${a}, Voice: ${r}`),console.log(`[BellSystem] Message: "${t}"`),console.log(`[BellSystem] Custom Audio ID: ${u||"none"}`);let m=!0;for(let e=0;e<o;e++){console.log(`[BellSystem] Sequence ${e+1} of ${o}`);try{console.log(`[BellSystem] Playing ${a} tone...`),(0,eC.playBellSound)(a),await new Promise(e=>setTimeout(e,i)),console.log(`[BellSystem] Playing voice: "${t}"`);let l=!1;if(u&&(console.log(`[BellSystem] Using custom audio: ${u}`),(l=await (0,eT.playStoredAudio)(u))?console.log(`[BellSystem] ‚úÖ Custom audio played successfully`):console.warn(`[BellSystem] ‚ùå Custom audio failed, falling back to TTS`)),u&&l||(console.log(`[BellSystem] Using voice: ${r} (AI: ${this.isAIVoice(r)}, High Quality: ${c})`),c&&this.isAIVoice(r)?(console.log(`[BellSystem] Playing with HIGH QUALITY AI voice: ${r}`),l=await (0,ek.playCustomAnnouncement)(t,{voice:r,language:n,withTone:!1})):(console.log(`[BellSystem] Playing with STANDARD TTS voice: ${r}`),l=await (0,eS.playToneAndAnnouncement)(t,{tone:"bell",voice:r,language:n,repeatCount:1})),console.log(`[BellSystem] Voice playback result: ${l?"SUCCESS":"FAILED"}`)),!l){console.log("[BellSystem] Falling back to built-in bell tone");try{(0,eC.playBellSound)("bell"),l=!0}catch(t){console.error("[BellSystem] Built-in tone failed",t),m=!1,console.error(`[BellSystem] Voice failed for sequence ${e+1}`)}}e<o-1&&(console.log(`[BellSystem] Waiting ${d}ms before next sequence...`),await new Promise(e=>setTimeout(e,d)))}catch(t){m=!1,console.error(`[BellSystem] Error in sequence ${e+1}:`,t)}}return console.log(`[BellSystem] Bell sequence completed. Success: ${m}`),m}static async playClassBell(e,t){let l=`Attention all students, it is time for ${e}. Please proceed to your classrooms.`;return this.playBellSequence(e,l,{bellType:"bell",delayBetweenToneAndVoice:2e3,...t})}static async playBreakBell(e,t){let l=`Attention all students, it is time for ${e}. You may now leave your classrooms.`;return this.playBellSequence(e,l,{bellType:"chime",delayBetweenToneAndVoice:1e3,...t})}static async playLunchBell(e){return this.playBellSequence("Lunch Time","Attention all students, it is time for lunch. Please proceed to the dining hall.",{bellType:"chime",delayBetweenToneAndVoice:1200,...e})}static async playAssemblyBell(e,t){let l=`Attention all students and staff, it is time for ${e}. Please proceed to the assembly hall.`;return this.playBellSequence(e,l,{bellType:"announcement",delayBetweenToneAndVoice:800,...t})}static async playDismissalBell(e){return this.playBellSequence("School Dismissal","Attention all students, it is time for school dismissal. Please collect your belongings and proceed to the exit.",{bellType:"dismissal-bell",delayBetweenToneAndVoice:2e3,...e})}static async playEmergencyBell(e,t,l){let s=`Emergency alert. ${e}. ${t}. All students and staff must follow emergency procedures immediately.`;return this.playBellSequence("Emergency",s,{bellType:"emergency-alert",delayBetweenToneAndVoice:500,repeatCount:3,delayBetweenRepeats:2e3,voice:"openai-onyx",...l})}static async playPrayerBell(e,t){let l=`It is time for ${e} prayer. Please proceed to the prayer area.`;return this.playBellSequence(e,l,{bellType:"prayer-bell",delayBetweenToneAndVoice:1500,voice:"azan-islamic",language:"arabic",...t})}static async playCustomBell(e,t,l,s){return this.playBellSequence(e,t,{bellType:l,...s})}static async testAllBellTypes(){for(let[e,t]of(console.log("üîî Testing All Bell Types"),console.log("=".repeat(50)),Object.entries(this.BELL_TYPES)))console.log(`
üîä Testing: ${e}`),console.log(`   Description: ${t}`),await this.playBellSequence(`Test ${e}`,`This is a test of the ${e} with voice announcement.`,{bellType:e,repeatCount:1,useHighQualityVoice:!0,voice:"openai-nova"}),await new Promise(e=>setTimeout(e,4e3));console.log("\n‚úÖ All bell types tested!")}static async testAllVoices(){for(let[e,t]of(console.log("üé§ Testing All Premium Voices"),console.log("=".repeat(50)),Object.entries(this.PREMIUM_VOICES)))console.log(`
üó£Ô∏è Testing: ${e}`),console.log(`   Description: ${t}`),await this.playBellSequence("Voice Test","This is a test of the premium voice with bell system integration.",{bellType:"chime",voice:e,repeatCount:1,useHighQualityVoice:!0}),await new Promise(e=>setTimeout(e,4e3));console.log("\n‚úÖ All voices tested!")}static async demonstrateSchoolDay(){for(let e of(console.log("üè´ Complete School Day Bell Demonstration"),console.log("=".repeat(60)),[{time:"08:00",func:()=>this.playAssemblyBell("Morning Assembly")},{time:"08:30",func:()=>this.playClassBell("First Period - Mathematics")},{time:"09:30",func:()=>this.playBreakBell("Morning Break")},{time:"09:45",func:()=>this.playClassBell("Second Period - English")},{time:"10:45",func:()=>this.playClassBell("Third Period - Science")},{time:"11:45",func:()=>this.playLunchBell()},{time:"12:30",func:()=>this.playClassBell("Fourth Period - History")},{time:"13:30",func:()=>this.playClassBell("Fifth Period - Art")},{time:"14:30",func:()=>this.playDismissalBell()}]))console.log(`
üïê ${e.time} - Playing school bell...`),await e.func(),await new Promise(e=>setTimeout(e,6e3));console.log("\n‚úÖ Complete school day demonstration finished!")}static async demonstrateEmergencyDrills(){for(let e of(console.log("üö® Emergency Drill Demonstrations"),console.log("=".repeat(50)),[{name:"Fire Drill",instructions:"Please exit the building using the nearest emergency exit and proceed to the assembly point"},{name:"Earthquake Drill",instructions:"Drop, cover, and hold on. Stay under your desks until the shaking stops"},{name:"Lockdown Drill",instructions:"Please remain in your classrooms and follow lockdown procedures"},{name:"Severe Weather Alert",instructions:"Please move to the designated safe areas immediately"}]))console.log(`
üö® ${e.name}`),await this.playEmergencyBell(e.name,e.instructions,{repeatCount:2}),await new Promise(e=>setTimeout(e,8e3));console.log("\n‚úÖ Emergency drill demonstrations completed!")}static getSystemStatus(){return{bellTypes:Object.keys(this.BELL_TYPES).length,voices:Object.keys(this.PREMIUM_VOICES).length,features:["Tone + Voice Combination","High-Quality AI Voices","Multiple Bell Types","School Schedule Integration","Emergency Alert System","Prayer Time Support","Custom Messages","Repeat Functionality"]}}static isAIVoice(e){return e.startsWith("openai-")||e.startsWith("elevenlabs-")||e.startsWith("azure-")}static showAllOptions(){console.log("üîî COMPLETE BELL SYSTEM OPTIONS"),console.log("=".repeat(60)),console.log("\nüîä AVAILABLE BELL TYPES:"),Object.entries(this.BELL_TYPES).forEach(([e,t],l)=>{console.log(`${l+1}. ${e} - ${t}`)}),console.log("\nüé§ AVAILABLE PREMIUM VOICES:"),Object.entries(this.PREMIUM_VOICES).forEach(([e,t],l)=>{console.log(`${l+1}. ${e} - ${t}`)}),console.log("\nüìö SCHOOL BELL FUNCTIONS:"),console.log("‚Ä¢ playClassBell(className)"),console.log("‚Ä¢ playBreakBell(breakName)"),console.log("‚Ä¢ playLunchBell()"),console.log("‚Ä¢ playAssemblyBell(assemblyName)"),console.log("‚Ä¢ playDismissalBell()"),console.log("‚Ä¢ playEmergencyBell(emergency, instructions)"),console.log("‚Ä¢ playPrayerBell(prayerName)"),console.log("‚Ä¢ playCustomBell(name, message, bellType)"),console.log("\nüß™ TEST FUNCTIONS:"),console.log("‚Ä¢ testAllBellTypes()"),console.log("‚Ä¢ testAllVoices()"),console.log("‚Ä¢ demonstrateSchoolDay()"),console.log("‚Ä¢ demonstrateEmergencyDrills()");let e=this.getSystemStatus();console.log(`
üìä SYSTEM STATUS:`),console.log(`‚Ä¢ ${e.bellTypes} bell types available`),console.log(`‚Ä¢ ${e.voices} premium voices available`),console.log(`‚Ä¢ ${e.features.length} features supported`),console.log("=".repeat(60))}}window.CompleteBellSystem=eA,window.playClassBell=(e,t)=>eA.playClassBell(e,t),window.playBreakBell=(e,t)=>eA.playBreakBell(e,t),window.playLunchBell=e=>eA.playLunchBell(e),window.playAssemblyBell=(e,t)=>eA.playAssemblyBell(e,t),window.playDismissalBell=e=>eA.playDismissalBell(e),window.playEmergencyBell=(e,t,l)=>eA.playEmergencyBell(e,t,l),window.playPrayerBell=(e,t)=>eA.playPrayerBell(e,t),window.playCustomBell=(e,t,l,s)=>eA.playCustomBell(e,t,l,s),window.testAllBellTypes=()=>eA.testAllBellTypes(),window.testAllVoices=()=>eA.testAllVoices(),window.demonstrateSchoolDay=()=>eA.demonstrateSchoolDay(),window.demonstrateEmergencyDrills=()=>eA.demonstrateEmergencyDrills(),window.showAllBellOptions=()=>eA.showAllOptions(),window.getBellSystemStatus=()=>eA.getSystemStatus();let eB=(0,r.default)("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);function eI(){let[t,l]=(0,a.useState)(!1),[r,o]=(0,a.useState)(!1),[i,d]=(0,a.useState)(!1),c=eA.getSystemStatus(),m=async()=>{l(!0);try{let{playBellSound:t}=await e.A(73333);t("bell"),setTimeout(()=>l(!1),3e3)}catch(e){console.error("Bell test failed:",e),l(!1)}},p=async()=>{o(!0);try{let{playCustomAnnouncement:t}=await e.A(33968);await t("This is a test of the high-quality AI voice system.",{voice:"openai-nova",withTone:!1})}catch(e){console.error("Voice test failed:",e)}finally{o(!1)}},g=async()=>{d(!0);try{await eA.playBellSequence("Complete System Test","This demonstrates the complete bell system with perfect tone and voice synchronization.",{bellType:"bell",voice:"openai-nova",useHighQualityVoice:!0,repeatCount:1})}catch(e){console.error("Complete bell test failed:",e)}finally{d(!1)}};return(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8",children:[(0,s.jsxs)(eb,{className:"shadow-xl hover:shadow-2xl transition-all duration-300 border-border/50 bg-gradient-to-br from-card via-card to-card/80 backdrop-blur-sm",children:[(0,s.jsx)(ex,{className:"border-b border-border/50 bg-gradient-to-r from-[#DC2626]/5 to-transparent",children:(0,s.jsxs)(ef,{className:"flex items-center gap-3 text-lg md:text-xl",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-gradient-to-br from-[#DC2626] to-[#B91C1C] shadow-lg",children:(0,s.jsx)(u,{className:"w-5 h-5 text-white"})}),(0,s.jsx)("span",{className:"bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-transparent",children:"Bell System Status"})]})}),(0,s.jsxs)(ev,{className:"pt-6",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-foreground/60",children:"Bell Tones Available"}),(0,s.jsx)("span",{className:"font-semibold text-green-600",children:c.bellTypes})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-foreground/60",children:"Premium Voices"}),(0,s.jsx)("span",{className:"font-semibold text-green-600",children:c.voices})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-foreground/60",children:"System Status"}),(0,s.jsx)("span",{className:"font-semibold text-green-600",children:"Ready"})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-foreground/60",children:"Integration"}),(0,s.jsx)("span",{className:"font-semibold text-green-600",children:"Active"})]})]}),(0,s.jsxs)("div",{className:"mt-4 pt-4 border-t",children:[(0,s.jsx)("h4",{className:"font-semibold mb-2",children:"Features Active:"}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-1 text-sm",children:c.features.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,s.jsx)("span",{className:"text-foreground/70",children:e})]},t))})]})]})]}),(0,s.jsxs)(eb,{className:"shadow-xl hover:shadow-2xl transition-all duration-300 border-border/50 bg-gradient-to-br from-card via-card to-card/80 backdrop-blur-sm",children:[(0,s.jsx)(ex,{className:"border-b border-border/50 bg-gradient-to-r from-[#FCD34D]/5 to-transparent",children:(0,s.jsxs)(ef,{className:"flex items-center gap-3 text-lg md:text-xl",children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-gradient-to-br from-[#FCD34D] to-[#F59E0B] shadow-lg",children:(0,s.jsx)(ej,{className:"w-5 h-5 text-gray-900"})}),(0,s.jsx)("span",{className:"bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-transparent",children:"Test Bell System"})]})}),(0,s.jsxs)(ev,{className:"pt-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)(ed,{onClick:m,disabled:t,variant:"outline",className:"w-full justify-start gap-3 h-12 shadow-md hover:shadow-lg transition-all duration-300 hover:scale-[1.02] border-border/50",children:[(0,s.jsx)("div",{className:"p-1.5 rounded-md bg-blue-500/10",children:(0,s.jsx)(n,{className:"w-4 h-4 text-blue-600"})}),(0,s.jsx)("span",{className:"font-medium",children:t?"Playing Bell Tone...":"Test Bell Tone Only"})]}),(0,s.jsxs)(ed,{onClick:p,disabled:r,variant:"outline",className:"w-full justify-start gap-3 h-12 shadow-md hover:shadow-lg transition-all duration-300 hover:scale-[1.02] border-border/50",children:[(0,s.jsx)("div",{className:"p-1.5 rounded-md bg-purple-500/10",children:(0,s.jsx)(eB,{className:"w-4 h-4 text-purple-600"})}),(0,s.jsx)("span",{className:"font-medium",children:r?"Playing Voice...":"Test AI Voice Only"})]}),(0,s.jsxs)(ed,{onClick:g,disabled:i,className:"w-full justify-start gap-3 h-12 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:[(0,s.jsx)("div",{className:"p-1.5 rounded-md bg-white/20",children:(0,s.jsx)(ej,{className:"w-4 h-4"})}),(0,s.jsx)("span",{className:"font-medium",children:i?"Playing Complete Bell...":"Test Complete Bell System"})]})]}),(0,s.jsx)("div",{className:"mt-4 pt-4 border-t",children:(0,s.jsxs)("div",{className:"text-sm text-foreground/60",children:[(0,s.jsx)("p",{className:"mb-2",children:(0,s.jsx)("strong",{children:"Complete Bell System:"})}),(0,s.jsx)("p",{children:"üîî Plays bell tone first"}),(0,s.jsx)("p",{children:"üó£Ô∏è Follows with AI voice announcement"}),(0,s.jsx)("p",{children:"üéØ Perfect synchronization"})]})})]})]})]})}let eE=async()=>{if("serviceWorker"in navigator)try{let e=await navigator.serviceWorker.register("/sw.js");if(console.log("Service Worker registered with scope:",e.scope),"periodicSync"in e)try{let t=await navigator.permissions.query({name:"periodic-background-sync"});"granted"===t.state&&(await e.periodicSync.register("bell-schedule",{minInterval:6e4}),console.log("Periodic sync registered"))}catch(e){console.warn("Periodic sync registration failed:",e)}}catch(e){console.error("Service Worker registration failed:",e)}},eP=async e=>new Promise((t,l)=>{let s=indexedDB.open("SchoolBellSyncDB",1);s.onerror=()=>l(s.error),s.onupgradeneeded=e=>{let t=e.target.result;t.objectStoreNames.contains("timetables")||t.createObjectStore("timetables",{keyPath:"id"})},s.onsuccess=()=>{let a=s.result.transaction("timetables","readwrite"),r=a.objectStore("timetables");r.clear(),e.forEach(e=>{r.put(e)}),a.oncomplete=()=>t(),a.onerror=()=>l(a.error)}}),eM=(0,r.default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),eD=(0,r.default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),eO=new class{deferredPrompt=null;isInstalled=!1;constructor(){this.init()}init(){window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),this.deferredPrompt=e,console.log("[Install] Install prompt available")}),window.matchMedia("(display-mode: standalone)").matches&&(this.isInstalled=!0,console.log("[Install] App is already installed")),window.addEventListener("appinstalled",()=>{this.isInstalled=!0,this.deferredPrompt=null,console.log("[Install] App was installed")})}capturePrompt(e){this.deferredPrompt=e}async showInstallPrompt(){if(!this.deferredPrompt)return console.warn("[Install] Install prompt not available"),"unavailable";try{await this.deferredPrompt.prompt();let{outcome:e}=await this.deferredPrompt.userChoice;return console.log(`[Install] User ${e} the install prompt`),this.deferredPrompt=null,e}catch(e){return console.error("[Install] Error showing install prompt:",e),"unavailable"}}isAppInstalled(){return!!window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone||this.isInstalled}canInstall(){return null!==this.deferredPrompt&&!this.isAppInstalled()}getPlatform(){let e=window.navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(e)?"ios":/android/.test(e)?"android":/windows|mac|linux/.test(e)?"desktop":"unknown"}getInstallInstructions(){switch(this.getPlatform()){case"ios":return'Tap the Share button and select "Add to Home Screen"';case"android":return'Tap the menu and select "Install app" or "Add to Home screen"';case"desktop":return"Click the install icon in the address bar or use the install button";default:return"Use your browser's install option to add this app to your device"}}};var ez=e.i(98030);function eL({variant:e="default",size:t="default",onInstallSuccess:l,onInstallDismiss:r}){let[n,o]=(0,a.useState)(!1),[i,d]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1);(0,a.useEffect)(()=>{d(eO.isAppInstalled());let e=()=>{o(eO.canInstall())};e();let t=()=>{e()};window.addEventListener("beforeinstallprompt",t);let s=()=>{d(!0),o(!1),ez.toast.success("App installed successfully!",{description:"You can now use the app offline"}),l?.()};return window.addEventListener("appinstalled",s),()=>{window.removeEventListener("beforeinstallprompt",t),window.removeEventListener("appinstalled",s)}},[l]);let m=async()=>{u(!0);try{let e=await eO.showInstallPrompt();if("accepted"===e)ez.toast.success("Installing app...",{description:"The app will be added to your home screen"}),l?.();else if("dismissed"===e)ez.toast.info("Installation cancelled",{description:"You can install the app later from the menu"}),r?.();else{let e=eO.getInstallInstructions();ez.toast.info("Install this app",{description:e,duration:5e3})}}catch(e){console.error("Install error:",e),ez.toast.error("Installation failed",{description:"Please try again or use your browser's install option"})}finally{u(!1)}};return i?(0,s.jsxs)(ed,{variant:"outline",size:t,disabled:!0,children:[(0,s.jsx)(eD,{className:"mr-2 h-4 w-4"}),"Installed"]}):n?(0,s.jsxs)(ed,{variant:e,size:t,onClick:m,disabled:c,children:[(0,s.jsx)(eM,{className:"mr-2 h-4 w-4"}),c?"Installing...":"Install App"]}):null}let e$=e=>{let t=e.toLowerCase();return t.includes("assembly")||t.includes("meeting")?"assembly":t.includes("break")||t.includes("recess")?"break":t.includes("lunch")||t.includes("meal")?"lunch":t.includes("dismissal")||t.includes("end")||t.includes("home")?"dismissal":t.includes("emergency")||t.includes("drill")||t.includes("fire")?"emergency":(t.includes("class")||t.includes("period")||t.includes("lesson"),"class")};function eV(){let{timetables:e,students:t,devices:l,settings:r}=(0,ew.useStore)(),i=(0,a.useRef)(""),c=(0,a.useRef)(""),[u,m]=(0,a.useState)({available:!0,message:"TTS is ready"});(0,a.useEffect)(()=>{m((0,eN.getTTSStatus)()),r.backgroundEnabled&&eE()},[r.backgroundEnabled]),(0,a.useEffect)(()=>{r.backgroundEnabled&&eP(e)},[e,r.backgroundEnabled]),(0,a.useEffect)(()=>{if(!r.azanEnabled||!r.prayerTimes)return;let e=async()=>{let e=new Date,t=e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0");if(t!==i.current)for(let[e,l]of(i.current=t,console.log("[v0] Checking prayer times. Current time:",t),Object.entries(r.prayerTimes||{})))t===l&&(console.log("[v0] Prayer time matched! Playing Azan for:",e),await (0,eN.playAzanCall)(e))};e();let t=setInterval(e,6e4);return()=>clearInterval(t)},[r.azanEnabled,r.prayerTimes]),(0,a.useEffect)(()=>{if(0===e.length)return;let t=async()=>{let t=new Date,l=t.getHours().toString().padStart(2,"0")+":"+t.getMinutes().toString().padStart(2,"0"),s=t.toLocaleDateString("en-US",{weekday:"long"});if(l!==c.current){for(let t of(c.current=l,console.log("[v0] Checking timetables. Current time:",l,"Day:",s),e))if(l===t.bellTime&&("Daily"===t.day||t.day===s)){let e;if(console.log("[v0] Timetable matched! Triggering:",t.name,"Type:",t.bellType),t.customMessage)e=t.customMessage;else switch(e$(t.name)){case"class":case"lesson":e=`Attention all students, it is time for ${t.name}. Please proceed to your classrooms.`;break;case"break":case"recess":e=`Attention all students, it is time for ${t.name}. You may now leave your classrooms.`;break;case"assembly":case"meeting":e=`Attention all students and staff, it is time for ${t.name}. Please proceed to the assembly hall.`;break;case"lunch":case"meal":e=`Attention all students, it is time for ${t.name}. Please proceed to the dining hall.`;break;case"dismissal":case"end":e=`Attention all students, it is time for ${t.name}. Please collect your belongings and proceed to the exit.`;break;case"emergency":case"drill":e=`Emergency alert. ${t.name}. All students and staff must follow emergency procedures immediately.`;break;default:e=`Attention all students, it is time for ${t.name}.`}await eA.playBellSequence(t.name,e,{bellType:t.bellType,voice:t.voice||r.defaultVoice,language:r.defaultLanguage,repeatCount:r.defaultRepeatCount,useHighQualityVoice:!0,customAudioId:t.customAudioId})}}};t();let l=setInterval(t,6e4);return()=>clearInterval(l)},[e,r.defaultVoice,r.defaultLanguage]);let p=(()=>{if(!r.azanEnabled||!r.prayerTimes)return{name:"No Prayer Times Set",timeUntil:"Configure in Settings"};let e=new Date,t=60*e.getHours()+e.getMinutes(),l=Object.entries(r.prayerTimes).map(([e,t])=>{let[l,s]=t.split(":").map(Number);return{name:e.charAt(0).toUpperCase()+e.slice(1),time:t,minutes:60*l+s}}).sort((e,t)=>e.minutes-t.minutes),s=l.find(e=>e.minutes>t);if(!s){let e=1440-t+(s=l[0]).minutes,a=Math.floor(e/60);return{name:`${s.name} (Tomorrow)`,timeUntil:`In ${a}h ${e%60}m`}}let a=s.minutes-t,n=Math.floor(a/60);return{name:s.name,timeUntil:`In ${n}h ${a%60}m`}})(),g=(()=>{if(0===e.length)return{name:"No Timetables Set",timeUntil:"Create in Timetables"};let t=new Date,l=60*t.getHours()+t.getMinutes(),s=t.toLocaleDateString("en-US",{weekday:"long"}),a=e.filter(e=>"Daily"===e.day||e.day===s).map(e=>{let[t,l]=e.bellTime.split(":").map(Number);return{...e,minutes:60*t+l}}).sort((e,t)=>e.minutes-t.minutes).find(e=>e.minutes>l);if(a){let e=a.minutes-l,t=Math.floor(e/60);return{name:a.name,timeUntil:`In ${t}h ${e%60}m`}}let r=e.filter(e=>"Daily"===e.day).map(e=>{let[t,l]=e.bellTime.split(":").map(Number);return{...e,minutes:60*t+l}}).sort((e,t)=>e.minutes-t.minutes);if(r.length>0){let e=r[0],t=1440-l+e.minutes,s=Math.floor(t/60);return{name:`${e.name} (Tomorrow)`,timeUntil:`In ${s}h ${t%60}m`}}return{name:"No Upcoming Events",timeUntil:"Check timetables"}})(),h=[{title:"Active Timetables",value:e.length,icon:n,color:"text-blue-600"},{title:"Students",value:t.length,icon:o,color:"text-green-600"},{title:"Announcements Today",value:"3",icon:ej,color:"text-purple-600"},{title:"Connected Devices",value:l.filter(e=>"online"===e.status).length,icon:d.Wifi,color:"text-orange-600"}];return(0,s.jsxs)("div",{className:"p-4 md:p-6 lg:p-8 min-h-screen bg-gradient-to-br from-background via-background to-muted/20",children:[(0,s.jsxs)("div",{className:"mb-8 md:mb-10 flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground bg-gradient-to-r from-[#DC2626] to-[#B91C1C] bg-clip-text text-transparent",children:"Dashboard"}),(0,s.jsxs)("p",{className:"text-sm md:text-base text-muted-foreground flex items-center gap-2",children:[(0,s.jsx)("span",{className:"inline-block w-2 h-2 rounded-full bg-green-500 animate-pulse"}),"System Overview & Quick Stats"]})]}),(0,s.jsx)(eL,{variant:"default",size:"default"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8 md:mb-10",children:h.map((e,t)=>{let l=e.icon;return(0,s.jsxs)(eb,{className:"relative overflow-hidden transition-all duration-300 hover:shadow-2xl hover:shadow-[#DC2626]/20 hover:-translate-y-1 border-border/50 bg-gradient-to-br from-card to-card/50 backdrop-blur-sm",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-[#DC2626]/10 to-transparent rounded-full blur-2xl -z-0"}),(0,s.jsxs)(ex,{className:"flex flex-row items-center justify-between space-y-0 pb-4 relative z-10",children:[(0,s.jsx)(ef,{className:"text-sm font-medium text-foreground/80",children:e.title}),(0,s.jsx)("div",{className:`p-2 rounded-lg bg-gradient-to-br ${e.color} shadow-lg`,children:(0,s.jsx)(l,{className:"w-4 h-4 text-white"})})]}),(0,s.jsx)(ev,{className:"relative z-10",children:(0,s.jsx)("div",{className:"text-3xl font-bold bg-gradient-to-br from-foreground to-foreground/70 bg-clip-text text-transparent",children:e.value})})]},t)})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8 mb-6 md:mb-8",children:[(0,s.jsxs)(eb,{className:"shadow-xl hover:shadow-2xl transition-all duration-300 border-border/50 bg-gradient-to-br from-card via-card to-card/80 backdrop-blur-sm",children:[(0,s.jsx)(ex,{className:"border-b border-border/50 bg-gradient-to-r from-[#DC2626]/5 to-transparent",children:(0,s.jsxs)(ef,{className:"text-lg md:text-xl font-semibold flex items-center gap-2",children:[(0,s.jsx)("span",{className:"inline-block w-1 h-6 bg-gradient-to-b from-[#DC2626] to-[#B91C1C] rounded-full"}),"Next Timetable Event"]})}),(0,s.jsxs)(ev,{className:"pt-6",children:[(0,s.jsx)("p",{className:"text-xl md:text-2xl font-bold text-green-600",children:g.name}),(0,s.jsx)("p",{className:"text-sm md:text-base text-foreground/60 mt-2",children:g.timeUntil})]})]}),(0,s.jsxs)(eb,{children:[(0,s.jsx)(ex,{children:(0,s.jsx)(ef,{className:"text-base md:text-lg",children:"Next Prayer Time"})}),(0,s.jsxs)(ev,{children:[(0,s.jsx)("p",{className:"text-xl md:text-2xl font-bold text-blue-600",children:p.name}),(0,s.jsx)("p",{className:"text-sm md:text-base text-foreground/60 mt-2",children:p.timeUntil})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6 mb-4 md:mb-6",children:[(0,s.jsxs)(eb,{children:[(0,s.jsx)(ex,{children:(0,s.jsx)(ef,{className:"text-base md:text-lg",children:"Today's Prayer Times"})}),(0,s.jsx)(ev,{children:r.azanEnabled&&r.prayerTimes?(0,s.jsx)("div",{className:"space-y-2",children:Object.entries(r.prayerTimes).map(([e,t])=>(0,s.jsxs)("div",{className:"flex justify-between text-sm md:text-base",children:[(0,s.jsx)("span",{className:"text-foreground/60 capitalize",children:e}),(0,s.jsx)("span",{className:"font-semibold",children:t})]},e))}):(0,s.jsx)("p",{className:"text-sm md:text-base text-foreground/60",children:"Prayer times not configured"})})]}),(0,s.jsxs)(eb,{children:[(0,s.jsx)(ex,{children:(0,s.jsx)(ef,{className:"text-base md:text-lg",children:"System Status"})}),(0,s.jsx)(ev,{children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm md:text-base",children:[(0,s.jsx)("span",{className:"text-foreground/60",children:"Database"}),(0,s.jsx)("span",{className:"text-green-600 font-semibold",children:"Online"})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm md:text-base",children:[(0,s.jsx)("span",{className:"text-foreground/60",children:"TTS Engine"}),(0,s.jsx)("span",{className:u.available?"text-green-600 font-semibold":"text-red-600 font-semibold",children:u.available?"Ready":"Unavailable"})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm md:text-base",children:[(0,s.jsx)("span",{className:"text-foreground/60",children:"Prayer Scheduler"}),(0,s.jsx)("span",{className:r.azanEnabled?"text-green-600 font-semibold":"text-gray-500 font-semibold",children:r.azanEnabled?"Active":"Disabled"})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm md:text-base",children:[(0,s.jsx)("span",{className:"text-foreground/60",children:"Timetable Scheduler"}),(0,s.jsx)("span",{className:e.length>0?"text-green-600 font-semibold":"text-gray-500 font-semibold",children:e.length>0?"Active":"No Timetables"})]})]})})]})]}),(0,s.jsx)("div",{className:"mt-8 transform transition-all duration-300 hover:scale-[1.01]",children:(0,s.jsx)(eI,{})})]})}function eR({className:e,type:t,...l}){return(0,s.jsx)("input",{type:t,"data-slot":"input",className:eo("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...l})}let eU=(0,r.default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),eF=(0,r.default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),eq=(0,r.default)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),eH=(0,r.default)("FileAudio",[["path",{d:"M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"rslqgf"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0",key:"9f7x3i"}]]);function e_(){let{timetables:t,addTimetable:l,removeTimetable:r,updateTimetable:n}=(0,ew.useStore)(),[o,i]=(0,a.useState)(!1),[d,c]=(0,a.useState)(null),[u,m]=(0,a.useState)([]),[p,g]=(0,a.useState)({name:"",day:"Monday",bellTime:"",bellType:"none",voice:"openai-onyx",customMessage:"",customAudioId:""});(0,a.useEffect)(()=>{(async()=>{try{let e=await eT.audioStorage.listAudios();m(e)}catch(e){console.error("Failed to load audio files:",e)}})()},[]);let h=e=>({none:"üîá None (Voice Only - No Bell Sound)","ghana-hand-bell":"üá¨üá≠ Ghana Hand Bell (Manual Ring - AUTHENTIC)","ghana-assembly-bell":"üá¨üá≠ Ghana Assembly Bell (Long Ring - AUTHENTIC)","ghana-break-bell":"üá¨üá≠ Ghana Break Bell (Quick Ring - AUTHENTIC)",bell:"Traditional Bell","classic-hand-bell":"üîî Classic Hand Bell (Natural)","brass-school-bell":"üîî Brass School Bell (Deep & Resonant)","vintage-bell":"üîî Vintage Bell (1950s Style)","mechanical-bell":"üîî Mechanical Bell (Rapid Ring)","recess-bell":"üîî Recess Bell (Cheerful)","fire-alarm-bell":"üö® Fire Alarm Bell (Urgent)","electronic-bell":"Electronic Bell","westminster-chimes":"Westminster Chimes","double-ring":"Double Ring","triple-ring":"Triple Ring","long-ring":"Long Ring",chime:"Soft Chime",announcement:"Announcement Tone","emergency-alert":"Emergency Alert","dismissal-bell":"Dismissal Bell","adhan-call":"Adhan Call (Islamic)","islamic-chime":"Islamic Chime","prayer-bell":"Prayer Bell (Islamic)"})[e]||e,b=e=>({"emergency-alert":"openai-onyx",announcement:"openai-onyx","prayer-bell":"azan-islamic","adhan-call":"azan-islamic","islamic-chime":"azan-islamic","dismissal-bell":"openai-shimmer",chime:"openai-echo"})[e]||"openai-onyx";return(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsxs)("div",{className:"mb-8 flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Timetables"}),(0,s.jsx)("p",{className:"text-foreground/60",children:"Manage bell schedules and announcements"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(ed,{onClick:async()=>{await eA.playBellSequence("System Test","This is a test of the complete bell system. Bell tone first, followed by voice announcement.",{bellType:"bell",voice:"openai-onyx",useHighQualityVoice:!0,repeatCount:1})},variant:"outline",className:"gap-2",children:[(0,s.jsx)(ej,{className:"w-4 h-4"}),"Test Bell System"]}),(0,s.jsxs)(ed,{onClick:()=>i(!o),className:"bg-blue-600 hover:bg-blue-700 text-white gap-2",children:[(0,s.jsx)(eF,{className:"w-4 h-4"}),"Add New Bell"]})]})]}),o&&(0,s.jsx)(eb,{className:"mb-6",children:(0,s.jsx)(ev,{className:"pt-6",children:(0,s.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),console.log("=== TIMETABLE FORM SUBMISSION START ==="),console.log("Form data:",p),console.log("Editing ID:",d),!p.name||!p.bellTime){console.error("‚ùå Validation failed: Name or Bell Time missing"),console.error("Name:",p.name),console.error("Bell Time:",p.bellTime),alert("Please fill in both Name and Time fields");return}try{if(d)console.log("üìù Updating existing timetable:",d),n(d,p),console.log("‚úÖ Update completed"),c(null);else{let e={id:Date.now().toString(),...p};console.log("‚ûï Adding new timetable:",e),l(e),console.log("‚úÖ Add completed"),console.log("Current timetables count:",t.length+1)}g({name:"",day:"Monday",bellTime:"",bellType:"bell",voice:"openai-onyx",customMessage:"",customAudioId:""}),i(!1),console.log("=== TIMETABLE FORM SUBMISSION END ===")}catch(e){console.error("‚ùå Error saving timetable:",e),alert("Failed to save timetable. Please try again.")}},className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-foreground mb-1 block",children:"Bell Name"}),(0,s.jsx)(eR,{value:p.name,onChange:e=>g({...p,name:e.target.value}),placeholder:"e.g., Morning Assembly"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-foreground mb-1 block",children:"Day"}),(0,s.jsx)("select",{value:p.day,onChange:e=>g({...p,day:e.target.value}),className:"w-full p-2 border border-border rounded-lg bg-background",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","Daily"].map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-foreground mb-1 block",children:"Time"}),(0,s.jsx)(eR,{type:"time",value:p.bellTime,onChange:e=>g({...p,bellTime:e.target.value})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-foreground mb-1 block",children:"Bell Type"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("select",{value:p.bellType,onChange:e=>{let t=e.target.value;g({...p,bellType:t,voice:b(t)})},className:"flex-1 p-2 border border-border rounded-lg bg-background",children:["none","ghana-hand-bell","ghana-assembly-bell","ghana-break-bell","bell","classic-hand-bell","brass-school-bell","vintage-bell","mechanical-bell","recess-bell","electronic-bell","westminster-chimes","double-ring","triple-ring","long-ring","chime","announcement","emergency-alert","fire-alarm-bell","dismissal-bell","adhan-call","islamic-chime","prayer-bell"].map(e=>(0,s.jsx)("option",{value:e,children:h(e)},e))}),(0,s.jsxs)(ed,{type:"button",variant:"outline",size:"sm",onClick:async()=>{let{playBellSound:t}=await e.A(73333);t(p.bellType)},className:"gap-1 px-3",title:"Preview this bell sound",children:[(0,s.jsx)(ej,{className:"w-4 h-4"}),"Test"]})]}),(0,s.jsx)("p",{className:"text-xs text-foreground/60 mt-1",children:'Click "Test" to hear this bell sound'})]})]}),(0,s.jsx)("div",{className:"space-y-3",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"text-sm font-semibold text-foreground mb-1 block",children:["Voice Selection",(0,s.jsx)("span",{className:"text-xs text-foreground/60 ml-2",children:"(AI Voice for Announcement)"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("select",{value:p.voice,onChange:e=>g({...p,voice:e.target.value}),className:"flex-1 p-2 border border-border rounded-lg bg-background",children:Object.entries(eN.VOICE_OPTIONS).map(([e,t])=>({value:e,label:t.name,description:t.description})).map(e=>(0,s.jsxs)("option",{value:e.value,children:[e.label," - ",e.description]},e.value))}),(0,s.jsxs)(ed,{type:"button",variant:"outline",size:"sm",onClick:async()=>{let t=eN.VOICE_OPTIONS[p.voice]?.name||"this voice",l=eN.VOICE_OPTIONS[p.voice]?.description||"",s=`Hello! I am ${t}. `;p.voice.includes("onyx")||p.voice.includes("clyde")?s+="I have a deep, authoritative tone perfect for important announcements.":p.voice.includes("shimmer")||p.voice.includes("nova")||p.voice.includes("aria")?s+="I have a bright, clear voice ideal for friendly announcements.":p.voice.includes("echo")||p.voice.includes("drew")?s+="I have a warm, professional tone suitable for general announcements.":p.voice.includes("fable")?s+="I have a distinctive storytelling voice with a British accent.":p.voice.includes("azan")||p.voice.includes("islamic")?s+="I am designed for Islamic prayer calls with a reverent tone.":s+=`${l}. This is how I will sound for your announcements.`;let{playCustomAnnouncement:a}=await e.A(33968);await a(s,{voice:p.voice,withTone:!1})},className:"gap-1 px-3",title:"Preview this voice",children:[(0,s.jsx)(ej,{className:"w-4 h-4"}),"Test"]})]}),(0,s.jsxs)("p",{className:"text-xs text-foreground/60 mt-1",children:["Recommended: ",eN.VOICE_OPTIONS[b(p.bellType)]?.name,' ‚Ä¢ Click "Test" to hear this voice']})]})}),(0,s.jsx)("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-foreground mb-1",children:"üîî Preview Complete Bell"}),(0,s.jsx)("p",{className:"text-xs text-foreground/60",children:"Test how your bell will sound: Bell tone + Voice announcement"})]}),(0,s.jsxs)(ed,{type:"button",variant:"default",onClick:async()=>{let e=p.customMessage||`Attention all students, it is time for ${p.name||"the scheduled event"}.`;await eA.playBellSequence(p.name||"Preview",e,{bellType:p.bellType,voice:p.voice,useHighQualityVoice:!0,repeatCount:1})},className:"bg-blue-600 hover:bg-blue-700 text-white gap-2",children:[(0,s.jsx)(ej,{className:"w-4 h-4"}),"Preview Complete Bell"]})]})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"text-sm font-semibold text-foreground mb-1 block",children:["Custom Message (Optional)",(0,s.jsx)("span",{className:"text-xs text-foreground/60 ml-2",children:"(Leave empty for auto-generated message)"})]}),(0,s.jsx)(eR,{value:p.customMessage,onChange:e=>g({...p,customMessage:e.target.value}),placeholder:"e.g., Attention all students, please proceed to the main hall for assembly."}),(0,s.jsx)("p",{className:"text-xs text-foreground/60 mt-1",children:"If empty, message will be auto-generated based on bell name and type"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"text-sm font-semibold text-foreground mb-1 block flex items-center gap-2",children:[(0,s.jsx)(eH,{className:"w-4 h-4"}),"Custom Audio (Optional)",(0,s.jsx)("span",{className:"text-xs text-foreground/60 font-normal",children:"(Use your own recording instead of TTS)"})]}),(0,s.jsxs)("select",{value:p.customAudioId,onChange:e=>g({...p,customAudioId:e.target.value}),className:"w-full p-2 border border-border rounded-lg bg-background",children:[(0,s.jsx)("option",{value:"",children:"No custom audio (use text-to-speech)"}),u.map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.name," (",Math.floor(e.duration),"s)"]},e.id))]}),p.customAudioId&&(0,s.jsxs)(ed,{type:"button",variant:"outline",size:"sm",onClick:async()=>{let{playStoredAudio:t}=await e.A(88312);await t(p.customAudioId)},className:"mt-2 gap-2",children:[(0,s.jsx)(ej,{className:"w-4 h-4"}),"Preview Custom Audio"]}),(0,s.jsx)("p",{className:"text-xs text-foreground/60 mt-1",children:0===u.length?"No audio files uploaded yet. Upload audio files in Settings ‚Üí Audio Library":"Select a custom audio file to play instead of text-to-speech announcement"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(ed,{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white",children:d?"Update Bell":"Save Bell"}),(0,s.jsx)(ed,{type:"button",variant:"outline",onClick:()=>{c(null),g({name:"",day:"Monday",bellTime:"",bellType:"none",voice:"openai-onyx",customMessage:"",customAudioId:""}),i(!1)},children:"Cancel"})]})]})})}),(0,s.jsx)("div",{className:"space-y-3",children:0===t.length?(0,s.jsx)(eb,{children:(0,s.jsx)(ev,{className:"pt-6 text-center text-foreground/60",children:"No timetables yet. Create your first bell schedule."})}):t.map(e=>(0,s.jsx)(eb,{children:(0,s.jsxs)(ev,{className:"pt-6 flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-foreground",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-foreground/60",children:[e.day," at ",e.bellTime," ‚Ä¢ ",h(e.bellType)]}),(0,s.jsxs)("p",{className:"text-xs text-foreground/50",children:["Voice: ",eN.VOICE_OPTIONS[e.voice]?.name||eN.VOICE_OPTIONS["openai-onyx"].name,e.customMessage&&" ‚Ä¢ Custom Message"]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(ed,{variant:"ghost",size:"sm",onClick:async()=>{let t;if(e.customMessage)t=e.customMessage;else switch(e.name.toLowerCase().includes("assembly")?"assembly":e.name.toLowerCase().includes("break")?"break":e.name.toLowerCase().includes("lunch")?"lunch":e.name.toLowerCase().includes("dismissal")?"dismissal":e.name.toLowerCase().includes("emergency")?"emergency":"class"){case"class":t=`Attention all students, it is time for ${e.name}. Please proceed to your classrooms.`;break;case"break":t=`Attention all students, it is time for ${e.name}. You may now leave your classrooms.`;break;case"assembly":t=`Attention all students and staff, it is time for ${e.name}. Please proceed to the assembly hall.`;break;case"lunch":t=`Attention all students, it is time for ${e.name}. Please proceed to the dining hall.`;break;case"dismissal":t=`Attention all students, it is time for ${e.name}. Please collect your belongings and proceed to the exit.`;break;case"emergency":t=`Emergency alert. ${e.name}. All students and staff must follow emergency procedures immediately.`;break;default:t=`Attention all students, it is time for ${e.name}.`}console.log("üîî Playing timetable bell:"),console.log("  Name:",e.name),console.log("  Bell Type:",e.bellType),console.log("  Voice:",e.voice||"openai-onyx"),console.log("  Message:",t),await eA.playBellSequence(e.name,t,{bellType:e.bellType,voice:e.voice||"openai-onyx",useHighQualityVoice:!0,repeatCount:1,customAudioId:e.customAudioId})},className:"text-green-600 hover:text-green-700",title:"Test Complete Bell (Tone + Voice)",children:(0,s.jsx)(ej,{className:"w-4 h-4"})}),(0,s.jsx)(ed,{variant:"ghost",size:"sm",onClick:()=>{var l;let s;return l=e.id,void((s=t.find(e=>e.id===l))&&(g({name:s.name,day:s.day,bellTime:s.bellTime,bellType:s.bellType,voice:s.voice||"openai-onyx",customMessage:s.customMessage||"",customAudioId:s.customAudioId||""}),c(l),i(!0)))},className:"text-blue-600 hover:text-blue-700",children:(0,s.jsx)(eq,{className:"w-4 h-4"})}),(0,s.jsx)(ed,{variant:"ghost",size:"sm",onClick:()=>r(e.id),className:"text-red-600 hover:text-red-700",children:(0,s.jsx)(eU,{className:"w-4 h-4"})})]})]})},e.id))})]})}function eW(){let{students:e,addStudent:t,removeStudent:l}=(0,ew.useStore)(),[r,n]=(0,a.useState)(!1),[o,i]=(0,a.useState)({firstName:"",lastName:"",class:"",useCustomClass:!1}),[d,c]=(0,a.useState)(""),u=e.filter(e=>`${e.firstName} ${e.lastName}`.toLowerCase().includes(d.toLowerCase()));return(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsxs)("div",{className:"mb-8 flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Students"}),(0,s.jsx)("p",{className:"text-foreground/60",children:"Manage student database"})]}),(0,s.jsxs)(ed,{onClick:()=>n(!r),className:"bg-blue-600 hover:bg-blue-700 text-white gap-2",children:[(0,s.jsx)(eF,{className:"w-4 h-4"}),"Add Student"]})]}),(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)(eR,{placeholder:"Search by name...",value:d,onChange:e=>c(e.target.value)})}),r&&(0,s.jsx)(eb,{className:"mb-6",children:(0,s.jsx)(ev,{className:"pt-6",children:(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o.firstName&&o.lastName&&(t({id:Date.now().toString(),firstName:o.firstName,lastName:o.lastName,class:o.class||void 0}),i({firstName:"",lastName:"",class:"",useCustomClass:!1}),n(!1))},className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-foreground mb-1 block",children:"First Name"}),(0,s.jsx)(eR,{value:o.firstName,onChange:e=>i({...o,firstName:e.target.value}),placeholder:"First name",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-foreground mb-1 block",children:"Last Name"}),(0,s.jsx)(eR,{value:o.lastName,onChange:e=>i({...o,lastName:e.target.value}),placeholder:"Last name",required:!0})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"useCustom",checked:o.useCustomClass,onChange:e=>i({...o,useCustomClass:e.target.checked,class:""}),className:"w-4 h-4"}),(0,s.jsx)("label",{htmlFor:"useCustom",className:"text-sm font-semibold text-foreground",children:"Use custom class name"})]}),o.useCustomClass?(0,s.jsx)(eR,{value:o.class,onChange:e=>i({...o,class:e.target.value}),placeholder:"e.g., Form 2A, Grade 7, Senior 2"}):(0,s.jsxs)("select",{value:o.class,onChange:e=>i({...o,class:e.target.value}),className:"w-full p-2 border border-border rounded-lg bg-background",children:[(0,s.jsx)("option",{value:"",children:"Select class (optional)"}),["JHS 1 Blue","JHS 1 Green","JHS 1 Red","JHS 2 Blue","JHS 2 Green","JHS 2 Red","JHS 3 Blue","JHS 3 Green","JHS 3 Red"].map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(ed,{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white",children:"Add Student"}),(0,s.jsx)(ed,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"})]})]})})}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:0===u.length?(0,s.jsx)(eb,{className:"col-span-full",children:(0,s.jsx)(ev,{className:"pt-6 text-center text-foreground/60",children:"No students found."})}):u.map(e=>(0,s.jsx)(eb,{children:(0,s.jsx)(ev,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"font-semibold text-foreground",children:[e.firstName," ",e.lastName]}),e.class&&(0,s.jsx)("p",{className:"text-sm text-foreground/60",children:e.class})]}),(0,s.jsx)(ed,{variant:"ghost",size:"sm",onClick:()=>l(e.id),className:"text-red-600 hover:text-red-700",children:(0,s.jsx)(eU,{className:"w-4 h-4"})})]})})},e.id))})]})}function eG(){let{students:e,devices:t,settings:l,addCallRequest:r}=(0,ew.useStore)(),[n,o]=(0,a.useState)(""),[i,d]=(0,a.useState)(null),[c,u]=(0,a.useState)(""),[m,p]=(0,a.useState)("office"),[g,h]=(0,a.useState)(l.defaultVoice),[b,x]=(0,a.useState)(l.defaultLanguage),[f,y]=(0,a.useState)(!1),v=[{id:"office",text:"should report to the office"},{id:"parent",text:"your parent is waiting at the gate"},{id:"staff",text:"please come to the staff common room"}],j=e.filter(e=>`${e.firstName} ${e.lastName}`.toLowerCase().includes(n.toLowerCase())),w=async()=>{if(!i)return;let t=e.find(e=>e.id===i);if(!t)return;let l=c||`Student ${t.firstName} ${t.lastName}, ${v.find(e=>e.id===m)?.text||""}`,s=(0,eN.translateMessage)(l,b);r({id:Date.now().toString(),studentId:i,message:s,timestamp:new Date().toISOString(),status:"played",voice:g,language:b}),y(!0),await (0,eN.playTextToSpeech)(s,g,b),y(!1),d(null),u("")};return(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Call Student"}),(0,s.jsx)("p",{className:"text-foreground/60",children:"Use Text-to-Speech to call students in multiple languages"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:"lg:col-span-2",children:(0,s.jsxs)(eb,{children:[(0,s.jsx)(ex,{children:(0,s.jsx)(ef,{children:"Search & Call Student"})}),(0,s.jsxs)(ev,{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-foreground mb-2 block",children:"Search Student"}),(0,s.jsx)(eR,{placeholder:"Type student name...",value:n,onChange:e=>o(e.target.value),disabled:f})]}),n&&j.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"text-sm font-semibold text-foreground mb-2 block",children:["Results (",j.length,")"]}),(0,s.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:j.map(e=>(0,s.jsxs)("button",{onClick:()=>d(e.id),disabled:f,className:`w-full p-3 text-left rounded-lg border-2 transition ${i===e.id?"border-blue-500 bg-blue-50 dark:bg-blue-950":"border-border hover:border-blue-300"} ${f?"opacity-50 cursor-not-allowed":""}`,children:[(0,s.jsxs)("div",{className:"font-semibold text-foreground",children:[e.firstName," ",e.lastName]}),(0,s.jsx)("div",{className:"text-sm text-foreground/60",children:e.class||"No class assigned"})]},e.id))})]}),i&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-foreground mb-2 block",children:"Message Template"}),(0,s.jsx)("div",{className:"space-y-2",children:v.map(t=>(0,s.jsx)("button",{onClick:()=>p(t.id),disabled:f,className:`w-full p-3 text-left rounded-lg border-2 transition ${m===t.id?"border-green-500 bg-green-50 dark:bg-green-950":"border-border"} ${f?"opacity-50 cursor-not-allowed":""}`,children:(0,s.jsxs)("div",{className:"font-semibold text-foreground",children:["Student ",e.find(e=>e.id===i)?.firstName,", ",t.text]})},t.id))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-foreground mb-2 block",children:"Custom Message (Optional)"}),(0,s.jsx)("textarea",{placeholder:"Enter custom message or leave blank to use template...",value:c,onChange:e=>u(e.target.value),disabled:f,className:"w-full p-3 border border-border rounded-lg bg-background text-foreground disabled:opacity-50",rows:3})]}),(0,s.jsxs)(ed,{onClick:w,disabled:f,className:"w-full bg-blue-600 hover:bg-blue-700 text-white gap-2 disabled:opacity-50",children:[(0,s.jsx)(ej,{className:"w-4 h-4"}),f?"Playing...":"Call Now"]})]})]})]})}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(eb,{children:[(0,s.jsx)(ex,{children:(0,s.jsx)(ef,{className:"text-lg",children:"Speaker Zones"})}),(0,s.jsx)(ev,{className:"space-y-2",children:t.map(e=>(0,s.jsx)("div",{className:"p-3 rounded-lg bg-muted flex items-center justify-between",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-semibold text-foreground",children:e.name}),(0,s.jsx)("div",{className:`text-xs ${"online"===e.status?"text-green-600":"text-red-600"}`,children:"online"===e.status?"‚óè Online":"‚óè Offline"})]})},e.id))})]}),(0,s.jsxs)(eb,{children:[(0,s.jsx)(ex,{children:(0,s.jsx)(ef,{className:"text-lg",children:"Quick Info"})}),(0,s.jsxs)(ev,{className:"text-sm text-foreground/70 space-y-2",children:[(0,s.jsx)("p",{children:"‚úì Select a student"}),(0,s.jsx)("p",{children:"‚úì Select message template"}),(0,s.jsx)("p",{children:'‚úì Click "Call Now" to play'})]})]})]})]})]})}let eQ=(0,r.default)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),eY=(0,r.default)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);function eJ(){let{settings:e}=(0,ew.useStore)(),[t,l]=(0,a.useState)([{id:1,title:"Assembly Tomorrow",content:"All students attend assembly at 8 AM tomorrow",date:"2024-01-15",voice:e.defaultVoice,language:e.defaultLanguage,repeatCount:1}]),[r,n]=(0,a.useState)(!1),[o,i]=(0,a.useState)({title:"",content:"",voice:e.defaultVoice,language:e.defaultLanguage,repeatCount:e.defaultRepeatCount||1}),[d,c]=(0,a.useState)(null),[u,m]=(0,a.useState)(null),[p,g]=(0,a.useState)(null),h=async(e,t,l,s,a=1)=>{console.log("Playing announcement with repeat count:",a),c(e);for(let e=0;e<a;e++)console.log(`Playing repetition ${e+1} of ${a}`),await (0,eN.playTextToSpeech)(t,l,s),e<a-1&&await new Promise(e=>setTimeout(e,1500));c(null),m(e)};return(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsx)("div",{className:"mb-8 flex justify-between items-center",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Announcements"}),(0,s.jsx)("p",{className:"text-foreground/60",children:"Create and manage audio announcements in multiple voices & languages"})]})}),(0,s.jsxs)(ed,{onClick:()=>{n(!r),g(null),i({title:"",content:"",voice:e.defaultVoice,language:e.defaultLanguage,repeatCount:e.defaultRepeatCount||1})},className:"bg-blue-600 hover:bg-blue-700 text-white gap-2",children:[(0,s.jsx)(eF,{className:"w-4 h-4"}),"New Announcement"]}),r&&(0,s.jsx)(eb,{className:"mb-6",children:(0,s.jsx)(ev,{className:"pt-6",children:(0,s.jsxs)("form",{onSubmit:s=>{s.preventDefault();let a={id:Date.now(),title:o.title,content:o.content,date:new Date().toISOString().split("T")[0],voice:o.voice,language:o.language,repeatCount:o.repeatCount};p?(l(t.map(e=>e.id===p?{...a,id:p,date:e.date}:e)),g(null)):l([...t,a]),i({title:"",content:"",voice:e.defaultVoice,language:e.defaultLanguage,repeatCount:e.defaultRepeatCount||1}),n(!1)},className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-foreground mb-1 block",children:"Title"}),(0,s.jsx)("input",{type:"text",value:o.title,onChange:e=>i({...o,title:e.target.value}),className:"w-full p-2 border border-border rounded-lg bg-background",placeholder:"Announcement title",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-foreground mb-1 block",children:"Message"}),(0,s.jsx)("textarea",{value:o.content,onChange:e=>i({...o,content:e.target.value}),className:"w-full p-2 border border-border rounded-lg bg-background",placeholder:"Write announcement message",rows:4,required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-foreground mb-1 block",children:"Voice"}),(0,s.jsx)("select",{value:o.voice,onChange:e=>i({...o,voice:e.target.value}),className:"w-full p-2 border border-border rounded-lg bg-background text-foreground",children:Object.entries(eN.VOICE_OPTIONS).map(([e,t])=>(0,s.jsx)("option",{value:e,children:t.name},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-foreground mb-1 block",children:"Language"}),(0,s.jsxs)("select",{value:o.language,onChange:e=>i({...o,language:e.target.value}),className:"w-full p-2 border border-border rounded-lg bg-background text-foreground",children:[(0,s.jsx)("option",{value:"english",children:"English"}),(0,s.jsx)("option",{value:"hausa",children:"Hausa"}),(0,s.jsx)("option",{value:"twi",children:"Twi"}),(0,s.jsx)("option",{value:"arabic",children:"Arabic"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-foreground mb-1 block",children:"Repeat Count"}),(0,s.jsx)("input",{type:"number",min:"1",max:"10",value:o.repeatCount,onChange:e=>i({...o,repeatCount:parseInt(e.target.value)||1}),className:"w-full p-2 border border-border rounded-lg bg-background",required:!0})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(ed,{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white",children:p?"Update Announcement":"Create Announcement"}),(0,s.jsx)(ed,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"})]})]})})}),(0,s.jsx)("div",{className:"space-y-3",children:t.map(e=>(0,s.jsx)(eb,{children:(0,s.jsx)(ev,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("h3",{className:"font-semibold text-foreground",children:e.title}),(0,s.jsx)(ed,{variant:"ghost",size:"icon",className:"h-6 w-6 text-foreground/40 hover:text-foreground",onClick:()=>{i({title:e.title,content:e.content,voice:e.voice,language:e.language,repeatCount:e.repeatCount||1}),g(e.id),n(!0)},children:(0,s.jsx)(eY,{className:"w-3 h-3"})})]}),(0,s.jsx)("p",{className:"text-sm text-foreground/70 mt-1",children:e.content}),(0,s.jsxs)("div",{className:"flex gap-4 text-xs text-foreground/60 mt-2",children:[(0,s.jsxs)("span",{children:["Voice: ",eN.VOICE_OPTIONS[e.voice]?.name||"Standard"]}),(0,s.jsxs)("span",{children:["Language: ",e.language]}),(0,s.jsxs)("span",{children:["Repeats: ",e.repeatCount||1]}),(0,s.jsx)("span",{children:e.date})]})]}),(0,s.jsxs)(ed,{variant:"outline",size:"sm",onClick:()=>h(e.id,e.content,e.voice,e.language,e.repeatCount||1),disabled:d===e.id,className:"gap-2",children:[(0,s.jsx)(ej,{className:"w-4 h-4"}),d===e.id?"Playing...":"Preview"]}),u===e.id&&d!==e.id&&(0,s.jsxs)(ed,{variant:"ghost",size:"sm",onClick:()=>h(e.id,e.content,e.voice,e.language,e.repeatCount||1),className:"gap-2 ml-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:[(0,s.jsx)(eQ,{className:"w-4 h-4"}),"Replay"]})]})})},e.id))})]})}var eZ=e.i(52952);function eK(){let{devices:e,addDevice:t,removeDevice:l}=(0,ew.useStore)(),[r,n]=(0,a.useState)(!1),[o,i]=(0,a.useState)({name:"",type:"esp32"});return(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsxs)("div",{className:"mb-8 flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Devices"}),(0,s.jsx)("p",{className:"text-foreground/60",children:"Manage speakers and hardware devices"})]}),(0,s.jsxs)(ed,{onClick:()=>n(!r),className:"bg-blue-600 hover:bg-blue-700 text-white gap-2",children:[(0,s.jsx)(eF,{className:"w-4 h-4"}),"Add Device"]})]}),r&&(0,s.jsx)(eb,{className:"mb-6",children:(0,s.jsx)(ev,{className:"pt-6",children:(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o.name&&(t({id:Date.now().toString(),name:o.name,type:o.type,status:"online",lastSeen:new Date().toISOString()}),i({name:"",type:"esp32"}),n(!1))},className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-foreground mb-1 block",children:"Device Name"}),(0,s.jsx)(eR,{value:o.name,onChange:e=>i({...o,name:e.target.value}),placeholder:"e.g., Office Speaker"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-foreground mb-1 block",children:"Device Type"}),(0,s.jsxs)("select",{value:o.type,onChange:e=>i({...o,type:e.target.value}),className:"w-full p-2 border border-border rounded-lg bg-background",children:[(0,s.jsx)("option",{value:"esp32",children:"ESP32 + DFPlayer"}),(0,s.jsx)("option",{value:"raspberry-pi",children:"Raspberry Pi"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(ed,{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white",children:"Add Device"}),(0,s.jsx)(ed,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"})]})]})})}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:0===e.length?(0,s.jsx)(eb,{className:"col-span-full",children:(0,s.jsx)(ev,{className:"pt-6 text-center text-foreground/60",children:"No devices paired yet."})}):e.map(e=>(0,s.jsx)(eb,{children:(0,s.jsxs)(ev,{className:"pt-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-foreground",children:e.name}),(0,s.jsx)("p",{className:"text-xs text-foreground/60 capitalize",children:e.type.replace("-"," ")})]}),(0,s.jsx)(ed,{variant:"ghost",size:"sm",onClick:()=>l(e.id),className:"text-red-600",children:(0,s.jsx)(eU,{className:"w-4 h-4"})})]}),(0,s.jsx)("div",{className:"flex items-center gap-2 mb-2",children:"online"===e.status?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Wifi,{className:"w-4 h-4 text-green-600"}),(0,s.jsx)("span",{className:"text-sm text-green-600 font-semibold",children:"Online"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eZ.WifiOff,{className:"w-4 h-4 text-red-600"}),(0,s.jsx)("span",{className:"text-sm text-red-600 font-semibold",children:"Offline"})]})}),(0,s.jsxs)("p",{className:"text-xs text-foreground/50",children:["Last seen: ",new Date(e.lastSeen).toLocaleDateString()]})]})},e.id))}),(0,s.jsxs)(eb,{className:"mt-8 bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800",children:[(0,s.jsx)(ex,{children:(0,s.jsx)(ef,{className:"text-blue-900 dark:text-blue-100",children:"Offline Mode Support"})}),(0,s.jsxs)(ev,{className:"text-blue-800 dark:text-blue-100 space-y-2",children:[(0,s.jsx)("p",{children:"‚úì All devices store schedules locally"}),(0,s.jsx)("p",{children:"‚úì Bells ring automatically even without internet"}),(0,s.jsx)("p",{children:"‚úì Student name calls queued and played when online"})]})]})]})}function eX(){let{callRequests:e,timetables:t,clearCallRequests:l}=(0,ew.useStore)(),a=[...t.map(e=>({id:e.id,type:"bell",message:`${e.name} triggered`,timestamp:new Date().toISOString(),status:"success"})),...e.map(e=>({id:e.id,type:"student-call",message:e.message,timestamp:e.timestamp,status:e.status}))].sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime());return(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsxs)("div",{className:"mb-8 flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Logs & Reports"}),(0,s.jsx)("p",{className:"text-foreground/60",children:"Activity history and system events"})]}),a.length>0&&(0,s.jsxs)(ed,{onClick:()=>{window.confirm("Are you sure you want to clear all logs? This cannot be undone.")&&l()},className:"bg-red-600 hover:bg-red-700 text-white gap-2",children:[(0,s.jsx)(eU,{className:"w-4 h-4"}),"Clear All Logs"]})]}),(0,s.jsxs)(eb,{children:[(0,s.jsx)(ex,{children:(0,s.jsx)(ef,{children:"Recent Activity"})}),(0,s.jsx)(ev,{children:0===a.length?(0,s.jsx)("p",{className:"text-foreground/60 text-center py-8",children:"No activity yet"}):(0,s.jsx)("div",{className:"space-y-3",children:a.map(e=>(0,s.jsxs)("div",{className:"flex justify-between items-start pb-3 border-b border-border last:border-b-0",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-semibold text-foreground capitalize",children:"bell"===e.type?"Bell":"Student Call"}),(0,s.jsx)("p",{className:"text-sm text-foreground/70 mt-1",children:e.message})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("span",{className:`text-xs px-2 py-1 rounded-full ${"success"===e.status||"played"===e.status?"bg-green-100 text-green-800 dark:bg-green-950 dark:text-green-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-950 dark:text-yellow-200"}`,children:e.status}),(0,s.jsx)("p",{className:"text-xs text-foreground/50 mt-1",children:new Date(e.timestamp).toLocaleTimeString()})]})]},e.id))})})]})]})}let e0=(0,r.default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),e1=(0,r.default)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),e2=(0,r.default)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),e4=0,e6=new Map,e3=e=>{if(e6.has(e))return;let t=setTimeout(()=>{e6.delete(e),e7({type:"REMOVE_TOAST",toastId:e})},1e6);e6.set(e,t)},e5=[],e8={toasts:[]};function e7(e){e8=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:l}=t;return l?e3(l):e.toasts.forEach(e=>{e3(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===l||void 0===l?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(e8,e),e5.forEach(e=>{e(e8)})}function e9({...e}){let t=(e4=(e4+1)%Number.MAX_SAFE_INTEGER).toString(),l=()=>e7({type:"DISMISS_TOAST",toastId:t});return e7({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||l()}}}),{id:t,dismiss:l,update:e=>e7({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function te({category:e="general",onAudioSelect:t,selectedAudioId:l}){let[r,n]=(0,a.useState)([]),[o,i]=(0,a.useState)(!1),[d,c]=(0,a.useState)(null),[u,m]=(0,a.useState)(!1),p=(0,a.useRef)(null),g=(0,a.useRef)(null),{toast:h}=function(){let[e,t]=a.useState(e8);return a.useEffect(()=>(e5.push(t),()=>{let e=e5.indexOf(t);e>-1&&e5.splice(e,1)}),[e]),{...e,toast:e9,dismiss:e=>e7({type:"DISMISS_TOAST",toastId:e})}}();(0,a.useEffect)(()=>{b()},[e]);let b=async()=>{try{let t=await eT.audioStorage.listAudios(e);n(t.sort((e,t)=>new Date(t.uploadDate).getTime()-new Date(e.uploadDate).getTime()))}catch(e){console.error("Failed to load audios:",e),h({title:"Error",description:"Failed to load audio files",variant:"destructive"})}},x=async t=>{if(!t||0===t.length)return;let l=t[0],s="."+l.name.split(".").pop()?.toLowerCase();if(!["audio/mpeg","audio/mp3","audio/wav","audio/x-wav","audio/wave","audio/ogg","audio/mp4","audio/x-m4a","audio/aac","audio/webm","audio/flac"].includes(l.type)&&![".mp3",".wav",".ogg",".m4a",".mp4",".aac",".webm",".flac"].includes(s)){console.error("Invalid file type:",l.type,"Extension:",s),h({title:"Invalid File",description:`File type ${l.type||"unknown"} not supported. Please upload an audio file.`,variant:"destructive"});return}if(l.size>0xa00000)return void h({title:"File Too Large",description:"Please upload a file smaller than 10MB",variant:"destructive"});i(!0);try{await eT.audioStorage.saveAudio(l,e),h({title:"Success",description:`${l.name} uploaded successfully`}),await b()}catch(e){console.error("Upload failed:",e),h({title:"Upload Failed",description:"Failed to save audio file",variant:"destructive"})}finally{i(!1),p.current&&(p.current.value="")}},f=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?m(!0):"dragleave"===e.type&&m(!1)},y=async e=>{try{if(g.current&&(g.current.pause(),g.current=null),d===e.id)return void c(null);let t=await eT.audioStorage.getAudio(e.id);if(!t)return;let l=URL.createObjectURL(t.audioBlob),s=new Audio(l);s.onended=()=>{c(null),URL.revokeObjectURL(l)},s.onerror=()=>{c(null),URL.revokeObjectURL(l),h({title:"Playback Error",description:"Failed to play audio file",variant:"destructive"})},g.current=s,c(e.id),await s.play()}catch(e){console.error("Playback failed:",e),c(null)}},v=async e=>{if(confirm("Are you sure you want to delete this audio file?"))try{await eT.audioStorage.deleteAudio(e),h({title:"Deleted",description:"Audio file deleted successfully"}),await b(),d===e&&(g.current?.pause(),c(null))}catch(e){console.error("Delete failed:",e),h({title:"Error",description:"Failed to delete audio file",variant:"destructive"})}},j=async()=>{try{let e=await eT.audioStorage.exportAll(),t=URL.createObjectURL(e),l=document.createElement("a");l.href=t,l.download=`school-bell-audio-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(t),h({title:"Export Successful",description:"Audio files exported successfully"})}catch(e){console.error("Export failed:",e),h({title:"Export Failed",description:"Failed to export audio files",variant:"destructive"})}},w=async e=>{if(!e||0===e.length)return;let t=e[0];if("application/json"!==t.type)return void h({title:"Invalid File",description:"Please select a valid backup JSON file",variant:"destructive"});try{let e=await eT.audioStorage.importAll(t);h({title:"Import Successful",description:`Imported ${e} audio file(s)`}),await b()}catch(e){console.error("Import failed:",e),h({title:"Import Failed",description:"Failed to import audio files",variant:"destructive"})}};return(0,s.jsxs)(eb,{children:[(0,s.jsxs)(ex,{children:[(0,s.jsx)(ef,{children:"Audio Library"}),(0,s.jsx)(ey,{children:"Upload and manage custom audio files for announcements and bells"})]}),(0,s.jsxs)(ev,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:eo("border-2 border-dashed rounded-lg p-8 text-center transition-colors",u?"border-primary bg-primary/5":"border-muted-foreground/25",o&&"opacity-50 pointer-events-none"),onDragEnter:f,onDragLeave:f,onDragOver:f,onDrop:e=>{e.preventDefault(),e.stopPropagation(),m(!1),x(e.dataTransfer.files)},children:[(0,s.jsx)(e0,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),(0,s.jsx)("p",{className:"text-sm font-medium mb-2",children:"Drag and drop audio file here, or click to browse"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mb-4",children:"Supports MP3, WAV, OGG, M4A (max 10MB)"}),(0,s.jsx)("input",{ref:p,type:"file",accept:"audio/mpeg,audio/wav,audio/ogg,audio/mp4,audio/x-m4a",onChange:e=>x(e.target.files),className:"hidden"}),(0,s.jsx)(ed,{onClick:()=>p.current?.click(),disabled:o,children:o?"Uploading...":"Select File"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(ed,{variant:"outline",size:"sm",onClick:j,disabled:0===r.length,children:[(0,s.jsx)(eM,{className:"w-4 h-4 mr-2"}),"Export All"]}),(0,s.jsxs)(ed,{variant:"outline",size:"sm",onClick:()=>{let e=document.createElement("input");e.type="file",e.accept="application/json",e.onchange=e=>w(e.target.files),e.click()},children:[(0,s.jsx)(e0,{className:"w-4 h-4 mr-2"}),"Import Backup"]})]}),(0,s.jsx)("div",{className:"space-y-2",children:0===r.length?(0,s.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,s.jsx)(eH,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,s.jsx)("p",{className:"text-sm",children:"No audio files uploaded yet"})]}):r.map(e=>{var a,r;let n,o;return(0,s.jsxs)("div",{className:eo("flex items-center gap-3 p-3 rounded-lg border transition-colors",l===e.id?"border-primary bg-primary/5":"border-border",t&&"cursor-pointer hover:bg-muted/50"),onClick:()=>t?.(e.id),children:[(0,s.jsx)(eH,{className:"w-8 h-8 text-muted-foreground flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"font-medium truncate",children:e.name}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(n=Math.floor((a=e.duration)/60),o=Math.floor(a%60),`${n}:${o.toString().padStart(2,"0")}`)," ‚Ä¢ ",(r=e.fileSize)<1024?r+" B":r<1048576?(r/1024).toFixed(1)+" KB":(r/1048576).toFixed(1)+" MB"]})]}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)(ed,{variant:"ghost",size:"icon",onClick:t=>{t.stopPropagation(),y(e)},children:d===e.id?(0,s.jsx)(e2,{className:"w-4 h-4"}):(0,s.jsx)(e1,{className:"w-4 h-4"})}),(0,s.jsx)(ed,{variant:"ghost",size:"icon",onClick:t=>{t.stopPropagation(),v(e.id)},children:(0,s.jsx)(eU,{className:"w-4 h-4"})})]})]},e.id)})})]})]})}function tt(){let{settings:e,updateSettings:t}=(0,ew.useStore)(),[l,r]=(0,a.useState)(e),[n,o]=(0,a.useState)([]);return(0,a.useEffect)(()=>{(async()=>{o(await eT.audioStorage.listAudios())})()},[]),(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"System Settings"}),(0,s.jsx)("p",{className:"text-foreground/60",children:"Configure voices, languages, and Islamic prayer times"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)(eb,{children:[(0,s.jsx)(ex,{children:(0,s.jsxs)(ef,{className:"flex items-center gap-2",children:[(0,s.jsx)(ej,{className:"w-5 h-5"}),"Default Voice & Language"]})}),(0,s.jsxs)(ev,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-foreground mb-2 block",children:"Default Voice"}),(0,s.jsx)("select",{value:l.defaultVoice,onChange:e=>r({...l,defaultVoice:e.target.value}),className:"w-full p-2 border border-border rounded-lg bg-background text-foreground",children:Object.entries(eN.VOICE_OPTIONS).map(([e,t])=>(0,s.jsx)("option",{value:e,children:t.name},e))}),(0,s.jsx)("p",{className:"text-xs text-foreground/60 mt-2",children:eN.VOICE_OPTIONS[l.defaultVoice].description})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-foreground mb-2 block",children:"Default Language"}),(0,s.jsxs)("select",{value:l.defaultLanguage,onChange:e=>r({...l,defaultLanguage:e.target.value}),className:"w-full p-2 border border-border rounded-lg bg-background text-foreground",children:[(0,s.jsx)("option",{value:"english",children:"English"}),(0,s.jsx)("option",{value:"hausa",children:"Hausa"}),(0,s.jsx)("option",{value:"twi",children:"Twi"}),(0,s.jsx)("option",{value:"arabic",children:"Arabic"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-foreground mb-2 block",children:"Default Repeat Count"}),(0,s.jsx)("input",{type:"number",min:"1",max:"10",value:l.defaultRepeatCount,onChange:e=>r({...l,defaultRepeatCount:parseInt(e.target.value)||1}),className:"w-full p-2 border border-border rounded-lg bg-background text-foreground"})]})]})]}),(0,s.jsxs)(eb,{children:[(0,s.jsx)(ex,{children:(0,s.jsxs)(ef,{className:"flex items-center gap-2",children:[(0,s.jsx)(p,{className:"w-5 h-5"}),"Islamic Prayer Times (Azan)"]})}),(0,s.jsxs)(ev,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,s.jsx)("input",{type:"checkbox",checked:l.azanEnabled,onChange:e=>r({...l,azanEnabled:e.target.checked}),className:"w-4 h-4"}),(0,s.jsx)("label",{className:"text-sm font-semibold text-foreground",children:"Enable Azan (Islamic Call to Prayer)"})]}),l.azanEnabled&&l.prayerTimes&&(0,s.jsx)("div",{className:"space-y-3",children:Object.entries(l.prayerTimes).map(([e,t])=>(0,s.jsxs)("div",{className:"p-3 border border-border rounded-lg bg-background/50",children:[(0,s.jsx)("div",{className:"flex justify-between items-center mb-2",children:(0,s.jsxs)("label",{className:"text-sm font-semibold text-foreground capitalize",children:[e," Time"]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs text-foreground/60 mb-1 block",children:"Time"}),(0,s.jsx)("input",{type:"time",value:t,onChange:t=>r({...l,prayerTimes:{...l.prayerTimes,[e]:t.target.value}}),className:"w-full p-2 border border-border rounded-lg bg-background text-foreground"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs text-foreground/60 mb-1 block",children:"Custom Audio (Optional)"}),(0,s.jsxs)("select",{value:l.prayerAudioIds?.[e]||"",onChange:t=>r({...l,prayerAudioIds:{...l.prayerAudioIds,[e]:t.target.value||void 0}}),className:"w-full p-2 border border-border rounded-lg bg-background text-foreground",children:[(0,s.jsx)("option",{value:"",children:"Default Azan"}),n.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]})]},e))})]})]})]}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsxs)(eb,{children:[(0,s.jsx)(ex,{children:(0,s.jsxs)(ef,{className:"flex items-center gap-2",children:[(0,s.jsx)(eB,{className:"w-5 h-5"}),"Custom Audio Library"]})}),(0,s.jsxs)(ev,{children:[(0,s.jsx)("p",{className:"text-sm text-foreground/60 mb-4",children:"Upload your own voice recordings or custom sounds to use in timetables and announcements. Files are stored locally in your browser."}),(0,s.jsx)(te,{})]})]})}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsxs)(eb,{children:[(0,s.jsx)(ex,{children:(0,s.jsxs)(ef,{className:"flex items-center gap-2",children:[(0,s.jsx)(d.Wifi,{className:"w-5 h-5"}),"Background & Offline"]})}),(0,s.jsxs)(ev,{children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"background-mode",className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary",checked:l.backgroundEnabled??!1,onChange:e=>r({...l,backgroundEnabled:e.target.checked})}),(0,s.jsx)("label",{htmlFor:"background-mode",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Enable background bell playback (runs when app is closed)"})]}),(0,s.jsx)("p",{className:"text-xs text-foreground/60 mt-2 ml-6",children:"Allows the bell system to run in the background using a Service Worker. Requires permission."})]})]})}),(0,s.jsxs)("div",{className:"mt-8 flex gap-3",children:[(0,s.jsxs)(ed,{onClick:()=>{t(l),alert("Settings saved successfully!")},className:"bg-green-600 hover:bg-green-700 text-white",children:[(0,s.jsx)(u,{className:"w-4 h-4 mr-2"}),"Save Settings"]}),(0,s.jsx)(ed,{variant:"outline",onClick:()=>r(e),children:"Cancel"})]})]})}function tl(){let[e,t]=(0,a.useState)("dashboard"),[l,r]=(0,a.useState)(!1);return(0,s.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,s.jsx)(ec,{currentPage:e,setCurrentPage:t}),(0,s.jsx)(eg,{onMenuToggle:()=>r(!l),isMenuOpen:l,currentPage:e}),(0,s.jsx)(eh,{currentPage:e,setCurrentPage:t,isOpen:l,onClose:()=>r(!1)}),(0,s.jsx)("main",{className:"flex-1 overflow-auto pt-16 lg:pt-0",children:(()=>{switch(e){case"dashboard":default:return(0,s.jsx)(eV,{});case"timetable":return(0,s.jsx)(e_,{});case"students":return(0,s.jsx)(eW,{});case"call-student":return(0,s.jsx)(eG,{});case"announcements":return(0,s.jsx)(eJ,{});case"devices":return(0,s.jsx)(eK,{});case"logs":return(0,s.jsx)(eX,{});case"settings":return(0,s.jsx)(tt,{})}})()})]})}e.s(["default",()=>tl],33985)}]);